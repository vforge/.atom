'use strict';

var cov_16sn15whgf = function () {
  var path = '/Users/hansonw/atom-ide-ui/modules/atom-ide-ui/pkg/atom-ide-diagnostics/lib/services/LinterAdapter.js',
      hash = '8977dc1053ebfaf809de7c554ffa26fdb1a721fb',
      global = new Function('return this')(),
      gcv = '__coverage__',
      coverageData = {
    path: '/Users/hansonw/atom-ide-ui/modules/atom-ide-ui/pkg/atom-ide-diagnostics/lib/services/LinterAdapter.js',
    statementMap: {
      '0': {
        start: {
          line: 45,
          column: 16
        },
        end: {
          line: 47,
          column: 15
        }
      },
      '1': {
        start: {
          line: 46,
          column: 34
        },
        end: {
          line: 46,
          column: 48
        }
      },
      '2': {
        start: {
          line: 48,
          column: 15
        },
        end: {
          line: 48,
          column: 42
        }
      },
      '3': {
        start: {
          line: 50,
          column: 2
        },
        end: {
          line: 80,
          column: 3
        }
      },
      '4': {
        start: {
          line: 51,
          column: 18
        },
        end: {
          line: 51,
          column: 21
        }
      },
      '5': {
        start: {
          line: 52,
          column: 4
        },
        end: {
          line: 69,
          column: 30
        }
      },
      '6': {
        start: {
          line: 71,
          column: 4
        },
        end: {
          line: 79,
          column: 33
        }
      },
      '7': {
        start: {
          line: 85,
          column: 2
        },
        end: {
          line: 95,
          column: 3
        }
      },
      '8': {
        start: {
          line: 88,
          column: 6
        },
        end: {
          line: 88,
          column: 21
        }
      },
      '9': {
        start: {
          line: 91,
          column: 6
        },
        end: {
          line: 91,
          column: 23
        }
      },
      '10': {
        start: {
          line: 94,
          column: 6
        },
        end: {
          line: 94,
          column: 20
        }
      },
      '11': {
        start: {
          line: 96,
          column: 2
        },
        end: {
          line: 96,
          column: 17
        }
      },
      '12': {
        start: {
          line: 105,
          column: 2
        },
        end: {
          line: 120,
          column: 3
        }
      },
      '13': {
        start: {
          line: 106,
          column: 4
        },
        end: {
          line: 106,
          column: 57
        }
      },
      '14': {
        start: {
          line: 106,
          column: 40
        },
        end: {
          line: 106,
          column: 54
        }
      },
      '15': {
        start: {
          line: 107,
          column: 9
        },
        end: {
          line: 120,
          column: 3
        }
      },
      '16': {
        start: {
          line: 109,
          column: 6
        },
        end: {
          line: 111,
          column: 14
        }
      },
      '17': {
        start: {
          line: 112,
          column: 4
        },
        end: {
          line: 119,
          column: 6
        }
      },
      '18': {
        start: {
          line: 123,
          column: 22
        },
        end: {
          line: 123,
          column: 25
        }
      },
      '19': {
        start: {
          line: 124,
          column: 2
        },
        end: {
          line: 135,
          column: 3
        }
      },
      '20': {
        start: {
          line: 125,
          column: 21
        },
        end: {
          line: 125,
          column: 33
        }
      },
      '21': {
        start: {
          line: 126,
          column: 4
        },
        end: {
          line: 133,
          column: 5
        }
      },
      '22': {
        start: {
          line: 127,
          column: 6
        },
        end: {
          line: 132,
          column: 8
        }
      },
      '23': {
        start: {
          line: 136,
          column: 13
        },
        end: {
          line: 136,
          column: 24
        }
      },
      '24': {
        start: {
          line: 138,
          column: 2
        },
        end: {
          line: 140,
          column: 3
        }
      },
      '25': {
        start: {
          line: 139,
          column: 4
        },
        end: {
          line: 139,
          column: 41
        }
      },
      '26': {
        start: {
          line: 141,
          column: 2
        },
        end: {
          line: 151,
          column: 4
        }
      },
      '27': {
        start: {
          line: 162,
          column: 6
        },
        end: {
          line: 162,
          column: 15
        }
      },
      '28': {
        start: {
          line: 164,
          column: 2
        },
        end: {
          line: 169,
          column: 3
        }
      },
      '29': {
        start: {
          line: 168,
          column: 4
        },
        end: {
          line: 168,
          column: 44
        }
      },
      '30': {
        start: {
          line: 170,
          column: 26
        },
        end: {
          line: 170,
          column: 28
        }
      },
      '31': {
        start: {
          line: 171,
          column: 2
        },
        end: {
          line: 188,
          column: 3
        }
      },
      '32': {
        start: {
          line: 173,
          column: 6
        },
        end: {
          line: 175,
          column: 61
        }
      },
      '33': {
        start: {
          line: 176,
          column: 4
        },
        end: {
          line: 187,
          column: 5
        }
      },
      '34': {
        start: {
          line: 177,
          column: 19
        },
        end: {
          line: 177,
          column: 45
        }
      },
      '35': {
        start: {
          line: 178,
          column: 21
        },
        end: {
          line: 178,
          column: 49
        }
      },
      '36': {
        start: {
          line: 179,
          column: 6
        },
        end: {
          line: 182,
          column: 7
        }
      },
      '37': {
        start: {
          line: 180,
          column: 8
        },
        end: {
          line: 180,
          column: 22
        }
      },
      '38': {
        start: {
          line: 181,
          column: 8
        },
        end: {
          line: 181,
          column: 47
        }
      },
      '39': {
        start: {
          line: 183,
          column: 6
        },
        end: {
          line: 183,
          column: 39
        }
      },
      '40': {
        start: {
          line: 186,
          column: 6
        },
        end: {
          line: 186,
          column: 46
        }
      },
      '41': {
        start: {
          line: 189,
          column: 2
        },
        end: {
          line: 192,
          column: 4
        }
      },
      '42': {
        start: {
          line: 210,
          column: 4
        },
        end: {
          line: 210,
          column: 30
        }
      },
      '43': {
        start: {
          line: 211,
          column: 4
        },
        end: {
          line: 211,
          column: 34
        }
      },
      '44': {
        start: {
          line: 212,
          column: 4
        },
        end: {
          line: 212,
          column: 40
        }
      },
      '45': {
        start: {
          line: 213,
          column: 4
        },
        end: {
          line: 269,
          column: 6
        }
      },
      '46': {
        start: {
          line: 225,
          column: 20
        },
        end: {
          line: 225,
          column: 38
        }
      },
      '47': {
        start: {
          line: 226,
          column: 20
        },
        end: {
          line: 226,
          column: 26
        }
      },
      '48': {
        start: {
          line: 229,
          column: 12
        },
        end: {
          line: 232,
          column: 21
        }
      },
      '49': {
        start: {
          line: 231,
          column: 14
        },
        end: {
          line: 231,
          column: 42
        }
      },
      '50': {
        start: {
          line: 236,
          column: 10
        },
        end: {
          line: 264,
          column: 14
        }
      },
      '51': {
        start: {
          line: 243,
          column: 14
        },
        end: {
          line: 245,
          column: 15
        }
      },
      '52': {
        start: {
          line: 244,
          column: 16
        },
        end: {
          line: 244,
          column: 43
        }
      },
      '53': {
        start: {
          line: 246,
          column: 27
        },
        end: {
          line: 246,
          column: 43
        }
      },
      '54': {
        start: {
          line: 248,
          column: 16
        },
        end: {
          line: 248,
          column: 71
        }
      },
      '55': {
        start: {
          line: 249,
          column: 14
        },
        end: {
          line: 257,
          column: 16
        }
      },
      '56': {
        start: {
          line: 251,
          column: 18
        },
        end: {
          line: 255,
          column: 19
        }
      },
      '57': {
        start: {
          line: 256,
          column: 22
        },
        end: {
          line: 256,
          column: 43
        }
      },
      '58': {
        start: {
          line: 261,
          column: 36
        },
        end: {
          line: 261,
          column: 68
        }
      },
      '59': {
        start: {
          line: 267,
          column: 10
        },
        end: {
          line: 267,
          column: 49
        }
      },
      '60': {
        start: {
          line: 273,
          column: 4
        },
        end: {
          line: 296,
          column: 7
        }
      },
      '61': {
        start: {
          line: 274,
          column: 26
        },
        end: {
          line: 274,
          column: 53
        }
      },
      '62': {
        start: {
          line: 275,
          column: 6
        },
        end: {
          line: 277,
          column: 7
        }
      },
      '63': {
        start: {
          line: 276,
          column: 8
        },
        end: {
          line: 276,
          column: 34
        }
      },
      '64': {
        start: {
          line: 278,
          column: 6
        },
        end: {
          line: 285,
          column: 9
        }
      },
      '65': {
        start: {
          line: 280,
          column: 8
        },
        end: {
          line: 283,
          column: 10
        }
      },
      '66': {
        start: {
          line: 284,
          column: 8
        },
        end: {
          line: 284,
          column: 20
        }
      },
      '67': {
        start: {
          line: 287,
          column: 6
        },
        end: {
          line: 289,
          column: 7
        }
      },
      '68': {
        start: {
          line: 288,
          column: 8
        },
        end: {
          line: 288,
          column: 34
        }
      },
      '69': {
        start: {
          line: 290,
          column: 21
        },
        end: {
          line: 294,
          column: 7
        }
      },
      '70': {
        start: {
          line: 295,
          column: 6
        },
        end: {
          line: 295,
          column: 35
        }
      },
      '71': {
        start: {
          line: 303,
          column: 4
        },
        end: {
          line: 308,
          column: 5
        }
      },
      '72': {
        start: {
          line: 304,
          column: 6
        },
        end: {
          line: 307,
          column: 9
        }
      },
      '73': {
        start: {
          line: 309,
          column: 4
        },
        end: {
          line: 311,
          column: 5
        }
      },
      '74': {
        start: {
          line: 310,
          column: 6
        },
        end: {
          line: 310,
          column: 33
        }
      },
      '75': {
        start: {
          line: 315,
          column: 4
        },
        end: {
          line: 315,
          column: 32
        }
      },
      '76': {
        start: {
          line: 316,
          column: 4
        },
        end: {
          line: 316,
          column: 29
        }
      },
      '77': {
        start: {
          line: 317,
          column: 4
        },
        end: {
          line: 317,
          column: 35
        }
      },
      '78': {
        start: {
          line: 321,
          column: 4
        },
        end: {
          line: 321,
          column: 40
        }
      },
      '79': {
        start: {
          line: 325,
          column: 4
        },
        end: {
          line: 325,
          column: 46
        }
      }
    },
    fnMap: {
      '0': {
        name: 'linterMessageToDiagnosticMessage',
        decl: {
          start: {
            line: 37,
            column: 16
          },
          end: {
            line: 37,
            column: 48
          }
        },
        loc: {
          start: {
            line: 40,
            column: 21
          },
          end: {
            line: 81,
            column: 1
          }
        },
        line: 40
      },
      '1': {
        name: '(anonymous_1)',
        decl: {
          start: {
            line: 46,
            column: 20
          },
          end: {
            line: 46,
            column: 21
          }
        },
        loc: {
          start: {
            line: 46,
            column: 34
          },
          end: {
            line: 46,
            column: 48
          }
        },
        line: 46
      },
      '2': {
        name: 'convertLinterType',
        decl: {
          start: {
            line: 84,
            column: 9
          },
          end: {
            line: 84,
            column: 26
          }
        },
        loc: {
          start: {
            line: 84,
            column: 64
          },
          end: {
            line: 97,
            column: 1
          }
        },
        line: 84
      },
      '3': {
        name: 'linterMessageV2ToDiagnosticMessage',
        decl: {
          start: {
            line: 100,
            column: 16
          },
          end: {
            line: 100,
            column: 50
          }
        },
        loc: {
          start: {
            line: 103,
            column: 25
          },
          end: {
            line: 152,
            column: 1
          }
        },
        line: 103
      },
      '4': {
        name: '(anonymous_4)',
        decl: {
          start: {
            line: 106,
            column: 26
          },
          end: {
            line: 106,
            column: 27
          }
        },
        loc: {
          start: {
            line: 106,
            column: 40
          },
          end: {
            line: 106,
            column: 54
          }
        },
        line: 106
      },
      '5': {
        name: 'linterMessagesToDiagnosticUpdate',
        decl: {
          start: {
            line: 154,
            column: 16
          },
          end: {
            line: 154,
            column: 48
          }
        },
        loc: {
          start: {
            line: 158,
            column: 28
          },
          end: {
            line: 193,
            column: 1
          }
        },
        line: 158
      },
      '6': {
        name: '(anonymous_6)',
        decl: {
          start: {
            line: 209,
            column: 2
          },
          end: {
            line: 209,
            column: 3
          }
        },
        loc: {
          start: {
            line: 209,
            column: 77
          },
          end: {
            line: 270,
            column: 3
          }
        },
        line: 209
      },
      '7': {
        name: '(anonymous_7)',
        decl: {
          start: {
            line: 225,
            column: 10
          },
          end: {
            line: 225,
            column: 11
          }
        },
        loc: {
          start: {
            line: 225,
            column: 20
          },
          end: {
            line: 225,
            column: 38
          }
        },
        line: 225
      },
      '8': {
        name: '(anonymous_8)',
        decl: {
          start: {
            line: 226,
            column: 10
          },
          end: {
            line: 226,
            column: 11
          }
        },
        loc: {
          start: {
            line: 226,
            column: 20
          },
          end: {
            line: 226,
            column: 26
          }
        },
        line: 226
      },
      '9': {
        name: '(anonymous_9)',
        decl: {
          start: {
            line: 227,
            column: 10
          },
          end: {
            line: 227,
            column: 11
          }
        },
        loc: {
          start: {
            line: 229,
            column: 12
          },
          end: {
            line: 232,
            column: 21
          }
        },
        line: 229
      },
      '10': {
        name: '(anonymous_10)',
        decl: {
          start: {
            line: 229,
            column: 44
          },
          end: {
            line: 229,
            column: 45
          }
        },
        loc: {
          start: {
            line: 231,
            column: 14
          },
          end: {
            line: 231,
            column: 42
          }
        },
        line: 231
      },
      '11': {
        name: '(anonymous_11)',
        decl: {
          start: {
            line: 234,
            column: 18
          },
          end: {
            line: 234,
            column: 19
          }
        },
        loc: {
          start: {
            line: 236,
            column: 10
          },
          end: {
            line: 264,
            column: 14
          }
        },
        line: 236
      },
      '12': {
        name: '(anonymous_12)',
        decl: {
          start: {
            line: 242,
            column: 23
          },
          end: {
            line: 242,
            column: 24
          }
        },
        loc: {
          start: {
            line: 242,
            column: 33
          },
          end: {
            line: 258,
            column: 13
          }
        },
        line: 242
      },
      '13': {
        name: '(anonymous_13)',
        decl: {
          start: {
            line: 250,
            column: 16
          },
          end: {
            line: 250,
            column: 17
          }
        },
        loc: {
          start: {
            line: 251,
            column: 18
          },
          end: {
            line: 255,
            column: 19
          }
        },
        line: 251
      },
      '14': {
        name: '(anonymous_14)',
        decl: {
          start: {
            line: 256,
            column: 16
          },
          end: {
            line: 256,
            column: 17
          }
        },
        loc: {
          start: {
            line: 256,
            column: 22
          },
          end: {
            line: 256,
            column: 43
          }
        },
        line: 256
      },
      '15': {
        name: '(anonymous_15)',
        decl: {
          start: {
            line: 261,
            column: 18
          },
          end: {
            line: 261,
            column: 19
          }
        },
        loc: {
          start: {
            line: 261,
            column: 36
          },
          end: {
            line: 261,
            column: 68
          }
        },
        line: 261
      },
      '16': {
        name: '(anonymous_16)',
        decl: {
          start: {
            line: 266,
            column: 19
          },
          end: {
            line: 266,
            column: 20
          }
        },
        loc: {
          start: {
            line: 267,
            column: 10
          },
          end: {
            line: 267,
            column: 49
          }
        },
        line: 267
      },
      '17': {
        name: '(anonymous_17)',
        decl: {
          start: {
            line: 272,
            column: 2
          },
          end: {
            line: 272,
            column: 3
          }
        },
        loc: {
          start: {
            line: 272,
            column: 69
          },
          end: {
            line: 297,
            column: 3
          }
        },
        line: 272
      },
      '18': {
        name: '(anonymous_18)',
        decl: {
          start: {
            line: 273,
            column: 28
          },
          end: {
            line: 273,
            column: 29
          }
        },
        loc: {
          start: {
            line: 273,
            column: 34
          },
          end: {
            line: 286,
            column: 5
          }
        },
        line: 273
      },
      '19': {
        name: '(anonymous_19)',
        decl: {
          start: {
            line: 278,
            column: 48
          },
          end: {
            line: 278,
            column: 49
          }
        },
        loc: {
          start: {
            line: 278,
            column: 57
          },
          end: {
            line: 285,
            column: 7
          }
        },
        line: 278
      },
      '20': {
        name: '(anonymous_20)',
        decl: {
          start: {
            line: 286,
            column: 17
          },
          end: {
            line: 286,
            column: 18
          }
        },
        loc: {
          start: {
            line: 286,
            column: 35
          },
          end: {
            line: 296,
            column: 5
          }
        },
        line: 286
      },
      '21': {
        name: '(anonymous_21)',
        decl: {
          start: {
            line: 299,
            column: 2
          },
          end: {
            line: 299,
            column: 3
          }
        },
        loc: {
          start: {
            line: 302,
            column: 10
          },
          end: {
            line: 312,
            column: 3
          }
        },
        line: 302
      },
      '22': {
        name: '(anonymous_22)',
        decl: {
          start: {
            line: 314,
            column: 2
          },
          end: {
            line: 314,
            column: 3
          }
        },
        loc: {
          start: {
            line: 314,
            column: 18
          },
          end: {
            line: 318,
            column: 3
          }
        },
        line: 314
      },
      '23': {
        name: '(anonymous_23)',
        decl: {
          start: {
            line: 320,
            column: 2
          },
          end: {
            line: 320,
            column: 3
          }
        },
        loc: {
          start: {
            line: 320,
            column: 53
          },
          end: {
            line: 322,
            column: 3
          }
        },
        line: 320
      },
      '24': {
        name: '(anonymous_24)',
        decl: {
          start: {
            line: 324,
            column: 2
          },
          end: {
            line: 324,
            column: 3
          }
        },
        loc: {
          start: {
            line: 324,
            column: 64
          },
          end: {
            line: 326,
            column: 3
          }
        },
        line: 324
      }
    },
    branchMap: {
      '0': {
        loc: {
          start: {
            line: 45,
            column: 16
          },
          end: {
            line: 47,
            column: 15
          }
        },
        type: 'cond-expr',
        locations: [{
          start: {
            line: 46,
            column: 6
          },
          end: {
            line: 46,
            column: 50
          }
        }, {
          start: {
            line: 47,
            column: 6
          },
          end: {
            line: 47,
            column: 15
          }
        }],
        line: 45
      },
      '1': {
        loc: {
          start: {
            line: 50,
            column: 2
          },
          end: {
            line: 80,
            column: 3
          }
        },
        type: 'if',
        locations: [{
          start: {
            line: 50,
            column: 2
          },
          end: {
            line: 80,
            column: 3
          }
        }, {
          start: {
            line: 50,
            column: 2
          },
          end: {
            line: 80,
            column: 3
          }
        }],
        line: 50
      },
      '2': {
        loc: {
          start: {
            line: 54,
            column: 20
          },
          end: {
            line: 54,
            column: 62
          }
        },
        type: 'cond-expr',
        locations: [{
          start: {
            line: 54,
            column: 39
          },
          end: {
            line: 54,
            column: 47
          }
        }, {
          start: {
            line: 54,
            column: 50
          },
          end: {
            line: 54,
            column: 62
          }
        }],
        line: 54
      },
      '3': {
        loc: {
          start: {
            line: 59,
            column: 13
          },
          end: {
            line: 59,
            column: 53
          }
        },
        type: 'binary-expr',
        locations: [{
          start: {
            line: 59,
            column: 13
          },
          end: {
            line: 59,
            column: 22
          }
        }, {
          start: {
            line: 59,
            column: 26
          },
          end: {
            line: 59,
            column: 53
          }
        }],
        line: 59
      },
      '4': {
        loc: {
          start: {
            line: 62,
            column: 8
          },
          end: {
            line: 68,
            column: 13
          }
        },
        type: 'cond-expr',
        locations: [{
          start: {
            line: 63,
            column: 12
          },
          end: {
            line: 63,
            column: 21
          }
        }, {
          start: {
            line: 64,
            column: 12
          },
          end: {
            line: 68,
            column: 13
          }
        }],
        line: 62
      },
      '5': {
        loc: {
          start: {
            line: 73,
            column: 20
          },
          end: {
            line: 73,
            column: 62
          }
        },
        type: 'cond-expr',
        locations: [{
          start: {
            line: 73,
            column: 39
          },
          end: {
            line: 73,
            column: 47
          }
        }, {
          start: {
            line: 73,
            column: 50
          },
          end: {
            line: 73,
            column: 62
          }
        }],
        line: 73
      },
      '6': {
        loc: {
          start: {
            line: 77,
            column: 13
          },
          end: {
            line: 77,
            column: 53
          }
        },
        type: 'binary-expr',
        locations: [{
          start: {
            line: 77,
            column: 13
          },
          end: {
            line: 77,
            column: 22
          }
        }, {
          start: {
            line: 77,
            column: 26
          },
          end: {
            line: 77,
            column: 53
          }
        }],
        line: 77
      },
      '7': {
        loc: {
          start: {
            line: 85,
            column: 2
          },
          end: {
            line: 95,
            column: 3
          }
        },
        type: 'switch',
        locations: [{
          start: {
            line: 86,
            column: 4
          },
          end: {
            line: 86,
            column: 17
          }
        }, {
          start: {
            line: 87,
            column: 4
          },
          end: {
            line: 88,
            column: 21
          }
        }, {
          start: {
            line: 89,
            column: 4
          },
          end: {
            line: 89,
            column: 19
          }
        }, {
          start: {
            line: 90,
            column: 4
          },
          end: {
            line: 91,
            column: 23
          }
        }, {
          start: {
            line: 92,
            column: 4
          },
          end: {
            line: 92,
            column: 16
          }
        }, {
          start: {
            line: 93,
            column: 4
          },
          end: {
            line: 94,
            column: 20
          }
        }],
        line: 85
      },
      '8': {
        loc: {
          start: {
            line: 105,
            column: 2
          },
          end: {
            line: 120,
            column: 3
          }
        },
        type: 'if',
        locations: [{
          start: {
            line: 105,
            column: 2
          },
          end: {
            line: 120,
            column: 3
          }
        }, {
          start: {
            line: 105,
            column: 2
          },
          end: {
            line: 120,
            column: 3
          }
        }],
        line: 105
      },
      '9': {
        loc: {
          start: {
            line: 107,
            column: 9
          },
          end: {
            line: 120,
            column: 3
          }
        },
        type: 'if',
        locations: [{
          start: {
            line: 107,
            column: 9
          },
          end: {
            line: 120,
            column: 3
          }
        }, {
          start: {
            line: 107,
            column: 9
          },
          end: {
            line: 120,
            column: 3
          }
        }],
        line: 107
      },
      '10': {
        loc: {
          start: {
            line: 109,
            column: 6
          },
          end: {
            line: 111,
            column: 14
          }
        },
        type: 'cond-expr',
        locations: [{
          start: {
            line: 110,
            column: 10
          },
          end: {
            line: 110,
            column: 50
          }
        }, {
          start: {
            line: 111,
            column: 10
          },
          end: {
            line: 111,
            column: 14
          }
        }],
        line: 109
      },
      '11': {
        loc: {
          start: {
            line: 117,
            column: 15
          },
          end: {
            line: 117,
            column: 58
          }
        },
        type: 'cond-expr',
        locations: [{
          start: {
            line: 117,
            column: 23
          },
          end: {
            line: 117,
            column: 46
          }
        }, {
          start: {
            line: 117,
            column: 49
          },
          end: {
            line: 117,
            column: 58
          }
        }],
        line: 117
      },
      '12': {
        loc: {
          start: {
            line: 124,
            column: 2
          },
          end: {
            line: 135,
            column: 3
          }
        },
        type: 'if',
        locations: [{
          start: {
            line: 124,
            column: 2
          },
          end: {
            line: 135,
            column: 3
          }
        }, {
          start: {
            line: 124,
            column: 2
          },
          end: {
            line: 135,
            column: 3
          }
        }],
        line: 124
      },
      '13': {
        loc: {
          start: {
            line: 124,
            column: 6
          },
          end: {
            line: 124,
            column: 47
          }
        },
        type: 'binary-expr',
        locations: [{
          start: {
            line: 124,
            column: 6
          },
          end: {
            line: 124,
            column: 23
          }
        }, {
          start: {
            line: 124,
            column: 27
          },
          end: {
            line: 124,
            column: 47
          }
        }],
        line: 124
      },
      '14': {
        loc: {
          start: {
            line: 126,
            column: 4
          },
          end: {
            line: 133,
            column: 5
          }
        },
        type: 'if',
        locations: [{
          start: {
            line: 126,
            column: 4
          },
          end: {
            line: 133,
            column: 5
          }
        }, {
          start: {
            line: 126,
            column: 4
          },
          end: {
            line: 133,
            column: 5
          }
        }],
        line: 126
      },
      '15': {
        loc: {
          start: {
            line: 138,
            column: 2
          },
          end: {
            line: 140,
            column: 3
          }
        },
        type: 'if',
        locations: [{
          start: {
            line: 138,
            column: 2
          },
          end: {
            line: 140,
            column: 3
          }
        }, {
          start: {
            line: 138,
            column: 2
          },
          end: {
            line: 140,
            column: 3
          }
        }],
        line: 138
      },
      '16': {
        loc: {
          start: {
            line: 144,
            column: 18
          },
          end: {
            line: 144,
            column: 48
          }
        },
        type: 'binary-expr',
        locations: [{
          start: {
            line: 144,
            column: 18
          },
          end: {
            line: 144,
            column: 32
          }
        }, {
          start: {
            line: 144,
            column: 36
          },
          end: {
            line: 144,
            column: 48
          }
        }],
        line: 144
      },
      '17': {
        loc: {
          start: {
            line: 164,
            column: 2
          },
          end: {
            line: 169,
            column: 3
          }
        },
        type: 'if',
        locations: [{
          start: {
            line: 164,
            column: 2
          },
          end: {
            line: 169,
            column: 3
          }
        }, {
          start: {
            line: 164,
            column: 2
          },
          end: {
            line: 169,
            column: 3
          }
        }],
        line: 164
      },
      '18': {
        loc: {
          start: {
            line: 173,
            column: 6
          },
          end: {
            line: 175,
            column: 61
          }
        },
        type: 'cond-expr',
        locations: [{
          start: {
            line: 174,
            column: 10
          },
          end: {
            line: 174,
            column: 63
          }
        }, {
          start: {
            line: 175,
            column: 10
          },
          end: {
            line: 175,
            column: 61
          }
        }],
        line: 173
      },
      '19': {
        loc: {
          start: {
            line: 176,
            column: 4
          },
          end: {
            line: 187,
            column: 5
          }
        },
        type: 'if',
        locations: [{
          start: {
            line: 176,
            column: 4
          },
          end: {
            line: 187,
            column: 5
          }
        }, {
          start: {
            line: 176,
            column: 4
          },
          end: {
            line: 187,
            column: 5
          }
        }],
        line: 176
      },
      '20': {
        loc: {
          start: {
            line: 179,
            column: 6
          },
          end: {
            line: 182,
            column: 7
          }
        },
        type: 'if',
        locations: [{
          start: {
            line: 179,
            column: 6
          },
          end: {
            line: 182,
            column: 7
          }
        }, {
          start: {
            line: 179,
            column: 6
          },
          end: {
            line: 182,
            column: 7
          }
        }],
        line: 179
      },
      '21': {
        loc: {
          start: {
            line: 215,
            column: 8
          },
          end: {
            line: 217,
            column: 40
          }
        },
        type: 'cond-expr',
        locations: [{
          start: {
            line: 216,
            column: 12
          },
          end: {
            line: 216,
            column: 17
          }
        }, {
          start: {
            line: 217,
            column: 12
          },
          end: {
            line: 217,
            column: 40
          }
        }],
        line: 215
      },
      '22': {
        loc: {
          start: {
            line: 218,
            column: 8
          },
          end: {
            line: 220,
            column: 19
          }
        },
        type: 'cond-expr',
        locations: [{
          start: {
            line: 219,
            column: 12
          },
          end: {
            line: 219,
            column: 21
          }
        }, {
          start: {
            line: 220,
            column: 12
          },
          end: {
            line: 220,
            column: 19
          }
        }],
        line: 218
      },
      '23': {
        loc: {
          start: {
            line: 218,
            column: 8
          },
          end: {
            line: 218,
            column: 64
          }
        },
        type: 'binary-expr',
        locations: [{
          start: {
            line: 218,
            column: 8
          },
          end: {
            line: 218,
            column: 36
          }
        }, {
          start: {
            line: 218,
            column: 40
          },
          end: {
            line: 218,
            column: 64
          }
        }],
        line: 218
      },
      '24': {
        loc: {
          start: {
            line: 243,
            column: 14
          },
          end: {
            line: 245,
            column: 15
          }
        },
        type: 'if',
        locations: [{
          start: {
            line: 243,
            column: 14
          },
          end: {
            line: 245,
            column: 15
          }
        }, {
          start: {
            line: 243,
            column: 14
          },
          end: {
            line: 245,
            column: 15
          }
        }],
        line: 243
      },
      '25': {
        loc: {
          start: {
            line: 248,
            column: 16
          },
          end: {
            line: 248,
            column: 71
          }
        },
        type: 'cond-expr',
        locations: [{
          start: {
            line: 248,
            column: 31
          },
          end: {
            line: 248,
            column: 43
          }
        }, {
          start: {
            line: 248,
            column: 46
          },
          end: {
            line: 248,
            column: 71
          }
        }],
        line: 248
      },
      '26': {
        loc: {
          start: {
            line: 275,
            column: 6
          },
          end: {
            line: 277,
            column: 7
          }
        },
        type: 'if',
        locations: [{
          start: {
            line: 275,
            column: 6
          },
          end: {
            line: 277,
            column: 7
          }
        }, {
          start: {
            line: 275,
            column: 6
          },
          end: {
            line: 277,
            column: 7
          }
        }],
        line: 275
      },
      '27': {
        loc: {
          start: {
            line: 287,
            column: 6
          },
          end: {
            line: 289,
            column: 7
          }
        },
        type: 'if',
        locations: [{
          start: {
            line: 287,
            column: 6
          },
          end: {
            line: 289,
            column: 7
          }
        }, {
          start: {
            line: 287,
            column: 6
          },
          end: {
            line: 289,
            column: 7
          }
        }],
        line: 287
      },
      '28': {
        loc: {
          start: {
            line: 303,
            column: 4
          },
          end: {
            line: 308,
            column: 5
          }
        },
        type: 'if',
        locations: [{
          start: {
            line: 303,
            column: 4
          },
          end: {
            line: 308,
            column: 5
          }
        }, {
          start: {
            line: 303,
            column: 4
          },
          end: {
            line: 308,
            column: 5
          }
        }],
        line: 303
      },
      '29': {
        loc: {
          start: {
            line: 303,
            column: 8
          },
          end: {
            line: 303,
            column: 67
          }
        },
        type: 'binary-expr',
        locations: [{
          start: {
            line: 303,
            column: 8
          },
          end: {
            line: 303,
            column: 26
          }
        }, {
          start: {
            line: 303,
            column: 30
          },
          end: {
            line: 303,
            column: 67
          }
        }],
        line: 303
      },
      '30': {
        loc: {
          start: {
            line: 309,
            column: 4
          },
          end: {
            line: 311,
            column: 5
          }
        },
        type: 'if',
        locations: [{
          start: {
            line: 309,
            column: 4
          },
          end: {
            line: 311,
            column: 5
          }
        }, {
          start: {
            line: 309,
            column: 4
          },
          end: {
            line: 311,
            column: 5
          }
        }],
        line: 309
      }
    },
    s: {
      '0': 0,
      '1': 0,
      '2': 0,
      '3': 0,
      '4': 0,
      '5': 0,
      '6': 0,
      '7': 0,
      '8': 0,
      '9': 0,
      '10': 0,
      '11': 0,
      '12': 0,
      '13': 0,
      '14': 0,
      '15': 0,
      '16': 0,
      '17': 0,
      '18': 0,
      '19': 0,
      '20': 0,
      '21': 0,
      '22': 0,
      '23': 0,
      '24': 0,
      '25': 0,
      '26': 0,
      '27': 0,
      '28': 0,
      '29': 0,
      '30': 0,
      '31': 0,
      '32': 0,
      '33': 0,
      '34': 0,
      '35': 0,
      '36': 0,
      '37': 0,
      '38': 0,
      '39': 0,
      '40': 0,
      '41': 0,
      '42': 0,
      '43': 0,
      '44': 0,
      '45': 0,
      '46': 0,
      '47': 0,
      '48': 0,
      '49': 0,
      '50': 0,
      '51': 0,
      '52': 0,
      '53': 0,
      '54': 0,
      '55': 0,
      '56': 0,
      '57': 0,
      '58': 0,
      '59': 0,
      '60': 0,
      '61': 0,
      '62': 0,
      '63': 0,
      '64': 0,
      '65': 0,
      '66': 0,
      '67': 0,
      '68': 0,
      '69': 0,
      '70': 0,
      '71': 0,
      '72': 0,
      '73': 0,
      '74': 0,
      '75': 0,
      '76': 0,
      '77': 0,
      '78': 0,
      '79': 0
    },
    f: {
      '0': 0,
      '1': 0,
      '2': 0,
      '3': 0,
      '4': 0,
      '5': 0,
      '6': 0,
      '7': 0,
      '8': 0,
      '9': 0,
      '10': 0,
      '11': 0,
      '12': 0,
      '13': 0,
      '14': 0,
      '15': 0,
      '16': 0,
      '17': 0,
      '18': 0,
      '19': 0,
      '20': 0,
      '21': 0,
      '22': 0,
      '23': 0,
      '24': 0
    },
    b: {
      '0': [0, 0],
      '1': [0, 0],
      '2': [0, 0],
      '3': [0, 0],
      '4': [0, 0],
      '5': [0, 0],
      '6': [0, 0],
      '7': [0, 0, 0, 0, 0, 0],
      '8': [0, 0],
      '9': [0, 0],
      '10': [0, 0],
      '11': [0, 0],
      '12': [0, 0],
      '13': [0, 0],
      '14': [0, 0],
      '15': [0, 0],
      '16': [0, 0],
      '17': [0, 0],
      '18': [0, 0],
      '19': [0, 0],
      '20': [0, 0],
      '21': [0, 0],
      '22': [0, 0],
      '23': [0, 0],
      '24': [0, 0],
      '25': [0, 0],
      '26': [0, 0],
      '27': [0, 0],
      '28': [0, 0],
      '29': [0, 0],
      '30': [0, 0]
    },
    _coverageSchema: '332fd63041d2c1bcb487cc26dd0d5f7d97098a6c'
  },
      coverage = global[gcv] || (global[gcv] = {});

  if (coverage[path] && coverage[path].hash === hash) {
    return coverage[path];
  }

  coverageData.hash = hash;
  return coverage[path] = coverageData;
}();

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.LinterAdapter = undefined;
exports.linterMessageToDiagnosticMessage = linterMessageToDiagnosticMessage;
exports.linterMessageV2ToDiagnosticMessage = linterMessageV2ToDiagnosticMessage;
exports.linterMessagesToDiagnosticUpdate = linterMessagesToDiagnosticUpdate;

var _atom = require('atom');

var _rxjsBundlesRxMinJs = require('rxjs/bundles/Rx.min.js');

var _textEvent;

function _load_textEvent() {
  return _textEvent = require('nuclide-commons-atom/text-event');
}

var _log4js;

function _load_log4js() {
  return _log4js = require('log4js');
}

var _event;

function _load_event() {
  return _event = require('nuclide-commons/event');
}

var _nuclideUri;

function _load_nuclideUri() {
  return _nuclideUri = _interopRequireDefault(require('nuclide-commons/nuclideUri'));
}

var _UniversalDisposable;

function _load_UniversalDisposable() {
  return _UniversalDisposable = _interopRequireDefault(require('nuclide-commons/UniversalDisposable'));
}

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// Exported for testing.
function linterMessageToDiagnosticMessage(msg, providerName) {
  cov_16sn15whgf.f[0]++;

  // The types are slightly different, so we need to copy to make Flow happy. Basically, a Trace
  // does not need a filePath property, but a LinterTrace does. Trace is a subtype of LinterTrace,
  // so copying works but aliasing does not. For a detailed explanation see
  // https://github.com/facebook/flow/issues/908
  const trace = (cov_16sn15whgf.s[0]++, msg.trace ? (cov_16sn15whgf.b[0][0]++, msg.trace.map(component => {
    cov_16sn15whgf.f[1]++;
    cov_16sn15whgf.s[1]++;
    return Object.assign({}, component);
  })) : (cov_16sn15whgf.b[0][1]++, undefined));
  const type = (cov_16sn15whgf.s[2]++, convertLinterType(msg.type));
  // flowlint-next-line sketchy-null-string:off
  cov_16sn15whgf.s[3]++;
  if (msg.filePath) {
    cov_16sn15whgf.b[1][0]++;

    const { fix } = (cov_16sn15whgf.s[4]++, msg);
    cov_16sn15whgf.s[5]++;
    return {
      scope: 'file',
      providerName: msg.name != null ? (cov_16sn15whgf.b[2][0]++, msg.name) : (cov_16sn15whgf.b[2][1]++, providerName),
      type,
      filePath: msg.filePath,
      text: msg.text,
      html: msg.html,
      range: (cov_16sn15whgf.b[3][0]++, msg.range) && (cov_16sn15whgf.b[3][1]++, _atom.Range.fromObject(msg.range)),
      trace,
      fix: fix == null ? (cov_16sn15whgf.b[4][0]++, undefined) : (cov_16sn15whgf.b[4][1]++, {
        oldRange: _atom.Range.fromObject(fix.range),
        oldText: fix.oldText,
        newText: fix.newText
      })
    };
  } else {
    cov_16sn15whgf.b[1][1]++;
    cov_16sn15whgf.s[6]++;

    return {
      scope: 'project',
      providerName: msg.name != null ? (cov_16sn15whgf.b[5][0]++, msg.name) : (cov_16sn15whgf.b[5][1]++, providerName),
      type,
      text: msg.text,
      html: msg.html,
      range: (cov_16sn15whgf.b[6][0]++, msg.range) && (cov_16sn15whgf.b[6][1]++, _atom.Range.fromObject(msg.range)),
      trace
    };
  }
}

// Be flexible in accepting various linter types/severities.
/**
 * Copyright (c) 2017-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * 
 * @format
 */

function convertLinterType(type) {
  cov_16sn15whgf.f[2]++;
  cov_16sn15whgf.s[7]++;

  switch (type) {
    case 'Error':
      cov_16sn15whgf.b[7][0]++;

    case 'error':
      cov_16sn15whgf.b[7][1]++;
      cov_16sn15whgf.s[8]++;

      return 'Error';
    case 'Warning':
      cov_16sn15whgf.b[7][2]++;

    case 'warning':
      cov_16sn15whgf.b[7][3]++;
      cov_16sn15whgf.s[9]++;

      return 'Warning';
    case 'Info':
      cov_16sn15whgf.b[7][4]++;

    case 'info':
      cov_16sn15whgf.b[7][5]++;
      cov_16sn15whgf.s[10]++;

      return 'Info';
  }
  cov_16sn15whgf.s[11]++;
  return 'Error';
}

// Version 2 only handles file-level diagnostics.
function linterMessageV2ToDiagnosticMessage(msg, providerName) {
  cov_16sn15whgf.f[3]++;

  let trace;
  cov_16sn15whgf.s[12]++;
  if (msg.trace != null) {
    cov_16sn15whgf.b[8][0]++;
    cov_16sn15whgf.s[13]++;

    trace = msg.trace.map(component => {
      cov_16sn15whgf.f[4]++;
      cov_16sn15whgf.s[14]++;
      return Object.assign({}, component);
    });
  } else {
      cov_16sn15whgf.b[8][1]++;
      cov_16sn15whgf.s[15]++;
      if (msg.reference != null) {
        cov_16sn15whgf.b[9][0]++;

        const point = (cov_16sn15whgf.s[16]++, msg.reference.position != null ? (cov_16sn15whgf.b[10][0]++, _atom.Point.fromObject(msg.reference.position)) : (cov_16sn15whgf.b[10][1]++, null));
        cov_16sn15whgf.s[17]++;
        trace = [{
          type: 'Trace',
          text: 'Reference',
          filePath: msg.reference.file,
          range: point ? (cov_16sn15whgf.b[11][0]++, new _atom.Range(point, point)) : (cov_16sn15whgf.b[11][1]++, undefined)
        }];
      } else {
        cov_16sn15whgf.b[9][1]++;
      }
    } // TODO: handle multiple solutions and priority.
  let fix;
  const { solutions } = (cov_16sn15whgf.s[18]++, msg);
  cov_16sn15whgf.s[19]++;
  if ((cov_16sn15whgf.b[13][0]++, solutions != null) && (cov_16sn15whgf.b[13][1]++, solutions.length > 0)) {
    cov_16sn15whgf.b[12][0]++;

    const solution = (cov_16sn15whgf.s[20]++, solutions[0]);
    cov_16sn15whgf.s[21]++;
    if (solution.replaceWith !== undefined) {
      cov_16sn15whgf.b[14][0]++;
      cov_16sn15whgf.s[22]++;

      fix = {
        oldRange: _atom.Range.fromObject(solution.position),
        oldText: solution.currentText,
        newText: solution.replaceWith,
        title: solution.title
      };
    } else {
      cov_16sn15whgf.b[14][1]++;
    }
    // TODO: support the callback version.
  } else {
    cov_16sn15whgf.b[12][1]++;
  }
  let text = (cov_16sn15whgf.s[23]++, msg.excerpt);
  // TODO: use markdown + handle callback-based version.
  cov_16sn15whgf.s[24]++;
  if (typeof msg.description === 'string') {
    cov_16sn15whgf.b[15][0]++;
    cov_16sn15whgf.s[25]++;

    text = text + '\n' + msg.description;
  } else {
    cov_16sn15whgf.b[15][1]++;
  }
  cov_16sn15whgf.s[26]++;
  return {
    scope: 'file',
    // flowlint-next-line sketchy-null-string:off
    providerName: (cov_16sn15whgf.b[16][0]++, msg.linterName) || (cov_16sn15whgf.b[16][1]++, providerName),
    type: convertLinterType(msg.severity),
    filePath: msg.location.file,
    text,
    range: _atom.Range.fromObject(msg.location.position),
    trace,
    fix
  };
}

function linterMessagesToDiagnosticUpdate(currentPath, msgs, providerName) {
  cov_16sn15whgf.f[5]++;

  const filePathToMessages = (cov_16sn15whgf.s[27]++, new Map());
  // flowlint-next-line sketchy-null-string:off
  cov_16sn15whgf.s[28]++;
  if (currentPath) {
    cov_16sn15whgf.b[17][0]++;
    cov_16sn15whgf.s[29]++;

    // Make sure we invalidate the messages for the current path. We may want to
    // figure out which other paths we want to invalidate if it turns out that
    // linters regularly return messages for other files.
    filePathToMessages.set(currentPath, []);
  } else {
    cov_16sn15whgf.b[17][1]++;
  }
  const projectMessages = (cov_16sn15whgf.s[30]++, []);
  cov_16sn15whgf.s[31]++;
  for (const msg of msgs) {
    const diagnosticMessage = (cov_16sn15whgf.s[32]++, msg.type === undefined ? (cov_16sn15whgf.b[18][0]++, linterMessageV2ToDiagnosticMessage(msg, providerName)) : (cov_16sn15whgf.b[18][1]++, linterMessageToDiagnosticMessage(msg, providerName)));
    cov_16sn15whgf.s[33]++;
    if (diagnosticMessage.scope === 'file') {
      cov_16sn15whgf.b[19][0]++;

      const path = (cov_16sn15whgf.s[34]++, diagnosticMessage.filePath);
      let messages = (cov_16sn15whgf.s[35]++, filePathToMessages.get(path));
      cov_16sn15whgf.s[36]++;
      if (messages == null) {
        cov_16sn15whgf.b[20][0]++;
        cov_16sn15whgf.s[37]++;

        messages = [];
        cov_16sn15whgf.s[38]++;
        filePathToMessages.set(path, messages);
      } else {
        cov_16sn15whgf.b[20][1]++;
      }
      cov_16sn15whgf.s[39]++;
      messages.push(diagnosticMessage);
    } else {
      cov_16sn15whgf.b[19][1]++;
      cov_16sn15whgf.s[40]++;

      // Project scope.
      projectMessages.push(diagnosticMessage);
    }
  }
  cov_16sn15whgf.s[41]++;
  return {
    filePathToMessages,
    projectMessages
  };
}

/**
 * Provides an adapter between Atom linters (defined by the LinterProvider
 * type), and Nuclide Diagnostic Providers.
 *
 * The constructor takes a LinterProvider as an argument, and the resulting
 * LinterAdapter is a valid DiagnosticProvider.
 */
class LinterAdapter {

  constructor(provider, busyReporter) {
    cov_16sn15whgf.f[6]++;
    cov_16sn15whgf.s[42]++;

    this._provider = provider;
    cov_16sn15whgf.s[43]++;
    this._updates = new _rxjsBundlesRxMinJs.Subject();
    cov_16sn15whgf.s[44]++;
    this._invalidations = new _rxjsBundlesRxMinJs.Subject();
    cov_16sn15whgf.s[45]++;
    this._disposables = new (_UniversalDisposable || _load_UniversalDisposable()).default((0, (_textEvent || _load_textEvent()).observeTextEditorEvents)(this._provider.grammarScopes[0] === '*' ? (cov_16sn15whgf.b[21][0]++, 'all') : (cov_16sn15whgf.b[21][1]++, this._provider.grammarScopes), (cov_16sn15whgf.b[23][0]++, this._provider.lintsOnChange) || (cov_16sn15whgf.b[23][1]++, this._provider.lintOnFly) ? (cov_16sn15whgf.b[22][0]++, 'changes') : (cov_16sn15whgf.b[22][1]++, 'saves'))
    // Group text editor events by their underlying text buffer.
    // Each grouped stream lasts until the buffer gets destroyed.
    .groupBy(editor => {
      cov_16sn15whgf.f[7]++;
      cov_16sn15whgf.s[46]++;
      return editor.getBuffer();
    }, editor => {
      cov_16sn15whgf.f[8]++;
      cov_16sn15whgf.s[47]++;
      return editor;
    }, grouped => {
      cov_16sn15whgf.f[9]++;
      cov_16sn15whgf.s[48]++;
      return (
        // $FlowFixMe: add durationSelector to groupBy
        (0, (_event || _load_event()).observableFromSubscribeFunction)(cb => {
          cov_16sn15whgf.f[10]++;
          cov_16sn15whgf.s[49]++;
          return (
            // $FlowFixMe
            grouped.key.onDidDestroy(cb)
          );
        }).take(1)
      );
    }).mergeMap(bufferObservable => {
      cov_16sn15whgf.f[11]++;
      cov_16sn15whgf.s[50]++;
      return (
        // Run the linter on each buffer event.
        _rxjsBundlesRxMinJs.Observable.concat(bufferObservable,
        // When the buffer gets destroyed, immediately stop linting and invalidate.
        _rxjsBundlesRxMinJs.Observable.of(null))
        // switchMap ensures that earlier lints are overridden by later ones.
        .switchMap(editor => {
          cov_16sn15whgf.f[12]++;
          cov_16sn15whgf.s[51]++;

          if (editor == null) {
            cov_16sn15whgf.b[24][0]++;
            cov_16sn15whgf.s[52]++;

            return _rxjsBundlesRxMinJs.Observable.of(null);
          } else {
            cov_16sn15whgf.b[24][1]++;
          }
          const path = (cov_16sn15whgf.s[53]++, editor.getPath());
          const basename = (cov_16sn15whgf.s[54]++, path == null ? (cov_16sn15whgf.b[25][0]++, '(untitled)') : (cov_16sn15whgf.b[25][1]++, (_nuclideUri || _load_nuclideUri()).default.basename(path)));
          cov_16sn15whgf.s[55]++;
          return _rxjsBundlesRxMinJs.Observable.using(() => {
            cov_16sn15whgf.f[13]++;
            cov_16sn15whgf.s[56]++;
            return new (_UniversalDisposable || _load_UniversalDisposable()).default(busyReporter(`${this._provider.name}: running on "${basename}"`));
          }, () => {
            cov_16sn15whgf.f[14]++;
            cov_16sn15whgf.s[57]++;
            return this._runLint(editor);
          });
        })
        // Track the previous update so we can invalidate its results.
        // (Prevents dangling diagnostics when a linter affects multiple files).
        .scan((acc, update) => {
          cov_16sn15whgf.f[15]++;
          cov_16sn15whgf.s[58]++;
          return { update, lastUpdate: acc.update };
        }, {
          update: null,
          lastUpdate: null
        })
      );
    }).subscribe(({ update, lastUpdate }) => {
      cov_16sn15whgf.f[16]++;
      cov_16sn15whgf.s[59]++;
      return this._processUpdate(update, lastUpdate);
    }));
  }

  _runLint(editor) {
    cov_16sn15whgf.f[17]++;
    cov_16sn15whgf.s[60]++;

    return _rxjsBundlesRxMinJs.Observable.defer(() => {
      cov_16sn15whgf.f[18]++;

      const lintPromise = (cov_16sn15whgf.s[61]++, this._provider.lint(editor));
      cov_16sn15whgf.s[62]++;
      if (lintPromise == null) {
        cov_16sn15whgf.b[26][0]++;
        cov_16sn15whgf.s[63]++;

        return _rxjsBundlesRxMinJs.Observable.empty();
      } else {
        cov_16sn15whgf.b[26][1]++;
      }
      cov_16sn15whgf.s[64]++;
      return Promise.resolve(lintPromise).catch(error => {
        cov_16sn15whgf.f[19]++;
        cov_16sn15whgf.s[65]++;

        // Prevent errors from blowing up the entire stream.
        (0, (_log4js || _load_log4js()).getLogger)('atom-ide-diagnostics').error(`Error in linter provider ${this._provider.name}:`, error);
        cov_16sn15whgf.s[66]++;
        return null;
      });
    }).switchMap(linterMessages => {
      cov_16sn15whgf.f[20]++;
      cov_16sn15whgf.s[67]++;

      if (linterMessages == null) {
        cov_16sn15whgf.b[27][0]++;
        cov_16sn15whgf.s[68]++;

        return _rxjsBundlesRxMinJs.Observable.empty();
      } else {
        cov_16sn15whgf.b[27][1]++;
      }
      const update = (cov_16sn15whgf.s[69]++, linterMessagesToDiagnosticUpdate(editor.getPath(), linterMessages, this._provider.name));
      cov_16sn15whgf.s[70]++;
      return _rxjsBundlesRxMinJs.Observable.of(update);
    });
  }

  _processUpdate(update, lastUpdate) {
    cov_16sn15whgf.f[21]++;
    cov_16sn15whgf.s[71]++;

    if ((cov_16sn15whgf.b[29][0]++, lastUpdate != null) && (cov_16sn15whgf.b[29][1]++, lastUpdate.filePathToMessages != null)) {
      cov_16sn15whgf.b[28][0]++;
      cov_16sn15whgf.s[72]++;

      this._invalidations.next({
        scope: 'file',
        filePaths: Array.from(lastUpdate.filePathToMessages.keys())
      });
    } else {
      cov_16sn15whgf.b[28][1]++;
    }
    cov_16sn15whgf.s[73]++;
    if (update != null) {
      cov_16sn15whgf.b[30][0]++;
      cov_16sn15whgf.s[74]++;

      this._updates.next(update);
    } else {
      cov_16sn15whgf.b[30][1]++;
    }
  }

  dispose() {
    cov_16sn15whgf.f[22]++;
    cov_16sn15whgf.s[75]++;

    this._disposables.dispose();
    cov_16sn15whgf.s[76]++;
    this._updates.complete();
    cov_16sn15whgf.s[77]++;
    this._invalidations.complete();
  }

  getUpdates() {
    cov_16sn15whgf.f[23]++;
    cov_16sn15whgf.s[78]++;

    return this._updates.asObservable();
  }

  getInvalidations() {
    cov_16sn15whgf.f[24]++;
    cov_16sn15whgf.s[79]++;

    return this._invalidations.asObservable();
  }
}
exports.LinterAdapter = LinterAdapter;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkxpbnRlckFkYXB0ZXIuanMiXSwibmFtZXMiOlsibGludGVyTWVzc2FnZVRvRGlhZ25vc3RpY01lc3NhZ2UiLCJsaW50ZXJNZXNzYWdlVjJUb0RpYWdub3N0aWNNZXNzYWdlIiwibGludGVyTWVzc2FnZXNUb0RpYWdub3N0aWNVcGRhdGUiLCJtc2ciLCJwcm92aWRlck5hbWUiLCJ0cmFjZSIsIm1hcCIsImNvbXBvbmVudCIsInVuZGVmaW5lZCIsInR5cGUiLCJjb252ZXJ0TGludGVyVHlwZSIsImZpbGVQYXRoIiwiZml4Iiwic2NvcGUiLCJuYW1lIiwidGV4dCIsImh0bWwiLCJyYW5nZSIsImZyb21PYmplY3QiLCJvbGRSYW5nZSIsIm9sZFRleHQiLCJuZXdUZXh0IiwicmVmZXJlbmNlIiwicG9pbnQiLCJwb3NpdGlvbiIsImZpbGUiLCJzb2x1dGlvbnMiLCJsZW5ndGgiLCJzb2x1dGlvbiIsInJlcGxhY2VXaXRoIiwiY3VycmVudFRleHQiLCJ0aXRsZSIsImV4Y2VycHQiLCJkZXNjcmlwdGlvbiIsImxpbnRlck5hbWUiLCJzZXZlcml0eSIsImxvY2F0aW9uIiwiY3VycmVudFBhdGgiLCJtc2dzIiwiZmlsZVBhdGhUb01lc3NhZ2VzIiwiTWFwIiwic2V0IiwicHJvamVjdE1lc3NhZ2VzIiwiZGlhZ25vc3RpY01lc3NhZ2UiLCJwYXRoIiwibWVzc2FnZXMiLCJnZXQiLCJwdXNoIiwiTGludGVyQWRhcHRlciIsImNvbnN0cnVjdG9yIiwicHJvdmlkZXIiLCJidXN5UmVwb3J0ZXIiLCJfcHJvdmlkZXIiLCJfdXBkYXRlcyIsIl9pbnZhbGlkYXRpb25zIiwiX2Rpc3Bvc2FibGVzIiwiZ3JhbW1hclNjb3BlcyIsImxpbnRzT25DaGFuZ2UiLCJsaW50T25GbHkiLCJncm91cEJ5IiwiZWRpdG9yIiwiZ2V0QnVmZmVyIiwiZ3JvdXBlZCIsImNiIiwia2V5Iiwib25EaWREZXN0cm95IiwidGFrZSIsIm1lcmdlTWFwIiwiYnVmZmVyT2JzZXJ2YWJsZSIsImNvbmNhdCIsIm9mIiwic3dpdGNoTWFwIiwiZ2V0UGF0aCIsImJhc2VuYW1lIiwidXNpbmciLCJfcnVuTGludCIsInNjYW4iLCJhY2MiLCJ1cGRhdGUiLCJsYXN0VXBkYXRlIiwic3Vic2NyaWJlIiwiX3Byb2Nlc3NVcGRhdGUiLCJkZWZlciIsImxpbnRQcm9taXNlIiwibGludCIsImVtcHR5IiwiUHJvbWlzZSIsInJlc29sdmUiLCJjYXRjaCIsImVycm9yIiwibGludGVyTWVzc2FnZXMiLCJuZXh0IiwiZmlsZVBhdGhzIiwiQXJyYXkiLCJmcm9tIiwia2V5cyIsImRpc3Bvc2UiLCJjb21wbGV0ZSIsImdldFVwZGF0ZXMiLCJhc09ic2VydmFibGUiLCJnZXRJbnZhbGlkYXRpb25zIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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aW50ZXJBZGFwdGVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTctcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBmbG93XG4gKiBAZm9ybWF0XG4gKi9cblxuaW1wb3J0IHR5cGUge051Y2xpZGVVcml9IGZyb20gJ251Y2xpZGUtY29tbW9ucy9udWNsaWRlVXJpJztcblxuaW1wb3J0IHR5cGUge1xuICBEaWFnbm9zdGljSW52YWxpZGF0aW9uTWVzc2FnZSxcbiAgRGlhZ25vc3RpY01lc3NhZ2UsXG4gIERpYWdub3N0aWNNZXNzYWdlVHlwZSxcbiAgRGlhZ25vc3RpY1Byb3ZpZGVyVXBkYXRlLFxuICBGaWxlRGlhZ25vc3RpY01lc3NhZ2UsXG4gIExpbnRlck1lc3NhZ2UsXG4gIExpbnRlck1lc3NhZ2VWMSxcbiAgTGludGVyTWVzc2FnZVYyLFxuICBMaW50ZXJQcm92aWRlcixcbiAgUHJvamVjdERpYWdub3N0aWNNZXNzYWdlLFxufSBmcm9tICcuLi90eXBlcyc7XG5cbmltcG9ydCB7UG9pbnQsIFJhbmdlfSBmcm9tICdhdG9tJztcbmltcG9ydCB7T2JzZXJ2YWJsZSwgU3ViamVjdH0gZnJvbSAncnhqcyc7XG5pbXBvcnQge29ic2VydmVUZXh0RWRpdG9yRXZlbnRzfSBmcm9tICdudWNsaWRlLWNvbW1vbnMtYXRvbS90ZXh0LWV2ZW50JztcbmltcG9ydCB7Z2V0TG9nZ2VyfSBmcm9tICdsb2c0anMnO1xuaW1wb3J0IHtvYnNlcnZhYmxlRnJvbVN1YnNjcmliZUZ1bmN0aW9ufSBmcm9tICdudWNsaWRlLWNvbW1vbnMvZXZlbnQnO1xuaW1wb3J0IG51Y2xpZGVVcmkgZnJvbSAnbnVjbGlkZS1jb21tb25zL251Y2xpZGVVcmknO1xuaW1wb3J0IFVuaXZlcnNhbERpc3Bvc2FibGUgZnJvbSAnbnVjbGlkZS1jb21tb25zL1VuaXZlcnNhbERpc3Bvc2FibGUnO1xuXG4vLyBFeHBvcnRlZCBmb3IgdGVzdGluZy5cbmV4cG9ydCBmdW5jdGlvbiBsaW50ZXJNZXNzYWdlVG9EaWFnbm9zdGljTWVzc2FnZShcbiAgbXNnOiBMaW50ZXJNZXNzYWdlVjEsXG4gIHByb3ZpZGVyTmFtZTogc3RyaW5nLFxuKTogRGlhZ25vc3RpY01lc3NhZ2Uge1xuICAvLyBUaGUgdHlwZXMgYXJlIHNsaWdodGx5IGRpZmZlcmVudCwgc28gd2UgbmVlZCB0byBjb3B5IHRvIG1ha2UgRmxvdyBoYXBweS4gQmFzaWNhbGx5LCBhIFRyYWNlXG4gIC8vIGRvZXMgbm90IG5lZWQgYSBmaWxlUGF0aCBwcm9wZXJ0eSwgYnV0IGEgTGludGVyVHJhY2UgZG9lcy4gVHJhY2UgaXMgYSBzdWJ0eXBlIG9mIExpbnRlclRyYWNlLFxuICAvLyBzbyBjb3B5aW5nIHdvcmtzIGJ1dCBhbGlhc2luZyBkb2VzIG5vdC4gRm9yIGEgZGV0YWlsZWQgZXhwbGFuYXRpb24gc2VlXG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9mbG93L2lzc3Vlcy85MDhcbiAgY29uc3QgdHJhY2UgPSBtc2cudHJhY2VcbiAgICA/IG1zZy50cmFjZS5tYXAoY29tcG9uZW50ID0+ICh7Li4uY29tcG9uZW50fSkpXG4gICAgOiB1bmRlZmluZWQ7XG4gIGNvbnN0IHR5cGUgPSBjb252ZXJ0TGludGVyVHlwZShtc2cudHlwZSk7XG4gIC8vIGZsb3dsaW50LW5leHQtbGluZSBza2V0Y2h5LW51bGwtc3RyaW5nOm9mZlxuICBpZiAobXNnLmZpbGVQYXRoKSB7XG4gICAgY29uc3Qge2ZpeH0gPSBtc2c7XG4gICAgcmV0dXJuICh7XG4gICAgICBzY29wZTogJ2ZpbGUnLFxuICAgICAgcHJvdmlkZXJOYW1lOiBtc2cubmFtZSAhPSBudWxsID8gbXNnLm5hbWUgOiBwcm92aWRlck5hbWUsXG4gICAgICB0eXBlLFxuICAgICAgZmlsZVBhdGg6IG1zZy5maWxlUGF0aCxcbiAgICAgIHRleHQ6IG1zZy50ZXh0LFxuICAgICAgaHRtbDogbXNnLmh0bWwsXG4gICAgICByYW5nZTogbXNnLnJhbmdlICYmIFJhbmdlLmZyb21PYmplY3QobXNnLnJhbmdlKSxcbiAgICAgIHRyYWNlLFxuICAgICAgZml4OlxuICAgICAgICBmaXggPT0gbnVsbFxuICAgICAgICAgID8gdW5kZWZpbmVkXG4gICAgICAgICAgOiB7XG4gICAgICAgICAgICAgIG9sZFJhbmdlOiBSYW5nZS5mcm9tT2JqZWN0KGZpeC5yYW5nZSksXG4gICAgICAgICAgICAgIG9sZFRleHQ6IGZpeC5vbGRUZXh0LFxuICAgICAgICAgICAgICBuZXdUZXh0OiBmaXgubmV3VGV4dCxcbiAgICAgICAgICAgIH0sXG4gICAgfTogRmlsZURpYWdub3N0aWNNZXNzYWdlKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gKHtcbiAgICAgIHNjb3BlOiAncHJvamVjdCcsXG4gICAgICBwcm92aWRlck5hbWU6IG1zZy5uYW1lICE9IG51bGwgPyBtc2cubmFtZSA6IHByb3ZpZGVyTmFtZSxcbiAgICAgIHR5cGUsXG4gICAgICB0ZXh0OiBtc2cudGV4dCxcbiAgICAgIGh0bWw6IG1zZy5odG1sLFxuICAgICAgcmFuZ2U6IG1zZy5yYW5nZSAmJiBSYW5nZS5mcm9tT2JqZWN0KG1zZy5yYW5nZSksXG4gICAgICB0cmFjZSxcbiAgICB9OiBQcm9qZWN0RGlhZ25vc3RpY01lc3NhZ2UpO1xuICB9XG59XG5cbi8vIEJlIGZsZXhpYmxlIGluIGFjY2VwdGluZyB2YXJpb3VzIGxpbnRlciB0eXBlcy9zZXZlcml0aWVzLlxuZnVuY3Rpb24gY29udmVydExpbnRlclR5cGUodHlwZTogc3RyaW5nKTogRGlhZ25vc3RpY01lc3NhZ2VUeXBlIHtcbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSAnRXJyb3InOlxuICAgIGNhc2UgJ2Vycm9yJzpcbiAgICAgIHJldHVybiAnRXJyb3InO1xuICAgIGNhc2UgJ1dhcm5pbmcnOlxuICAgIGNhc2UgJ3dhcm5pbmcnOlxuICAgICAgcmV0dXJuICdXYXJuaW5nJztcbiAgICBjYXNlICdJbmZvJzpcbiAgICBjYXNlICdpbmZvJzpcbiAgICAgIHJldHVybiAnSW5mbyc7XG4gIH1cbiAgcmV0dXJuICdFcnJvcic7XG59XG5cbi8vIFZlcnNpb24gMiBvbmx5IGhhbmRsZXMgZmlsZS1sZXZlbCBkaWFnbm9zdGljcy5cbmV4cG9ydCBmdW5jdGlvbiBsaW50ZXJNZXNzYWdlVjJUb0RpYWdub3N0aWNNZXNzYWdlKFxuICBtc2c6IExpbnRlck1lc3NhZ2VWMixcbiAgcHJvdmlkZXJOYW1lOiBzdHJpbmcsXG4pOiBGaWxlRGlhZ25vc3RpY01lc3NhZ2Uge1xuICBsZXQgdHJhY2U7XG4gIGlmIChtc2cudHJhY2UgIT0gbnVsbCkge1xuICAgIHRyYWNlID0gbXNnLnRyYWNlLm1hcChjb21wb25lbnQgPT4gKHsuLi5jb21wb25lbnR9KSk7XG4gIH0gZWxzZSBpZiAobXNnLnJlZmVyZW5jZSAhPSBudWxsKSB7XG4gICAgY29uc3QgcG9pbnQgPVxuICAgICAgbXNnLnJlZmVyZW5jZS5wb3NpdGlvbiAhPSBudWxsXG4gICAgICAgID8gUG9pbnQuZnJvbU9iamVjdChtc2cucmVmZXJlbmNlLnBvc2l0aW9uKVxuICAgICAgICA6IG51bGw7XG4gICAgdHJhY2UgPSBbXG4gICAgICB7XG4gICAgICAgIHR5cGU6ICdUcmFjZScsXG4gICAgICAgIHRleHQ6ICdSZWZlcmVuY2UnLFxuICAgICAgICBmaWxlUGF0aDogbXNnLnJlZmVyZW5jZS5maWxlLFxuICAgICAgICByYW5nZTogcG9pbnQgPyBuZXcgUmFuZ2UocG9pbnQsIHBvaW50KSA6IHVuZGVmaW5lZCxcbiAgICAgIH0sXG4gICAgXTtcbiAgfVxuICAvLyBUT0RPOiBoYW5kbGUgbXVsdGlwbGUgc29sdXRpb25zIGFuZCBwcmlvcml0eS5cbiAgbGV0IGZpeDtcbiAgY29uc3Qge3NvbHV0aW9uc30gPSBtc2c7XG4gIGlmIChzb2x1dGlvbnMgIT0gbnVsbCAmJiBzb2x1dGlvbnMubGVuZ3RoID4gMCkge1xuICAgIGNvbnN0IHNvbHV0aW9uID0gc29sdXRpb25zWzBdO1xuICAgIGlmIChzb2x1dGlvbi5yZXBsYWNlV2l0aCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBmaXggPSB7XG4gICAgICAgIG9sZFJhbmdlOiBSYW5nZS5mcm9tT2JqZWN0KHNvbHV0aW9uLnBvc2l0aW9uKSxcbiAgICAgICAgb2xkVGV4dDogc29sdXRpb24uY3VycmVudFRleHQsXG4gICAgICAgIG5ld1RleHQ6IHNvbHV0aW9uLnJlcGxhY2VXaXRoLFxuICAgICAgICB0aXRsZTogc29sdXRpb24udGl0bGUsXG4gICAgICB9O1xuICAgIH1cbiAgICAvLyBUT0RPOiBzdXBwb3J0IHRoZSBjYWxsYmFjayB2ZXJzaW9uLlxuICB9XG4gIGxldCB0ZXh0ID0gbXNnLmV4Y2VycHQ7XG4gIC8vIFRPRE86IHVzZSBtYXJrZG93biArIGhhbmRsZSBjYWxsYmFjay1iYXNlZCB2ZXJzaW9uLlxuICBpZiAodHlwZW9mIG1zZy5kZXNjcmlwdGlvbiA9PT0gJ3N0cmluZycpIHtcbiAgICB0ZXh0ID0gdGV4dCArICdcXG4nICsgbXNnLmRlc2NyaXB0aW9uO1xuICB9XG4gIHJldHVybiB7XG4gICAgc2NvcGU6ICdmaWxlJyxcbiAgICAvLyBmbG93bGludC1uZXh0LWxpbmUgc2tldGNoeS1udWxsLXN0cmluZzpvZmZcbiAgICBwcm92aWRlck5hbWU6IG1zZy5saW50ZXJOYW1lIHx8IHByb3ZpZGVyTmFtZSxcbiAgICB0eXBlOiBjb252ZXJ0TGludGVyVHlwZShtc2cuc2V2ZXJpdHkpLFxuICAgIGZpbGVQYXRoOiBtc2cubG9jYXRpb24uZmlsZSxcbiAgICB0ZXh0LFxuICAgIHJhbmdlOiBSYW5nZS5mcm9tT2JqZWN0KG1zZy5sb2NhdGlvbi5wb3NpdGlvbiksXG4gICAgdHJhY2UsXG4gICAgZml4LFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbGludGVyTWVzc2FnZXNUb0RpYWdub3N0aWNVcGRhdGUoXG4gIGN1cnJlbnRQYXRoOiA/TnVjbGlkZVVyaSxcbiAgbXNnczogQXJyYXk8TGludGVyTWVzc2FnZT4sXG4gIHByb3ZpZGVyTmFtZTogc3RyaW5nLFxuKTogRGlhZ25vc3RpY1Byb3ZpZGVyVXBkYXRlIHtcbiAgY29uc3QgZmlsZVBhdGhUb01lc3NhZ2VzOiBNYXA8XG4gICAgTnVjbGlkZVVyaSxcbiAgICBBcnJheTxGaWxlRGlhZ25vc3RpY01lc3NhZ2U+LFxuICA+ID0gbmV3IE1hcCgpO1xuICAvLyBmbG93bGludC1uZXh0LWxpbmUgc2tldGNoeS1udWxsLXN0cmluZzpvZmZcbiAgaWYgKGN1cnJlbnRQYXRoKSB7XG4gICAgLy8gTWFrZSBzdXJlIHdlIGludmFsaWRhdGUgdGhlIG1lc3NhZ2VzIGZvciB0aGUgY3VycmVudCBwYXRoLiBXZSBtYXkgd2FudCB0b1xuICAgIC8vIGZpZ3VyZSBvdXQgd2hpY2ggb3RoZXIgcGF0aHMgd2Ugd2FudCB0byBpbnZhbGlkYXRlIGlmIGl0IHR1cm5zIG91dCB0aGF0XG4gICAgLy8gbGludGVycyByZWd1bGFybHkgcmV0dXJuIG1lc3NhZ2VzIGZvciBvdGhlciBmaWxlcy5cbiAgICBmaWxlUGF0aFRvTWVzc2FnZXMuc2V0KGN1cnJlbnRQYXRoLCBbXSk7XG4gIH1cbiAgY29uc3QgcHJvamVjdE1lc3NhZ2VzID0gW107XG4gIGZvciAoY29uc3QgbXNnIG9mIG1zZ3MpIHtcbiAgICBjb25zdCBkaWFnbm9zdGljTWVzc2FnZSA9XG4gICAgICBtc2cudHlwZSA9PT0gdW5kZWZpbmVkXG4gICAgICAgID8gbGludGVyTWVzc2FnZVYyVG9EaWFnbm9zdGljTWVzc2FnZShtc2csIHByb3ZpZGVyTmFtZSlcbiAgICAgICAgOiBsaW50ZXJNZXNzYWdlVG9EaWFnbm9zdGljTWVzc2FnZShtc2csIHByb3ZpZGVyTmFtZSk7XG4gICAgaWYgKGRpYWdub3N0aWNNZXNzYWdlLnNjb3BlID09PSAnZmlsZScpIHtcbiAgICAgIGNvbnN0IHBhdGggPSBkaWFnbm9zdGljTWVzc2FnZS5maWxlUGF0aDtcbiAgICAgIGxldCBtZXNzYWdlcyA9IGZpbGVQYXRoVG9NZXNzYWdlcy5nZXQocGF0aCk7XG4gICAgICBpZiAobWVzc2FnZXMgPT0gbnVsbCkge1xuICAgICAgICBtZXNzYWdlcyA9IFtdO1xuICAgICAgICBmaWxlUGF0aFRvTWVzc2FnZXMuc2V0KHBhdGgsIG1lc3NhZ2VzKTtcbiAgICAgIH1cbiAgICAgIG1lc3NhZ2VzLnB1c2goZGlhZ25vc3RpY01lc3NhZ2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBQcm9qZWN0IHNjb3BlLlxuICAgICAgcHJvamVjdE1lc3NhZ2VzLnB1c2goZGlhZ25vc3RpY01lc3NhZ2UpO1xuICAgIH1cbiAgfVxuICByZXR1cm4ge1xuICAgIGZpbGVQYXRoVG9NZXNzYWdlcyxcbiAgICBwcm9qZWN0TWVzc2FnZXMsXG4gIH07XG59XG5cbi8qKlxuICogUHJvdmlkZXMgYW4gYWRhcHRlciBiZXR3ZWVuIEF0b20gbGludGVycyAoZGVmaW5lZCBieSB0aGUgTGludGVyUHJvdmlkZXJcbiAqIHR5cGUpLCBhbmQgTnVjbGlkZSBEaWFnbm9zdGljIFByb3ZpZGVycy5cbiAqXG4gKiBUaGUgY29uc3RydWN0b3IgdGFrZXMgYSBMaW50ZXJQcm92aWRlciBhcyBhbiBhcmd1bWVudCwgYW5kIHRoZSByZXN1bHRpbmdcbiAqIExpbnRlckFkYXB0ZXIgaXMgYSB2YWxpZCBEaWFnbm9zdGljUHJvdmlkZXIuXG4gKi9cbmV4cG9ydCBjbGFzcyBMaW50ZXJBZGFwdGVyIHtcbiAgX3Byb3ZpZGVyOiBMaW50ZXJQcm92aWRlcjtcbiAgX2Rpc3Bvc2FibGVzOiBVbml2ZXJzYWxEaXNwb3NhYmxlO1xuXG4gIF91cGRhdGVzOiBTdWJqZWN0PERpYWdub3N0aWNQcm92aWRlclVwZGF0ZT47XG4gIF9pbnZhbGlkYXRpb25zOiBTdWJqZWN0PERpYWdub3N0aWNJbnZhbGlkYXRpb25NZXNzYWdlPjtcblxuICBjb25zdHJ1Y3Rvcihwcm92aWRlcjogTGludGVyUHJvdmlkZXIsIGJ1c3lSZXBvcnRlcjogc3RyaW5nID0+IElEaXNwb3NhYmxlKSB7XG4gICAgdGhpcy5fcHJvdmlkZXIgPSBwcm92aWRlcjtcbiAgICB0aGlzLl91cGRhdGVzID0gbmV3IFN1YmplY3QoKTtcbiAgICB0aGlzLl9pbnZhbGlkYXRpb25zID0gbmV3IFN1YmplY3QoKTtcbiAgICB0aGlzLl9kaXNwb3NhYmxlcyA9IG5ldyBVbml2ZXJzYWxEaXNwb3NhYmxlKFxuICAgICAgb2JzZXJ2ZVRleHRFZGl0b3JFdmVudHMoXG4gICAgICAgIHRoaXMuX3Byb3ZpZGVyLmdyYW1tYXJTY29wZXNbMF0gPT09ICcqJ1xuICAgICAgICAgID8gJ2FsbCdcbiAgICAgICAgICA6IHRoaXMuX3Byb3ZpZGVyLmdyYW1tYXJTY29wZXMsXG4gICAgICAgIHRoaXMuX3Byb3ZpZGVyLmxpbnRzT25DaGFuZ2UgfHwgdGhpcy5fcHJvdmlkZXIubGludE9uRmx5XG4gICAgICAgICAgPyAnY2hhbmdlcydcbiAgICAgICAgICA6ICdzYXZlcycsXG4gICAgICApXG4gICAgICAgIC8vIEdyb3VwIHRleHQgZWRpdG9yIGV2ZW50cyBieSB0aGVpciB1bmRlcmx5aW5nIHRleHQgYnVmZmVyLlxuICAgICAgICAvLyBFYWNoIGdyb3VwZWQgc3RyZWFtIGxhc3RzIHVudGlsIHRoZSBidWZmZXIgZ2V0cyBkZXN0cm95ZWQuXG4gICAgICAgIC5ncm91cEJ5KFxuICAgICAgICAgIGVkaXRvciA9PiBlZGl0b3IuZ2V0QnVmZmVyKCksXG4gICAgICAgICAgZWRpdG9yID0+IGVkaXRvcixcbiAgICAgICAgICBncm91cGVkID0+XG4gICAgICAgICAgICAvLyAkRmxvd0ZpeE1lOiBhZGQgZHVyYXRpb25TZWxlY3RvciB0byBncm91cEJ5XG4gICAgICAgICAgICBvYnNlcnZhYmxlRnJvbVN1YnNjcmliZUZ1bmN0aW9uKGNiID0+XG4gICAgICAgICAgICAgIC8vICRGbG93Rml4TWVcbiAgICAgICAgICAgICAgZ3JvdXBlZC5rZXkub25EaWREZXN0cm95KGNiKSxcbiAgICAgICAgICAgICkudGFrZSgxKSxcbiAgICAgICAgKVxuICAgICAgICAubWVyZ2VNYXAoYnVmZmVyT2JzZXJ2YWJsZSA9PlxuICAgICAgICAgIC8vIFJ1biB0aGUgbGludGVyIG9uIGVhY2ggYnVmZmVyIGV2ZW50LlxuICAgICAgICAgIE9ic2VydmFibGUuY29uY2F0KFxuICAgICAgICAgICAgYnVmZmVyT2JzZXJ2YWJsZSxcbiAgICAgICAgICAgIC8vIFdoZW4gdGhlIGJ1ZmZlciBnZXRzIGRlc3Ryb3llZCwgaW1tZWRpYXRlbHkgc3RvcCBsaW50aW5nIGFuZCBpbnZhbGlkYXRlLlxuICAgICAgICAgICAgT2JzZXJ2YWJsZS5vZihudWxsKSxcbiAgICAgICAgICApXG4gICAgICAgICAgICAvLyBzd2l0Y2hNYXAgZW5zdXJlcyB0aGF0IGVhcmxpZXIgbGludHMgYXJlIG92ZXJyaWRkZW4gYnkgbGF0ZXIgb25lcy5cbiAgICAgICAgICAgIC5zd2l0Y2hNYXAoZWRpdG9yID0+IHtcbiAgICAgICAgICAgICAgaWYgKGVkaXRvciA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE9ic2VydmFibGUub2YobnVsbCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgY29uc3QgcGF0aCA9IGVkaXRvci5nZXRQYXRoKCk7XG4gICAgICAgICAgICAgIGNvbnN0IGJhc2VuYW1lID1cbiAgICAgICAgICAgICAgICBwYXRoID09IG51bGwgPyAnKHVudGl0bGVkKScgOiBudWNsaWRlVXJpLmJhc2VuYW1lKHBhdGgpO1xuICAgICAgICAgICAgICByZXR1cm4gT2JzZXJ2YWJsZS51c2luZyhcbiAgICAgICAgICAgICAgICAoKSA9PlxuICAgICAgICAgICAgICAgICAgbmV3IFVuaXZlcnNhbERpc3Bvc2FibGUoXG4gICAgICAgICAgICAgICAgICAgIGJ1c3lSZXBvcnRlcihcbiAgICAgICAgICAgICAgICAgICAgICBgJHt0aGlzLl9wcm92aWRlci5uYW1lfTogcnVubmluZyBvbiBcIiR7YmFzZW5hbWV9XCJgLFxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAoKSA9PiB0aGlzLl9ydW5MaW50KGVkaXRvciksXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLy8gVHJhY2sgdGhlIHByZXZpb3VzIHVwZGF0ZSBzbyB3ZSBjYW4gaW52YWxpZGF0ZSBpdHMgcmVzdWx0cy5cbiAgICAgICAgICAgIC8vIChQcmV2ZW50cyBkYW5nbGluZyBkaWFnbm9zdGljcyB3aGVuIGEgbGludGVyIGFmZmVjdHMgbXVsdGlwbGUgZmlsZXMpLlxuICAgICAgICAgICAgLnNjYW4oKGFjYywgdXBkYXRlKSA9PiAoe3VwZGF0ZSwgbGFzdFVwZGF0ZTogYWNjLnVwZGF0ZX0pLCB7XG4gICAgICAgICAgICAgIHVwZGF0ZTogbnVsbCxcbiAgICAgICAgICAgICAgbGFzdFVwZGF0ZTogbnVsbCxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICApXG4gICAgICAgIC5zdWJzY3JpYmUoKHt1cGRhdGUsIGxhc3RVcGRhdGV9KSA9PlxuICAgICAgICAgIHRoaXMuX3Byb2Nlc3NVcGRhdGUodXBkYXRlLCBsYXN0VXBkYXRlKSxcbiAgICAgICAgKSxcbiAgICApO1xuICB9XG5cbiAgX3J1bkxpbnQoZWRpdG9yOiBUZXh0RWRpdG9yKTogT2JzZXJ2YWJsZTxEaWFnbm9zdGljUHJvdmlkZXJVcGRhdGU+IHtcbiAgICByZXR1cm4gT2JzZXJ2YWJsZS5kZWZlcigoKSA9PiB7XG4gICAgICBjb25zdCBsaW50UHJvbWlzZSA9IHRoaXMuX3Byb3ZpZGVyLmxpbnQoZWRpdG9yKTtcbiAgICAgIGlmIChsaW50UHJvbWlzZSA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBPYnNlcnZhYmxlLmVtcHR5KCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGxpbnRQcm9taXNlKS5jYXRjaChlcnJvciA9PiB7XG4gICAgICAgIC8vIFByZXZlbnQgZXJyb3JzIGZyb20gYmxvd2luZyB1cCB0aGUgZW50aXJlIHN0cmVhbS5cbiAgICAgICAgZ2V0TG9nZ2VyKCdhdG9tLWlkZS1kaWFnbm9zdGljcycpLmVycm9yKFxuICAgICAgICAgIGBFcnJvciBpbiBsaW50ZXIgcHJvdmlkZXIgJHt0aGlzLl9wcm92aWRlci5uYW1lfTpgLFxuICAgICAgICAgIGVycm9yLFxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH0pO1xuICAgIH0pLnN3aXRjaE1hcChsaW50ZXJNZXNzYWdlcyA9PiB7XG4gICAgICBpZiAobGludGVyTWVzc2FnZXMgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gT2JzZXJ2YWJsZS5lbXB0eSgpO1xuICAgICAgfVxuICAgICAgY29uc3QgdXBkYXRlID0gbGludGVyTWVzc2FnZXNUb0RpYWdub3N0aWNVcGRhdGUoXG4gICAgICAgIGVkaXRvci5nZXRQYXRoKCksXG4gICAgICAgIGxpbnRlck1lc3NhZ2VzLFxuICAgICAgICB0aGlzLl9wcm92aWRlci5uYW1lLFxuICAgICAgKTtcbiAgICAgIHJldHVybiBPYnNlcnZhYmxlLm9mKHVwZGF0ZSk7XG4gICAgfSk7XG4gIH1cblxuICBfcHJvY2Vzc1VwZGF0ZShcbiAgICB1cGRhdGU6ID9EaWFnbm9zdGljUHJvdmlkZXJVcGRhdGUsXG4gICAgbGFzdFVwZGF0ZTogP0RpYWdub3N0aWNQcm92aWRlclVwZGF0ZSxcbiAgKTogdm9pZCB7XG4gICAgaWYgKGxhc3RVcGRhdGUgIT0gbnVsbCAmJiBsYXN0VXBkYXRlLmZpbGVQYXRoVG9NZXNzYWdlcyAhPSBudWxsKSB7XG4gICAgICB0aGlzLl9pbnZhbGlkYXRpb25zLm5leHQoe1xuICAgICAgICBzY29wZTogJ2ZpbGUnLFxuICAgICAgICBmaWxlUGF0aHM6IEFycmF5LmZyb20obGFzdFVwZGF0ZS5maWxlUGF0aFRvTWVzc2FnZXMua2V5cygpKSxcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAodXBkYXRlICE9IG51bGwpIHtcbiAgICAgIHRoaXMuX3VwZGF0ZXMubmV4dCh1cGRhdGUpO1xuICAgIH1cbiAgfVxuXG4gIGRpc3Bvc2UoKTogdm9pZCB7XG4gICAgdGhpcy5fZGlzcG9zYWJsZXMuZGlzcG9zZSgpO1xuICAgIHRoaXMuX3VwZGF0ZXMuY29tcGxldGUoKTtcbiAgICB0aGlzLl9pbnZhbGlkYXRpb25zLmNvbXBsZXRlKCk7XG4gIH1cblxuICBnZXRVcGRhdGVzKCk6IE9ic2VydmFibGU8RGlhZ25vc3RpY1Byb3ZpZGVyVXBkYXRlPiB7XG4gICAgcmV0dXJuIHRoaXMuX3VwZGF0ZXMuYXNPYnNlcnZhYmxlKCk7XG4gIH1cblxuICBnZXRJbnZhbGlkYXRpb25zKCk6IE9ic2VydmFibGU8RGlhZ25vc3RpY0ludmFsaWRhdGlvbk1lc3NhZ2U+IHtcbiAgICByZXR1cm4gdGhpcy5faW52YWxpZGF0aW9ucy5hc09ic2VydmFibGUoKTtcbiAgfVxufVxuIl19