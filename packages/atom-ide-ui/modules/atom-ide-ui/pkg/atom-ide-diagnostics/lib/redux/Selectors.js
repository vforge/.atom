'use strict';

var cov_otw9o83su = function () {
  var path = '/Users/hansonw/atom-ide-ui/modules/atom-ide-ui/pkg/atom-ide-diagnostics/lib/redux/Selectors.js',
      hash = 'd6990a7c689695902769a394bc9ccd0c5490059f',
      global = new Function('return this')(),
      gcv = '__coverage__',
      coverageData = {
    path: '/Users/hansonw/atom-ide-ui/modules/atom-ide-ui/pkg/atom-ide-diagnostics/lib/redux/Selectors.js',
    statementMap: {
      '0': {
        start: {
          line: 26,
          column: 25
        },
        end: {
          line: 26,
          column: 48
        }
      },
      '1': {
        start: {
          line: 26,
          column: 34
        },
        end: {
          line: 26,
          column: 48
        }
      },
      '2': {
        start: {
          line: 27,
          column: 32
        },
        end: {
          line: 27,
          column: 62
        }
      },
      '3': {
        start: {
          line: 27,
          column: 41
        },
        end: {
          line: 27,
          column: 62
        }
      },
      '4': {
        start: {
          line: 28,
          column: 21
        },
        end: {
          line: 28,
          column: 45
        }
      },
      '5': {
        start: {
          line: 28,
          column: 30
        },
        end: {
          line: 28,
          column: 45
        }
      },
      '6': {
        start: {
          line: 38,
          column: 19
        },
        end: {
          line: 38,
          column: 21
        }
      },
      '7': {
        start: {
          line: 39,
          column: 2
        },
        end: {
          line: 45,
          column: 3
        }
      },
      '8': {
        start: {
          line: 40,
          column: 28
        },
        end: {
          line: 40,
          column: 58
        }
      },
      '9': {
        start: {
          line: 41,
          column: 4
        },
        end: {
          line: 43,
          column: 5
        }
      },
      '10': {
        start: {
          line: 42,
          column: 6
        },
        end: {
          line: 42,
          column: 15
        }
      },
      '11': {
        start: {
          line: 44,
          column: 4
        },
        end: {
          line: 44,
          column: 38
        }
      },
      '12': {
        start: {
          line: 46,
          column: 2
        },
        end: {
          line: 46,
          column: 18
        }
      },
      '13': {
        start: {
          line: 53,
          column: 2
        },
        end: {
          line: 56,
          column: 4
        }
      },
      '14': {
        start: {
          line: 63,
          column: 34
        },
        end: {
          line: 72,
          column: 1
        }
      },
      '15': {
        start: {
          line: 66,
          column: 21
        },
        end: {
          line: 66,
          column: 23
        }
      },
      '16': {
        start: {
          line: 67,
          column: 4
        },
        end: {
          line: 69,
          column: 5
        }
      },
      '17': {
        start: {
          line: 68,
          column: 6
        },
        end: {
          line: 68,
          column: 41
        }
      },
      '18': {
        start: {
          line: 70,
          column: 4
        },
        end: {
          line: 70,
          column: 20
        }
      },
      '19': {
        start: {
          line: 78,
          column: 27
        },
        end: {
          line: 95,
          column: 1
        }
      },
      '20': {
        start: {
          line: 81,
          column: 21
        },
        end: {
          line: 81,
          column: 23
        }
      },
      '21': {
        start: {
          line: 84,
          column: 4
        },
        end: {
          line: 88,
          column: 5
        }
      },
      '22': {
        start: {
          line: 85,
          column: 6
        },
        end: {
          line: 87,
          column: 7
        }
      },
      '23': {
        start: {
          line: 86,
          column: 8
        },
        end: {
          line: 86,
          column: 39
        }
      },
      '24': {
        start: {
          line: 91,
          column: 4
        },
        end: {
          line: 91,
          column: 38
        }
      },
      '25': {
        start: {
          line: 93,
          column: 4
        },
        end: {
          line: 93,
          column: 20
        }
      },
      '26': {
        start: {
          line: 97,
          column: 40
        },
        end: {
          line: 110,
          column: 1
        }
      },
      '27': {
        start: {
          line: 100,
          column: 18
        },
        end: {
          line: 100,
          column: 35
        }
      },
      '28': {
        start: {
          line: 101,
          column: 4
        },
        end: {
          line: 107,
          column: 7
        }
      },
      '29': {
        start: {
          line: 102,
          column: 6
        },
        end: {
          line: 106,
          column: 7
        }
      },
      '30': {
        start: {
          line: 103,
          column: 8
        },
        end: {
          line: 105,
          column: 11
        }
      },
      '31': {
        start: {
          line: 104,
          column: 10
        },
        end: {
          line: 104,
          column: 26
        }
      },
      '32': {
        start: {
          line: 108,
          column: 4
        },
        end: {
          line: 108,
          column: 17
        }
      },
      '33': {
        start: {
          line: 112,
          column: 27
        },
        end: {
          line: 130,
          column: 1
        }
      },
      '34': {
        start: {
          line: 115,
          column: 19
        },
        end: {
          line: 115,
          column: 21
        }
      },
      '35': {
        start: {
          line: 116,
          column: 4
        },
        end: {
          line: 127,
          column: 7
        }
      },
      '36': {
        start: {
          line: 117,
          column: 6
        },
        end: {
          line: 126,
          column: 7
        }
      },
      '37': {
        start: {
          line: 122,
          column: 8
        },
        end: {
          line: 125,
          column: 11
        }
      },
      '38': {
        start: {
          line: 128,
          column: 4
        },
        end: {
          line: 128,
          column: 18
        }
      }
    },
    fnMap: {
      '0': {
        name: '(anonymous_0)',
        decl: {
          start: {
            line: 26,
            column: 25
          },
          end: {
            line: 26,
            column: 26
          }
        },
        loc: {
          start: {
            line: 26,
            column: 34
          },
          end: {
            line: 26,
            column: 48
          }
        },
        line: 26
      },
      '1': {
        name: '(anonymous_1)',
        decl: {
          start: {
            line: 27,
            column: 32
          },
          end: {
            line: 27,
            column: 33
          }
        },
        loc: {
          start: {
            line: 27,
            column: 41
          },
          end: {
            line: 27,
            column: 62
          }
        },
        line: 27
      },
      '2': {
        name: '(anonymous_2)',
        decl: {
          start: {
            line: 28,
            column: 21
          },
          end: {
            line: 28,
            column: 22
          }
        },
        loc: {
          start: {
            line: 28,
            column: 30
          },
          end: {
            line: 28,
            column: 45
          }
        },
        line: 28
      },
      '3': {
        name: 'getFileMessages',
        decl: {
          start: {
            line: 34,
            column: 16
          },
          end: {
            line: 34,
            column: 31
          }
        },
        loc: {
          start: {
            line: 37,
            column: 32
          },
          end: {
            line: 47,
            column: 1
          }
        },
        line: 37
      },
      '4': {
        name: 'getFileMessageUpdates',
        decl: {
          start: {
            line: 49,
            column: 16
          },
          end: {
            line: 49,
            column: 37
          }
        },
        loc: {
          start: {
            line: 52,
            column: 26
          },
          end: {
            line: 57,
            column: 1
          }
        },
        line: 52
      },
      '5': {
        name: '(anonymous_5)',
        decl: {
          start: {
            line: 65,
            column: 2
          },
          end: {
            line: 65,
            column: 3
          }
        },
        loc: {
          start: {
            line: 65,
            column: 61
          },
          end: {
            line: 71,
            column: 3
          }
        },
        line: 65
      },
      '6': {
        name: '(anonymous_6)',
        decl: {
          start: {
            line: 80,
            column: 2
          },
          end: {
            line: 80,
            column: 3
          }
        },
        loc: {
          start: {
            line: 80,
            column: 64
          },
          end: {
            line: 94,
            column: 3
          }
        },
        line: 80
      },
      '7': {
        name: '(anonymous_7)',
        decl: {
          start: {
            line: 99,
            column: 2
          },
          end: {
            line: 99,
            column: 3
          }
        },
        loc: {
          start: {
            line: 99,
            column: 45
          },
          end: {
            line: 109,
            column: 3
          }
        },
        line: 99
      },
      '8': {
        name: '(anonymous_8)',
        decl: {
          start: {
            line: 101,
            column: 22
          },
          end: {
            line: 101,
            column: 23
          }
        },
        loc: {
          start: {
            line: 101,
            column: 34
          },
          end: {
            line: 107,
            column: 5
          }
        },
        line: 101
      },
      '9': {
        name: '(anonymous_9)',
        decl: {
          start: {
            line: 103,
            column: 47
          },
          end: {
            line: 103,
            column: 48
          }
        },
        loc: {
          start: {
            line: 103,
            column: 55
          },
          end: {
            line: 105,
            column: 9
          }
        },
        line: 103
      },
      '10': {
        name: '(anonymous_10)',
        decl: {
          start: {
            line: 114,
            column: 2
          },
          end: {
            line: 114,
            column: 3
          }
        },
        loc: {
          start: {
            line: 114,
            column: 27
          },
          end: {
            line: 129,
            column: 3
          }
        },
        line: 114
      },
      '11': {
        name: '(anonymous_11)',
        decl: {
          start: {
            line: 116,
            column: 22
          },
          end: {
            line: 116,
            column: 23
          }
        },
        loc: {
          start: {
            line: 116,
            column: 34
          },
          end: {
            line: 127,
            column: 5
          }
        },
        line: 116
      }
    },
    branchMap: {
      '0': {
        loc: {
          start: {
            line: 41,
            column: 4
          },
          end: {
            line: 43,
            column: 5
          }
        },
        type: 'if',
        locations: [{
          start: {
            line: 41,
            column: 4
          },
          end: {
            line: 43,
            column: 5
          }
        }, {
          start: {
            line: 41,
            column: 4
          },
          end: {
            line: 43,
            column: 5
          }
        }],
        line: 41
      },
      '1': {
        loc: {
          start: {
            line: 102,
            column: 6
          },
          end: {
            line: 106,
            column: 7
          }
        },
        type: 'if',
        locations: [{
          start: {
            line: 102,
            column: 6
          },
          end: {
            line: 106,
            column: 7
          }
        }, {
          start: {
            line: 102,
            column: 6
          },
          end: {
            line: 106,
            column: 7
          }
        }],
        line: 102
      },
      '2': {
        loc: {
          start: {
            line: 117,
            column: 6
          },
          end: {
            line: 126,
            column: 7
          }
        },
        type: 'if',
        locations: [{
          start: {
            line: 117,
            column: 6
          },
          end: {
            line: 126,
            column: 7
          }
        }, {
          start: {
            line: 117,
            column: 6
          },
          end: {
            line: 126,
            column: 7
          }
        }],
        line: 117
      },
      '3': {
        loc: {
          start: {
            line: 118,
            column: 8
          },
          end: {
            line: 120,
            column: 38
          }
        },
        type: 'binary-expr',
        locations: [{
          start: {
            line: 118,
            column: 8
          },
          end: {
            line: 118,
            column: 29
          }
        }, {
          start: {
            line: 119,
            column: 8
          },
          end: {
            line: 119,
            column: 35
          }
        }, {
          start: {
            line: 120,
            column: 8
          },
          end: {
            line: 120,
            column: 38
          }
        }],
        line: 118
      }
    },
    s: {
      '0': 0,
      '1': 0,
      '2': 0,
      '3': 0,
      '4': 0,
      '5': 0,
      '6': 0,
      '7': 0,
      '8': 0,
      '9': 0,
      '10': 0,
      '11': 0,
      '12': 0,
      '13': 0,
      '14': 0,
      '15': 0,
      '16': 0,
      '17': 0,
      '18': 0,
      '19': 0,
      '20': 0,
      '21': 0,
      '22': 0,
      '23': 0,
      '24': 0,
      '25': 0,
      '26': 0,
      '27': 0,
      '28': 0,
      '29': 0,
      '30': 0,
      '31': 0,
      '32': 0,
      '33': 0,
      '34': 0,
      '35': 0,
      '36': 0,
      '37': 0,
      '38': 0
    },
    f: {
      '0': 0,
      '1': 0,
      '2': 0,
      '3': 0,
      '4': 0,
      '5': 0,
      '6': 0,
      '7': 0,
      '8': 0,
      '9': 0,
      '10': 0,
      '11': 0
    },
    b: {
      '0': [0, 0],
      '1': [0, 0],
      '2': [0, 0],
      '3': [0, 0, 0]
    },
    _coverageSchema: '332fd63041d2c1bcb487cc26dd0d5f7d97098a6c'
  },
      coverage = global[gcv] || (global[gcv] = {});

  if (coverage[path] && coverage[path].hash === hash) {
    return coverage[path];
  }

  coverageData.hash = hash;
  return coverage[path] = coverageData;
}();

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getUiConfig = exports.getSupportedMessageKinds = exports.getMessages = exports.getProjectMessages = undefined;
exports.getFileMessages = getFileMessages;
exports.getFileMessageUpdates = getFileMessageUpdates;

var _reselect;

function _load_reselect() {
  return _reselect = require('reselect');
}

cov_otw9o83su.s[0]++; /**
                       * Copyright (c) 2017-present, Facebook, Inc.
                       * All rights reserved.
                       *
                       * This source code is licensed under the BSD-style license found in the
                       * LICENSE file in the root directory of this source tree. An additional grant
                       * of patent rights can be found in the PATENTS file in the same directory.
                       *
                       * 
                       * @format
                       */

const getMessagesState = state => {
  cov_otw9o83su.f[0]++;
  cov_otw9o83su.s[1]++;
  return state.messages;
};
cov_otw9o83su.s[2]++;
const getProjectMessagesState = state => {
  cov_otw9o83su.f[1]++;
  cov_otw9o83su.s[3]++;
  return state.projectMessages;
};
cov_otw9o83su.s[4]++;
const getProviders = state => {
  cov_otw9o83su.f[2]++;
  cov_otw9o83su.s[5]++;
  return state.providers;
};

/**
  * Gets the current diagnostic messages for the file.
  * Prefer to get updates via ::onFileMessagesDidUpdate.
  */
function getFileMessages(state, filePath) {
  cov_otw9o83su.f[3]++;

  const messages = (cov_otw9o83su.s[6]++, []);
  cov_otw9o83su.s[7]++;
  for (const providerMessages of state.messages.values()) {
    const messagesForFile = (cov_otw9o83su.s[8]++, providerMessages.get(filePath));
    cov_otw9o83su.s[9]++;
    if (messagesForFile == null) {
      cov_otw9o83su.b[0][0]++;
      cov_otw9o83su.s[10]++;

      continue;
    } else {
      cov_otw9o83su.b[0][1]++;
    }
    cov_otw9o83su.s[11]++;
    messages.push(...messagesForFile);
  }
  cov_otw9o83su.s[12]++;
  return messages;
}

function getFileMessageUpdates(state, filePath) {
  cov_otw9o83su.f[4]++;
  cov_otw9o83su.s[13]++;

  return {
    filePath,
    messages: getFileMessages(state, filePath)
  };
}

/**
  * Gets the current project-scope diagnostic messages.
  * Prefer to get updates via ::onProjectMessagesDidUpdate.
  */
const getProjectMessages = exports.getProjectMessages = (cov_otw9o83su.s[14]++, (0, (_reselect || _load_reselect()).createSelector)([getProjectMessagesState], projectMessagesState => {
  cov_otw9o83su.f[5]++;

  const messages = (cov_otw9o83su.s[15]++, []);
  cov_otw9o83su.s[16]++;
  for (const providerMessages of projectMessagesState.values()) {
    cov_otw9o83su.s[17]++;

    messages.push(...providerMessages);
  }
  cov_otw9o83su.s[18]++;
  return messages;
}));

/**
  * Gets all current diagnostic messages.
  * Prefer to get updates via ::onAllMessagesDidUpdate.
  */
const getMessages = exports.getMessages = (cov_otw9o83su.s[19]++, (0, (_reselect || _load_reselect()).createSelector)([getMessagesState, getProjectMessages], (messagesState, projectMessages) => {
  cov_otw9o83su.f[6]++;

  const messages = (cov_otw9o83su.s[20]++, []);

  // Get all file messages.
  cov_otw9o83su.s[21]++;
  for (const providerMessages of messagesState.values()) {
    cov_otw9o83su.s[22]++;

    for (const fileMessages of providerMessages.values()) {
      cov_otw9o83su.s[23]++;

      messages.push(...fileMessages);
    }
  }

  // Get all project messages.
  cov_otw9o83su.s[24]++;
  messages.push(...projectMessages);

  cov_otw9o83su.s[25]++;
  return messages;
}));

const getSupportedMessageKinds = exports.getSupportedMessageKinds = (cov_otw9o83su.s[26]++, (0, (_reselect || _load_reselect()).createSelector)([getProviders], providers => {
  cov_otw9o83su.f[7]++;

  const kinds = (cov_otw9o83su.s[27]++, new Set(['lint'])); // Lint is always supported.
  cov_otw9o83su.s[28]++;
  providers.forEach(provider => {
    cov_otw9o83su.f[8]++;
    cov_otw9o83su.s[29]++;

    if (provider.supportedMessageKinds != null) {
      cov_otw9o83su.b[1][0]++;
      cov_otw9o83su.s[30]++;

      provider.supportedMessageKinds.forEach(kind => {
        cov_otw9o83su.f[9]++;
        cov_otw9o83su.s[31]++;

        kinds.add(kind);
      });
    } else {
      cov_otw9o83su.b[1][1]++;
    }
  });
  cov_otw9o83su.s[32]++;
  return kinds;
}));

const getUiConfig = exports.getUiConfig = (cov_otw9o83su.s[33]++, (0, (_reselect || _load_reselect()).createSelector)([getProviders], providers => {
  cov_otw9o83su.f[10]++;

  const config = (cov_otw9o83su.s[34]++, []);
  cov_otw9o83su.s[35]++;
  providers.forEach(provider => {
    cov_otw9o83su.f[11]++;
    cov_otw9o83su.s[36]++;

    if ((cov_otw9o83su.b[3][0]++, provider.name != null) && (cov_otw9o83su.b[3][1]++, provider.uiSettings != null) && (cov_otw9o83su.b[3][2]++, provider.uiSettings.length > 0)) {
      cov_otw9o83su.b[2][0]++;
      cov_otw9o83su.s[37]++;

      config.push({
        providerName: provider.name,
        settings: provider.uiSettings
      });
    } else {
      cov_otw9o83su.b[2][1]++;
    }
  });
  cov_otw9o83su.s[38]++;
  return config;
}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlNlbGVjdG9ycy5qcyJdLCJuYW1lcyI6WyJnZXRGaWxlTWVzc2FnZXMiLCJnZXRGaWxlTWVzc2FnZVVwZGF0ZXMiLCJnZXRNZXNzYWdlc1N0YXRlIiwic3RhdGUiLCJtZXNzYWdlcyIsImdldFByb2plY3RNZXNzYWdlc1N0YXRlIiwicHJvamVjdE1lc3NhZ2VzIiwiZ2V0UHJvdmlkZXJzIiwicHJvdmlkZXJzIiwiZmlsZVBhdGgiLCJwcm92aWRlck1lc3NhZ2VzIiwidmFsdWVzIiwibWVzc2FnZXNGb3JGaWxlIiwiZ2V0IiwicHVzaCIsImdldFByb2plY3RNZXNzYWdlcyIsInByb2plY3RNZXNzYWdlc1N0YXRlIiwiZ2V0TWVzc2FnZXMiLCJtZXNzYWdlc1N0YXRlIiwiZmlsZU1lc3NhZ2VzIiwiZ2V0U3VwcG9ydGVkTWVzc2FnZUtpbmRzIiwia2luZHMiLCJTZXQiLCJmb3JFYWNoIiwicHJvdmlkZXIiLCJzdXBwb3J0ZWRNZXNzYWdlS2luZHMiLCJraW5kIiwiYWRkIiwiZ2V0VWlDb25maWciLCJjb25maWciLCJuYW1lIiwidWlTZXR0aW5ncyIsImxlbmd0aCIsInByb3ZpZGVyTmFtZSIsInNldHRpbmdzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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TSxJQURiO0FBRVZJLGtCQUFVVixTQUFTTztBQUZULE9BQVo7QUFJRCxLQVREO0FBQUE7QUFBQTtBQVVELEdBWEQ7QUFGdUI7QUFjdkIsU0FBT0YsTUFBUDtBQUNELENBakJ3QixDQUFkLENBQU4iLCJmaWxlIjoiU2VsZWN0b3JzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTctcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBmbG93XG4gKiBAZm9ybWF0XG4gKi9cblxuaW1wb3J0IHR5cGUge1xuICBBcHBTdGF0ZSxcbiAgRGlhZ25vc3RpY01lc3NhZ2UsXG4gIEZpbGVEaWFnbm9zdGljTWVzc2FnZSxcbiAgRmlsZURpYWdub3N0aWNNZXNzYWdlcyxcbiAgUHJvamVjdERpYWdub3N0aWNNZXNzYWdlLFxuICBEaWFnbm9zdGljTWVzc2FnZUtpbmQsXG4gIFVpQ29uZmlnLFxufSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgdHlwZSB7TnVjbGlkZVVyaX0gZnJvbSAnbnVjbGlkZS1jb21tb25zL251Y2xpZGVVcmknO1xuXG5pbXBvcnQge2NyZWF0ZVNlbGVjdG9yfSBmcm9tICdyZXNlbGVjdCc7XG5cbmNvbnN0IGdldE1lc3NhZ2VzU3RhdGUgPSBzdGF0ZSA9PiBzdGF0ZS5tZXNzYWdlcztcbmNvbnN0IGdldFByb2plY3RNZXNzYWdlc1N0YXRlID0gc3RhdGUgPT4gc3RhdGUucHJvamVjdE1lc3NhZ2VzO1xuY29uc3QgZ2V0UHJvdmlkZXJzID0gc3RhdGUgPT4gc3RhdGUucHJvdmlkZXJzO1xuXG4vKipcbiAgKiBHZXRzIHRoZSBjdXJyZW50IGRpYWdub3N0aWMgbWVzc2FnZXMgZm9yIHRoZSBmaWxlLlxuICAqIFByZWZlciB0byBnZXQgdXBkYXRlcyB2aWEgOjpvbkZpbGVNZXNzYWdlc0RpZFVwZGF0ZS5cbiAgKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRGaWxlTWVzc2FnZXMoXG4gIHN0YXRlOiBBcHBTdGF0ZSxcbiAgZmlsZVBhdGg6IE51Y2xpZGVVcmksXG4pOiBBcnJheTxGaWxlRGlhZ25vc3RpY01lc3NhZ2U+IHtcbiAgY29uc3QgbWVzc2FnZXMgPSBbXTtcbiAgZm9yIChjb25zdCBwcm92aWRlck1lc3NhZ2VzIG9mIHN0YXRlLm1lc3NhZ2VzLnZhbHVlcygpKSB7XG4gICAgY29uc3QgbWVzc2FnZXNGb3JGaWxlID0gcHJvdmlkZXJNZXNzYWdlcy5nZXQoZmlsZVBhdGgpO1xuICAgIGlmIChtZXNzYWdlc0ZvckZpbGUgPT0gbnVsbCkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIG1lc3NhZ2VzLnB1c2goLi4ubWVzc2FnZXNGb3JGaWxlKTtcbiAgfVxuICByZXR1cm4gbWVzc2FnZXM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRGaWxlTWVzc2FnZVVwZGF0ZXMoXG4gIHN0YXRlOiBBcHBTdGF0ZSxcbiAgZmlsZVBhdGg6IE51Y2xpZGVVcmksXG4pOiBGaWxlRGlhZ25vc3RpY01lc3NhZ2VzIHtcbiAgcmV0dXJuIHtcbiAgICBmaWxlUGF0aCxcbiAgICBtZXNzYWdlczogZ2V0RmlsZU1lc3NhZ2VzKHN0YXRlLCBmaWxlUGF0aCksXG4gIH07XG59XG5cbi8qKlxuICAqIEdldHMgdGhlIGN1cnJlbnQgcHJvamVjdC1zY29wZSBkaWFnbm9zdGljIG1lc3NhZ2VzLlxuICAqIFByZWZlciB0byBnZXQgdXBkYXRlcyB2aWEgOjpvblByb2plY3RNZXNzYWdlc0RpZFVwZGF0ZS5cbiAgKi9cbmV4cG9ydCBjb25zdCBnZXRQcm9qZWN0TWVzc2FnZXMgPSBjcmVhdGVTZWxlY3RvcihcbiAgW2dldFByb2plY3RNZXNzYWdlc1N0YXRlXSxcbiAgKHByb2plY3RNZXNzYWdlc1N0YXRlKTogQXJyYXk8UHJvamVjdERpYWdub3N0aWNNZXNzYWdlPiA9PiB7XG4gICAgY29uc3QgbWVzc2FnZXMgPSBbXTtcbiAgICBmb3IgKGNvbnN0IHByb3ZpZGVyTWVzc2FnZXMgb2YgcHJvamVjdE1lc3NhZ2VzU3RhdGUudmFsdWVzKCkpIHtcbiAgICAgIG1lc3NhZ2VzLnB1c2goLi4ucHJvdmlkZXJNZXNzYWdlcyk7XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlcztcbiAgfSxcbik7XG5cbi8qKlxuICAqIEdldHMgYWxsIGN1cnJlbnQgZGlhZ25vc3RpYyBtZXNzYWdlcy5cbiAgKiBQcmVmZXIgdG8gZ2V0IHVwZGF0ZXMgdmlhIDo6b25BbGxNZXNzYWdlc0RpZFVwZGF0ZS5cbiAgKi9cbmV4cG9ydCBjb25zdCBnZXRNZXNzYWdlcyA9IGNyZWF0ZVNlbGVjdG9yKFxuICBbZ2V0TWVzc2FnZXNTdGF0ZSwgZ2V0UHJvamVjdE1lc3NhZ2VzXSxcbiAgKG1lc3NhZ2VzU3RhdGUsIHByb2plY3RNZXNzYWdlcyk6IEFycmF5PERpYWdub3N0aWNNZXNzYWdlPiA9PiB7XG4gICAgY29uc3QgbWVzc2FnZXMgPSBbXTtcblxuICAgIC8vIEdldCBhbGwgZmlsZSBtZXNzYWdlcy5cbiAgICBmb3IgKGNvbnN0IHByb3ZpZGVyTWVzc2FnZXMgb2YgbWVzc2FnZXNTdGF0ZS52YWx1ZXMoKSkge1xuICAgICAgZm9yIChjb25zdCBmaWxlTWVzc2FnZXMgb2YgcHJvdmlkZXJNZXNzYWdlcy52YWx1ZXMoKSkge1xuICAgICAgICBtZXNzYWdlcy5wdXNoKC4uLmZpbGVNZXNzYWdlcyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gR2V0IGFsbCBwcm9qZWN0IG1lc3NhZ2VzLlxuICAgIG1lc3NhZ2VzLnB1c2goLi4ucHJvamVjdE1lc3NhZ2VzKTtcblxuICAgIHJldHVybiBtZXNzYWdlcztcbiAgfSxcbik7XG5cbmV4cG9ydCBjb25zdCBnZXRTdXBwb3J0ZWRNZXNzYWdlS2luZHMgPSBjcmVhdGVTZWxlY3RvcihcbiAgW2dldFByb3ZpZGVyc10sXG4gIChwcm92aWRlcnMpOiBTZXQ8RGlhZ25vc3RpY01lc3NhZ2VLaW5kPiA9PiB7XG4gICAgY29uc3Qga2luZHMgPSBuZXcgU2V0KFsnbGludCddKTsgLy8gTGludCBpcyBhbHdheXMgc3VwcG9ydGVkLlxuICAgIHByb3ZpZGVycy5mb3JFYWNoKHByb3ZpZGVyID0+IHtcbiAgICAgIGlmIChwcm92aWRlci5zdXBwb3J0ZWRNZXNzYWdlS2luZHMgIT0gbnVsbCkge1xuICAgICAgICBwcm92aWRlci5zdXBwb3J0ZWRNZXNzYWdlS2luZHMuZm9yRWFjaChraW5kID0+IHtcbiAgICAgICAgICBraW5kcy5hZGQoa2luZCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBraW5kcztcbiAgfSxcbik7XG5cbmV4cG9ydCBjb25zdCBnZXRVaUNvbmZpZyA9IGNyZWF0ZVNlbGVjdG9yKFxuICBbZ2V0UHJvdmlkZXJzXSxcbiAgKHByb3ZpZGVycyk6IFVpQ29uZmlnID0+IHtcbiAgICBjb25zdCBjb25maWcgPSBbXTtcbiAgICBwcm92aWRlcnMuZm9yRWFjaChwcm92aWRlciA9PiB7XG4gICAgICBpZiAoXG4gICAgICAgIHByb3ZpZGVyLm5hbWUgIT0gbnVsbCAmJlxuICAgICAgICBwcm92aWRlci51aVNldHRpbmdzICE9IG51bGwgJiZcbiAgICAgICAgcHJvdmlkZXIudWlTZXR0aW5ncy5sZW5ndGggPiAwXG4gICAgICApIHtcbiAgICAgICAgY29uZmlnLnB1c2goe1xuICAgICAgICAgIHByb3ZpZGVyTmFtZTogcHJvdmlkZXIubmFtZSxcbiAgICAgICAgICBzZXR0aW5nczogcHJvdmlkZXIudWlTZXR0aW5ncyxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbmZpZztcbiAgfSxcbik7XG4iXX0=