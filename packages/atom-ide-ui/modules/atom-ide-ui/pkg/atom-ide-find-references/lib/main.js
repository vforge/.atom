'use strict';

var cov_1eppbfcv39 = function () {
  var path = '/Users/hansonw/atom-ide-ui/modules/atom-ide-ui/pkg/atom-ide-find-references/lib/main.js',
      hash = '2edbb91264a4c8830694735d616acf84fbaccc79',
      global = new Function('return this')(),
      gcv = '__coverage__',
      coverageData = {
    path: '/Users/hansonw/atom-ide-ui/modules/atom-ide-ui/pkg/atom-ide-find-references/lib/main.js',
    statementMap: {
      '0': {
        start: {
          line: 31,
          column: 2
        },
        end: {
          line: 33,
          column: 5
        }
      },
      '1': {
        start: {
          line: 37,
          column: 2
        },
        end: {
          line: 58,
          column: 3
        }
      },
      '2': {
        start: {
          line: 38,
          column: 4
        },
        end: {
          line: 38,
          column: 73
        }
      },
      '3': {
        start: {
          line: 39,
          column: 9
        },
        end: {
          line: 58,
          column: 3
        }
      },
      '4': {
        start: {
          line: 40,
          column: 4
        },
        end: {
          line: 40,
          column: 70
        }
      },
      '5': {
        start: {
          line: 41,
          column: 4
        },
        end: {
          line: 41,
          column: 30
        }
      },
      '6': {
        start: {
          line: 42,
          column: 9
        },
        end: {
          line: 58,
          column: 3
        }
      },
      '7': {
        start: {
          line: 43,
          column: 4
        },
        end: {
          line: 43,
          column: 67
        }
      },
      '8': {
        start: {
          line: 44,
          column: 4
        },
        end: {
          line: 44,
          column: 40
        }
      },
      '9': {
        start: {
          line: 46,
          column: 56
        },
        end: {
          line: 46,
          column: 60
        }
      },
      '10': {
        start: {
          line: 47,
          column: 4
        },
        end: {
          line: 51,
          column: 7
        }
      },
      '11': {
        start: {
          line: 52,
          column: 18
        },
        end: {
          line: 56,
          column: 5
        }
      },
      '12': {
        start: {
          line: 57,
          column: 4
        },
        end: {
          line: 57,
          column: 46
        }
      },
      '13': {
        start: {
          line: 62,
          column: 15
        },
        end: {
          line: 62,
          column: 41
        }
      },
      '14': {
        start: {
          line: 63,
          column: 2
        },
        end: {
          line: 63,
          column: 56
        }
      },
      '15': {
        start: {
          line: 67,
          column: 15
        },
        end: {
          line: 67,
          column: 41
        }
      },
      '16': {
        start: {
          line: 68,
          column: 2
        },
        end: {
          line: 68,
          column: 59
        }
      },
      '17': {
        start: {
          line: 81,
          column: 4
        },
        end: {
          line: 81,
          column: 52
        }
      },
      '18': {
        start: {
          line: 84,
          column: 4
        },
        end: {
          line: 84,
          column: 61
        }
      },
      '19': {
        start: {
          line: 88,
          column: 4
        },
        end: {
          line: 88,
          column: 34
        }
      },
      '20': {
        start: {
          line: 92,
          column: 4
        },
        end: {
          line: 92,
          column: 48
        }
      },
      '21': {
        start: {
          line: 93,
          column: 4
        },
        end: {
          line: 95,
          column: 7
        }
      },
      '22': {
        start: {
          line: 94,
          column: 6
        },
        end: {
          line: 94,
          column: 37
        }
      },
      '23': {
        start: {
          line: 99,
          column: 4
        },
        end: {
          line: 99,
          column: 35
        }
      },
      '24': {
        start: {
          line: 101,
          column: 4
        },
        end: {
          line: 107,
          column: 7
        }
      },
      '25': {
        start: {
          line: 102,
          column: 6
        },
        end: {
          line: 106,
          column: 7
        }
      },
      '26': {
        start: {
          line: 103,
          column: 8
        },
        end: {
          line: 105,
          column: 9
        }
      },
      '27': {
        start: {
          line: 104,
          column: 10
        },
        end: {
          line: 104,
          column: 34
        }
      },
      '28': {
        start: {
          line: 109,
          column: 4
        },
        end: {
          line: 121,
          column: 7
        }
      },
      '29': {
        start: {
          line: 110,
          column: 6
        },
        end: {
          line: 110,
          column: 68
        }
      },
      '30': {
        start: {
          line: 110,
          column: 52
        },
        end: {
          line: 110,
          column: 66
        }
      },
      '31': {
        start: {
          line: 112,
          column: 6
        },
        end: {
          line: 120,
          column: 9
        }
      },
      '32': {
        start: {
          line: 113,
          column: 28
        },
        end: {
          line: 113,
          column: 55
        }
      },
      '33': {
        start: {
          line: 114,
          column: 8
        },
        end: {
          line: 119,
          column: 9
        }
      },
      '34': {
        start: {
          line: 115,
          column: 10
        },
        end: {
          line: 115,
          column: 43
        }
      },
      '35': {
        start: {
          line: 116,
          column: 10
        },
        end: {
          line: 118,
          column: 11
        }
      },
      '36': {
        start: {
          line: 117,
          column: 12
        },
        end: {
          line: 117,
          column: 37
        }
      },
      '37': {
        start: {
          line: 126,
          column: 4
        },
        end: {
          line: 199,
          column: 6
        }
      },
      '38': {
        start: {
          line: 131,
          column: 23
        },
        end: {
          line: 135,
          column: 11
        }
      },
      '39': {
        start: {
          line: 136,
          column: 10
        },
        end: {
          line: 147,
          column: 11
        }
      },
      '40': {
        start: {
          line: 137,
          column: 31
        },
        end: {
          line: 141,
          column: 14
        }
      },
      '41': {
        start: {
          line: 138,
          column: 14
        },
        end: {
          line: 140,
          column: 15
        }
      },
      '42': {
        start: {
          line: 139,
          column: 16
        },
        end: {
          line: 139,
          column: 28
        }
      },
      '43': {
        start: {
          line: 144,
          column: 12
        },
        end: {
          line: 144,
          column: 47
        }
      },
      '44': {
        start: {
          line: 146,
          column: 12
        },
        end: {
          line: 146,
          column: 33
        }
      },
      '45': {
        start: {
          line: 153,
          column: 21
        },
        end: {
          line: 153,
          column: 37
        }
      },
      '46': {
        start: {
          line: 155,
          column: 8
        },
        end: {
          line: 157,
          column: 9
        }
      },
      '47': {
        start: {
          line: 156,
          column: 10
        },
        end: {
          line: 156,
          column: 17
        }
      },
      '48': {
        start: {
          line: 158,
          column: 8
        },
        end: {
          line: 158,
          column: 49
        }
      },
      '49': {
        start: {
          line: 159,
          column: 8
        },
        end: {
          line: 167,
          column: 10
        }
      },
      '50': {
        start: {
          line: 161,
          column: 12
        },
        end: {
          line: 165,
          column: 13
        }
      },
      '51': {
        start: {
          line: 162,
          column: 14
        },
        end: {
          line: 164,
          column: 15
        }
      },
      '52': {
        start: {
          line: 163,
          column: 16
        },
        end: {
          line: 163,
          column: 40
        }
      },
      '53': {
        start: {
          line: 168,
          column: 8
        },
        end: {
          line: 172,
          column: 9
        }
      },
      '54': {
        start: {
          line: 170,
          column: 10
        },
        end: {
          line: 170,
          column: 50
        }
      },
      '55': {
        start: {
          line: 171,
          column: 10
        },
        end: {
          line: 171,
          column: 17
        }
      },
      '56': {
        start: {
          line: 173,
          column: 27
        },
        end: {
          line: 176,
          column: 10
        }
      },
      '57': {
        start: {
          line: 174,
          column: 10
        },
        end: {
          line: 174,
          column: 50
        }
      },
      '58': {
        start: {
          line: 175,
          column: 10
        },
        end: {
          line: 175,
          column: 49
        }
      },
      '59': {
        start: {
          line: 177,
          column: 8
        },
        end: {
          line: 177,
          column: 44
        }
      },
      '60': {
        start: {
          line: 181,
          column: 26
        },
        end: {
          line: 181,
          column: 40
        }
      },
      '61': {
        start: {
          line: 182,
          column: 8
        },
        end: {
          line: 185,
          column: 9
        }
      },
      '62': {
        start: {
          line: 183,
          column: 31
        },
        end: {
          line: 183,
          column: 51
        }
      },
      '63': {
        start: {
          line: 184,
          column: 10
        },
        end: {
          line: 184,
          column: 45
        }
      },
      '64': {
        start: {
          line: 194,
          column: 14
        },
        end: {
          line: 194,
          column: 37
        }
      },
      '65': {
        start: {
          line: 203,
          column: 19
        },
        end: {
          line: 203,
          column: 55
        }
      },
      '66': {
        start: {
          line: 204,
          column: 4
        },
        end: {
          line: 206,
          column: 5
        }
      },
      '67': {
        start: {
          line: 205,
          column: 6
        },
        end: {
          line: 205,
          column: 18
        }
      },
      '68': {
        start: {
          line: 207,
          column: 17
        },
        end: {
          line: 207,
          column: 33
        }
      },
      '69': {
        start: {
          line: 209,
          column: 4
        },
        end: {
          line: 211,
          column: 5
        }
      },
      '70': {
        start: {
          line: 210,
          column: 6
        },
        end: {
          line: 210,
          column: 18
        }
      },
      '71': {
        start: {
          line: 213,
          column: 6
        },
        end: {
          line: 215,
          column: 42
        }
      },
      '72': {
        start: {
          line: 216,
          column: 4
        },
        end: {
          line: 220,
          column: 7
        }
      },
      '73': {
        start: {
          line: 221,
          column: 22
        },
        end: {
          line: 221,
          column: 58
        }
      },
      '74': {
        start: {
          line: 222,
          column: 4
        },
        end: {
          line: 224,
          column: 5
        }
      },
      '75': {
        start: {
          line: 223,
          column: 6
        },
        end: {
          line: 223,
          column: 18
        }
      },
      '76': {
        start: {
          line: 225,
          column: 26
        },
        end: {
          line: 233,
          column: 5
        }
      },
      '77': {
        start: {
          line: 227,
          column: 8
        },
        end: {
          line: 230,
          column: 10
        }
      },
      '78': {
        start: {
          line: 228,
          column: 10
        },
        end: {
          line: 228,
          column: 78
        }
      },
      '79': {
        start: {
          line: 229,
          column: 10
        },
        end: {
          line: 229,
          column: 22
        }
      },
      '80': {
        start: {
          line: 232,
          column: 11
        },
        end: {
          line: 232,
          column: 12
        }
      },
      '81': {
        start: {
          line: 234,
          column: 30
        },
        end: {
          line: 234,
          column: 53
        }
      },
      '82': {
        start: {
          line: 235,
          column: 4
        },
        end: {
          line: 241,
          column: 5
        }
      },
      '83': {
        start: {
          line: 236,
          column: 26
        },
        end: {
          line: 236,
          column: 51
        }
      },
      '84': {
        start: {
          line: 237,
          column: 6
        },
        end: {
          line: 240,
          column: 8
        }
      },
      '85': {
        start: {
          line: 239,
          column: 14
        },
        end: {
          line: 239,
          column: 27
        }
      },
      '86': {
        start: {
          line: 242,
          column: 4
        },
        end: {
          line: 242,
          column: 25
        }
      },
      '87': {
        start: {
          line: 247,
          column: 20
        },
        end: {
          line: 247,
          column: 56
        }
      },
      '88': {
        start: {
          line: 248,
          column: 4
        },
        end: {
          line: 251,
          column: 5
        }
      },
      '89': {
        start: {
          line: 249,
          column: 6
        },
        end: {
          line: 249,
          column: 21
        }
      },
      '90': {
        start: {
          line: 250,
          column: 6
        },
        end: {
          line: 250,
          column: 54
        }
      },
      '91': {
        start: {
          line: 252,
          column: 4
        },
        end: {
          line: 252,
          column: 29
        }
      },
      '92': {
        start: {
          line: 253,
          column: 4
        },
        end: {
          line: 253,
          column: 34
        }
      },
      '93': {
        start: {
          line: 257,
          column: 0
        },
        end: {
          line: 257,
          column: 42
        }
      }
    },
    fnMap: {
      '0': {
        name: 'showWarning',
        decl: {
          start: {
            line: 30,
            column: 9
          },
          end: {
            line: 30,
            column: 20
          }
        },
        loc: {
          start: {
            line: 30,
            column: 44
          },
          end: {
            line: 34,
            column: 1
          }
        },
        line: 30
      },
      '1': {
        name: 'tryCreateView',
        decl: {
          start: {
            line: 36,
            column: 9
          },
          end: {
            line: 36,
            column: 22
          }
        },
        loc: {
          start: {
            line: 36,
            column: 78
          },
          end: {
            line: 59,
            column: 1
          }
        },
        line: 36
      },
      '2': {
        name: 'enableForEditor',
        decl: {
          start: {
            line: 61,
            column: 9
          },
          end: {
            line: 61,
            column: 24
          }
        },
        loc: {
          start: {
            line: 61,
            column: 51
          },
          end: {
            line: 64,
            column: 1
          }
        },
        line: 61
      },
      '3': {
        name: 'disableForEditor',
        decl: {
          start: {
            line: 66,
            column: 9
          },
          end: {
            line: 66,
            column: 25
          }
        },
        loc: {
          start: {
            line: 66,
            column: 52
          },
          end: {
            line: 69,
            column: 1
          }
        },
        line: 66
      },
      '4': {
        name: '(anonymous_4)',
        decl: {
          start: {
            line: 80,
            column: 2
          },
          end: {
            line: 80,
            column: 3
          }
        },
        loc: {
          start: {
            line: 80,
            column: 33
          },
          end: {
            line: 85,
            column: 3
          }
        },
        line: 80
      },
      '5': {
        name: '(anonymous_5)',
        decl: {
          start: {
            line: 87,
            column: 2
          },
          end: {
            line: 87,
            column: 3
          }
        },
        loc: {
          start: {
            line: 87,
            column: 18
          },
          end: {
            line: 89,
            column: 3
          }
        },
        line: 87
      },
      '6': {
        name: '(anonymous_6)',
        decl: {
          start: {
            line: 91,
            column: 2
          },
          end: {
            line: 91,
            column: 3
          }
        },
        loc: {
          start: {
            line: 91,
            column: 71
          },
          end: {
            line: 96,
            column: 3
          }
        },
        line: 91
      },
      '7': {
        name: '(anonymous_7)',
        decl: {
          start: {
            line: 93,
            column: 35
          },
          end: {
            line: 93,
            column: 36
          }
        },
        loc: {
          start: {
            line: 93,
            column: 41
          },
          end: {
            line: 95,
            column: 5
          }
        },
        line: 93
      },
      '8': {
        name: '(anonymous_8)',
        decl: {
          start: {
            line: 98,
            column: 2
          },
          end: {
            line: 98,
            column: 3
          }
        },
        loc: {
          start: {
            line: 98,
            column: 65
          },
          end: {
            line: 122,
            column: 3
          }
        },
        line: 98
      },
      '9': {
        name: '(anonymous_9)',
        decl: {
          start: {
            line: 101,
            column: 44
          },
          end: {
            line: 101,
            column: 45
          }
        },
        loc: {
          start: {
            line: 101,
            column: 60
          },
          end: {
            line: 107,
            column: 5
          }
        },
        line: 101
      },
      '10': {
        name: '(anonymous_10)',
        decl: {
          start: {
            line: 109,
            column: 35
          },
          end: {
            line: 109,
            column: 36
          }
        },
        loc: {
          start: {
            line: 109,
            column: 41
          },
          end: {
            line: 121,
            column: 5
          }
        },
        line: 109
      },
      '11': {
        name: '(anonymous_11)',
        decl: {
          start: {
            line: 110,
            column: 47
          },
          end: {
            line: 110,
            column: 48
          }
        },
        loc: {
          start: {
            line: 110,
            column: 52
          },
          end: {
            line: 110,
            column: 66
          }
        },
        line: 110
      },
      '12': {
        name: '(anonymous_12)',
        decl: {
          start: {
            line: 112,
            column: 39
          },
          end: {
            line: 112,
            column: 40
          }
        },
        loc: {
          start: {
            line: 112,
            column: 62
          },
          end: {
            line: 120,
            column: 7
          }
        },
        line: 112
      },
      '13': {
        name: '(anonymous_13)',
        decl: {
          start: {
            line: 124,
            column: 2
          },
          end: {
            line: 124,
            column: 3
          }
        },
        loc: {
          start: {
            line: 124,
            column: 42
          },
          end: {
            line: 200,
            column: 3
          }
        },
        line: 124
      },
      '14': {
        name: '(anonymous_14)',
        decl: {
          start: {
            line: 130,
            column: 8
          },
          end: {
            line: 130,
            column: 9
          }
        },
        loc: {
          start: {
            line: 130,
            column: 23
          },
          end: {
            line: 148,
            column: 9
          }
        },
        line: 130
      },
      '15': {
        name: '(anonymous_15)',
        decl: {
          start: {
            line: 137,
            column: 56
          },
          end: {
            line: 137,
            column: 57
          }
        },
        loc: {
          start: {
            line: 137,
            column: 66
          },
          end: {
            line: 141,
            column: 13
          }
        },
        line: 137
      },
      '16': {
        name: '(anonymous_16)',
        decl: {
          start: {
            line: 152,
            column: 25
          },
          end: {
            line: 152,
            column: 26
          }
        },
        loc: {
          start: {
            line: 152,
            column: 41
          },
          end: {
            line: 178,
            column: 7
          }
        },
        line: 152
      },
      '17': {
        name: '(anonymous_17)',
        decl: {
          start: {
            line: 160,
            column: 30
          },
          end: {
            line: 160,
            column: 31
          }
        },
        loc: {
          start: {
            line: 160,
            column: 48
          },
          end: {
            line: 166,
            column: 11
          }
        },
        line: 160
      },
      '18': {
        name: '(anonymous_18)',
        decl: {
          start: {
            line: 173,
            column: 47
          },
          end: {
            line: 173,
            column: 48
          }
        },
        loc: {
          start: {
            line: 173,
            column: 53
          },
          end: {
            line: 176,
            column: 9
          }
        },
        line: 173
      },
      '19': {
        name: '(anonymous_19)',
        decl: {
          start: {
            line: 180,
            column: 70
          },
          end: {
            line: 180,
            column: 71
          }
        },
        loc: {
          start: {
            line: 180,
            column: 76
          },
          end: {
            line: 186,
            column: 7
          }
        },
        line: 180
      },
      '20': {
        name: '(anonymous_20)',
        decl: {
          start: {
            line: 193,
            column: 21
          },
          end: {
            line: 193,
            column: 22
          }
        },
        loc: {
          start: {
            line: 193,
            column: 30
          },
          end: {
            line: 195,
            column: 13
          }
        },
        line: 193
      },
      '21': {
        name: '(anonymous_21)',
        decl: {
          start: {
            line: 202,
            column: 2
          },
          end: {
            line: 202,
            column: 3
          }
        },
        loc: {
          start: {
            line: 202,
            column: 77
          },
          end: {
            line: 243,
            column: 3
          }
        },
        line: 202
      },
      '22': {
        name: '(anonymous_22)',
        decl: {
          start: {
            line: 226,
            column: 20
          },
          end: {
            line: 226,
            column: 21
          }
        },
        loc: {
          start: {
            line: 227,
            column: 8
          },
          end: {
            line: 230,
            column: 10
          }
        },
        line: 227
      },
      '23': {
        name: '(anonymous_23)',
        decl: {
          start: {
            line: 227,
            column: 53
          },
          end: {
            line: 227,
            column: 54
          }
        },
        loc: {
          start: {
            line: 227,
            column: 60
          },
          end: {
            line: 230,
            column: 9
          }
        },
        line: 227
      },
      '24': {
        name: '(anonymous_24)',
        decl: {
          start: {
            line: 232,
            column: 6
          },
          end: {
            line: 232,
            column: 7
          }
        },
        loc: {
          start: {
            line: 232,
            column: 11
          },
          end: {
            line: 232,
            column: 12
          }
        },
        line: 232
      },
      '25': {
        name: '(anonymous_25)',
        decl: {
          start: {
            line: 239,
            column: 8
          },
          end: {
            line: 239,
            column: 9
          }
        },
        loc: {
          start: {
            line: 239,
            column: 14
          },
          end: {
            line: 239,
            column: 27
          }
        },
        line: 239
      },
      '26': {
        name: '(anonymous_26)',
        decl: {
          start: {
            line: 246,
            column: 2
          },
          end: {
            line: 246,
            column: 3
          }
        },
        loc: {
          start: {
            line: 246,
            column: 78
          },
          end: {
            line: 254,
            column: 3
          }
        },
        line: 246
      }
    },
    branchMap: {
      '0': {
        loc: {
          start: {
            line: 37,
            column: 2
          },
          end: {
            line: 58,
            column: 3
          }
        },
        type: 'if',
        locations: [{
          start: {
            line: 37,
            column: 2
          },
          end: {
            line: 58,
            column: 3
          }
        }, {
          start: {
            line: 37,
            column: 2
          },
          end: {
            line: 58,
            column: 3
          }
        }],
        line: 37
      },
      '1': {
        loc: {
          start: {
            line: 39,
            column: 9
          },
          end: {
            line: 58,
            column: 3
          }
        },
        type: 'if',
        locations: [{
          start: {
            line: 39,
            column: 9
          },
          end: {
            line: 58,
            column: 3
          }
        }, {
          start: {
            line: 39,
            column: 9
          },
          end: {
            line: 58,
            column: 3
          }
        }],
        line: 39
      },
      '2': {
        loc: {
          start: {
            line: 42,
            column: 9
          },
          end: {
            line: 58,
            column: 3
          }
        },
        type: 'if',
        locations: [{
          start: {
            line: 42,
            column: 9
          },
          end: {
            line: 58,
            column: 3
          }
        }, {
          start: {
            line: 42,
            column: 9
          },
          end: {
            line: 58,
            column: 3
          }
        }],
        line: 42
      },
      '3': {
        loc: {
          start: {
            line: 102,
            column: 6
          },
          end: {
            line: 106,
            column: 7
          }
        },
        type: 'if',
        locations: [{
          start: {
            line: 102,
            column: 6
          },
          end: {
            line: 106,
            column: 7
          }
        }, {
          start: {
            line: 102,
            column: 6
          },
          end: {
            line: 106,
            column: 7
          }
        }],
        line: 102
      },
      '4': {
        loc: {
          start: {
            line: 103,
            column: 8
          },
          end: {
            line: 105,
            column: 9
          }
        },
        type: 'if',
        locations: [{
          start: {
            line: 103,
            column: 8
          },
          end: {
            line: 105,
            column: 9
          }
        }, {
          start: {
            line: 103,
            column: 8
          },
          end: {
            line: 105,
            column: 9
          }
        }],
        line: 103
      },
      '5': {
        loc: {
          start: {
            line: 114,
            column: 8
          },
          end: {
            line: 119,
            column: 9
          }
        },
        type: 'if',
        locations: [{
          start: {
            line: 114,
            column: 8
          },
          end: {
            line: 119,
            column: 9
          }
        }, {
          start: {
            line: 114,
            column: 8
          },
          end: {
            line: 119,
            column: 9
          }
        }],
        line: 114
      },
      '6': {
        loc: {
          start: {
            line: 116,
            column: 10
          },
          end: {
            line: 118,
            column: 11
          }
        },
        type: 'if',
        locations: [{
          start: {
            line: 116,
            column: 10
          },
          end: {
            line: 118,
            column: 11
          }
        }, {
          start: {
            line: 116,
            column: 10
          },
          end: {
            line: 118,
            column: 11
          }
        }],
        line: 116
      },
      '7': {
        loc: {
          start: {
            line: 133,
            column: 14
          },
          end: {
            line: 133,
            column: 79
          }
        },
        type: 'cond-expr',
        locations: [{
          start: {
            line: 133,
            column: 58
          },
          end: {
            line: 133,
            column: 72
          }
        }, {
          start: {
            line: 133,
            column: 75
          },
          end: {
            line: 133,
            column: 79
          }
        }],
        line: 133
      },
      '8': {
        loc: {
          start: {
            line: 136,
            column: 10
          },
          end: {
            line: 147,
            column: 11
          }
        },
        type: 'if',
        locations: [{
          start: {
            line: 136,
            column: 10
          },
          end: {
            line: 147,
            column: 11
          }
        }, {
          start: {
            line: 136,
            column: 10
          },
          end: {
            line: 147,
            column: 11
          }
        }],
        line: 136
      },
      '9': {
        loc: {
          start: {
            line: 138,
            column: 14
          },
          end: {
            line: 140,
            column: 15
          }
        },
        type: 'if',
        locations: [{
          start: {
            line: 138,
            column: 14
          },
          end: {
            line: 140,
            column: 15
          }
        }, {
          start: {
            line: 138,
            column: 14
          },
          end: {
            line: 140,
            column: 15
          }
        }],
        line: 138
      },
      '10': {
        loc: {
          start: {
            line: 155,
            column: 8
          },
          end: {
            line: 157,
            column: 9
          }
        },
        type: 'if',
        locations: [{
          start: {
            line: 155,
            column: 8
          },
          end: {
            line: 157,
            column: 9
          }
        }, {
          start: {
            line: 155,
            column: 8
          },
          end: {
            line: 157,
            column: 9
          }
        }],
        line: 155
      },
      '11': {
        loc: {
          start: {
            line: 155,
            column: 12
          },
          end: {
            line: 155,
            column: 57
          }
        },
        type: 'binary-expr',
        locations: [{
          start: {
            line: 155,
            column: 12
          },
          end: {
            line: 155,
            column: 17
          }
        }, {
          start: {
            line: 155,
            column: 21
          },
          end: {
            line: 155,
            column: 57
          }
        }],
        line: 155
      },
      '12': {
        loc: {
          start: {
            line: 161,
            column: 12
          },
          end: {
            line: 165,
            column: 13
          }
        },
        type: 'if',
        locations: [{
          start: {
            line: 161,
            column: 12
          },
          end: {
            line: 165,
            column: 13
          }
        }, {
          start: {
            line: 161,
            column: 12
          },
          end: {
            line: 165,
            column: 13
          }
        }],
        line: 161
      },
      '13': {
        loc: {
          start: {
            line: 162,
            column: 14
          },
          end: {
            line: 164,
            column: 15
          }
        },
        type: 'if',
        locations: [{
          start: {
            line: 162,
            column: 14
          },
          end: {
            line: 164,
            column: 15
          }
        }, {
          start: {
            line: 162,
            column: 14
          },
          end: {
            line: 164,
            column: 15
          }
        }],
        line: 162
      },
      '14': {
        loc: {
          start: {
            line: 168,
            column: 8
          },
          end: {
            line: 172,
            column: 9
          }
        },
        type: 'if',
        locations: [{
          start: {
            line: 168,
            column: 8
          },
          end: {
            line: 172,
            column: 9
          }
        }, {
          start: {
            line: 168,
            column: 8
          },
          end: {
            line: 172,
            column: 9
          }
        }],
        line: 168
      },
      '15': {
        loc: {
          start: {
            line: 182,
            column: 8
          },
          end: {
            line: 185,
            column: 9
          }
        },
        type: 'if',
        locations: [{
          start: {
            line: 182,
            column: 8
          },
          end: {
            line: 185,
            column: 9
          }
        }, {
          start: {
            line: 182,
            column: 8
          },
          end: {
            line: 185,
            column: 9
          }
        }],
        line: 182
      },
      '16': {
        loc: {
          start: {
            line: 204,
            column: 4
          },
          end: {
            line: 206,
            column: 5
          }
        },
        type: 'if',
        locations: [{
          start: {
            line: 204,
            column: 4
          },
          end: {
            line: 206,
            column: 5
          }
        }, {
          start: {
            line: 204,
            column: 4
          },
          end: {
            line: 206,
            column: 5
          }
        }],
        line: 204
      },
      '17': {
        loc: {
          start: {
            line: 209,
            column: 4
          },
          end: {
            line: 211,
            column: 5
          }
        },
        type: 'if',
        locations: [{
          start: {
            line: 209,
            column: 4
          },
          end: {
            line: 211,
            column: 5
          }
        }, {
          start: {
            line: 209,
            column: 4
          },
          end: {
            line: 211,
            column: 5
          }
        }],
        line: 209
      },
      '18': {
        loc: {
          start: {
            line: 213,
            column: 6
          },
          end: {
            line: 215,
            column: 42
          }
        },
        type: 'cond-expr',
        locations: [{
          start: {
            line: 214,
            column: 10
          },
          end: {
            line: 214,
            column: 52
          }
        }, {
          start: {
            line: 215,
            column: 10
          },
          end: {
            line: 215,
            column: 42
          }
        }],
        line: 213
      },
      '19': {
        loc: {
          start: {
            line: 222,
            column: 4
          },
          end: {
            line: 224,
            column: 5
          }
        },
        type: 'if',
        locations: [{
          start: {
            line: 222,
            column: 4
          },
          end: {
            line: 224,
            column: 5
          }
        }, {
          start: {
            line: 222,
            column: 4
          },
          end: {
            line: 224,
            column: 5
          }
        }],
        line: 222
      },
      '20': {
        loc: {
          start: {
            line: 235,
            column: 4
          },
          end: {
            line: 241,
            column: 5
          }
        },
        type: 'if',
        locations: [{
          start: {
            line: 235,
            column: 4
          },
          end: {
            line: 241,
            column: 5
          }
        }, {
          start: {
            line: 235,
            column: 4
          },
          end: {
            line: 241,
            column: 5
          }
        }],
        line: 235
      },
      '21': {
        loc: {
          start: {
            line: 248,
            column: 4
          },
          end: {
            line: 251,
            column: 5
          }
        },
        type: 'if',
        locations: [{
          start: {
            line: 248,
            column: 4
          },
          end: {
            line: 251,
            column: 5
          }
        }, {
          start: {
            line: 248,
            column: 4
          },
          end: {
            line: 251,
            column: 5
          }
        }],
        line: 248
      }
    },
    s: {
      '0': 0,
      '1': 0,
      '2': 0,
      '3': 0,
      '4': 0,
      '5': 0,
      '6': 0,
      '7': 0,
      '8': 0,
      '9': 0,
      '10': 0,
      '11': 0,
      '12': 0,
      '13': 0,
      '14': 0,
      '15': 0,
      '16': 0,
      '17': 0,
      '18': 0,
      '19': 0,
      '20': 0,
      '21': 0,
      '22': 0,
      '23': 0,
      '24': 0,
      '25': 0,
      '26': 0,
      '27': 0,
      '28': 0,
      '29': 0,
      '30': 0,
      '31': 0,
      '32': 0,
      '33': 0,
      '34': 0,
      '35': 0,
      '36': 0,
      '37': 0,
      '38': 0,
      '39': 0,
      '40': 0,
      '41': 0,
      '42': 0,
      '43': 0,
      '44': 0,
      '45': 0,
      '46': 0,
      '47': 0,
      '48': 0,
      '49': 0,
      '50': 0,
      '51': 0,
      '52': 0,
      '53': 0,
      '54': 0,
      '55': 0,
      '56': 0,
      '57': 0,
      '58': 0,
      '59': 0,
      '60': 0,
      '61': 0,
      '62': 0,
      '63': 0,
      '64': 0,
      '65': 0,
      '66': 0,
      '67': 0,
      '68': 0,
      '69': 0,
      '70': 0,
      '71': 0,
      '72': 0,
      '73': 0,
      '74': 0,
      '75': 0,
      '76': 0,
      '77': 0,
      '78': 0,
      '79': 0,
      '80': 0,
      '81': 0,
      '82': 0,
      '83': 0,
      '84': 0,
      '85': 0,
      '86': 0,
      '87': 0,
      '88': 0,
      '89': 0,
      '90': 0,
      '91': 0,
      '92': 0,
      '93': 0
    },
    f: {
      '0': 0,
      '1': 0,
      '2': 0,
      '3': 0,
      '4': 0,
      '5': 0,
      '6': 0,
      '7': 0,
      '8': 0,
      '9': 0,
      '10': 0,
      '11': 0,
      '12': 0,
      '13': 0,
      '14': 0,
      '15': 0,
      '16': 0,
      '17': 0,
      '18': 0,
      '19': 0,
      '20': 0,
      '21': 0,
      '22': 0,
      '23': 0,
      '24': 0,
      '25': 0,
      '26': 0
    },
    b: {
      '0': [0, 0],
      '1': [0, 0],
      '2': [0, 0],
      '3': [0, 0],
      '4': [0, 0],
      '5': [0, 0],
      '6': [0, 0],
      '7': [0, 0],
      '8': [0, 0],
      '9': [0, 0],
      '10': [0, 0],
      '11': [0, 0],
      '12': [0, 0],
      '13': [0, 0],
      '14': [0, 0],
      '15': [0, 0],
      '16': [0, 0],
      '17': [0, 0],
      '18': [0, 0],
      '19': [0, 0],
      '20': [0, 0],
      '21': [0, 0]
    },
    _coverageSchema: '332fd63041d2c1bcb487cc26dd0d5f7d97098a6c'
  },
      coverage = global[gcv] || (global[gcv] = {});

  if (coverage[path] && coverage[path].hash === hash) {
    return coverage[path];
  }

  coverageData.hash = hash;
  return coverage[path] = coverageData;
}();

var _asyncToGenerator = _interopRequireDefault(require('async-to-generator'));

var _nuclideUri;

function _load_nuclideUri() {
  return _nuclideUri = _interopRequireDefault(require('nuclide-commons/nuclideUri'));
}

var _promise;

function _load_promise() {
  return _promise = require('nuclide-commons/promise');
}

var _createPackage;

function _load_createPackage() {
  return _createPackage = _interopRequireDefault(require('nuclide-commons-atom/createPackage'));
}

var _ContextMenu;

function _load_ContextMenu() {
  return _ContextMenu = _interopRequireDefault(require('nuclide-commons-atom/ContextMenu'));
}

var _mouseToPosition;

function _load_mouseToPosition() {
  return _mouseToPosition = require('nuclide-commons-atom/mouse-to-position');
}

var _textEditor;

function _load_textEditor() {
  return _textEditor = require('nuclide-commons-atom/text-editor');
}

var _UniversalDisposable;

function _load_UniversalDisposable() {
  return _UniversalDisposable = _interopRequireDefault(require('nuclide-commons/UniversalDisposable'));
}

var _analytics;

function _load_analytics() {
  return _analytics = _interopRequireDefault(require('nuclide-commons-atom/analytics'));
}

var _FindReferencesViewModel;

function _load_FindReferencesViewModel() {
  return _FindReferencesViewModel = require('./FindReferencesViewModel');
}

var _log4js;

function _load_log4js() {
  return _log4js = require('log4js');
}

var _FindReferencesModel;

function _load_FindReferencesModel() {
  return _FindReferencesModel = _interopRequireDefault(require('./FindReferencesModel'));
}

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function showWarning(message) {
  cov_1eppbfcv39.f[0]++;
  cov_1eppbfcv39.s[0]++;

  atom.notifications.addWarning('Find References: ' + message, {
    dismissable: true
  });
} /**
   * Copyright (c) 2017-present, Facebook, Inc.
   * All rights reserved.
   *
   * This source code is licensed under the BSD-style license found in the
   * LICENSE file in the root directory of this source tree. An additional grant
   * of patent rights can be found in the PATENTS file in the same directory.
   *
   * 
   * @format
   */

/* global getSelection */

function tryCreateView(data) {
  cov_1eppbfcv39.f[1]++;
  cov_1eppbfcv39.s[1]++;

  if (data == null) {
    cov_1eppbfcv39.b[0][0]++;
    cov_1eppbfcv39.s[2]++;

    showWarning('Symbol references are not available for this project.');
  } else {
      cov_1eppbfcv39.b[0][1]++;
      cov_1eppbfcv39.s[3]++;
      if (data.type === 'error') {
        cov_1eppbfcv39.b[1][0]++;
        cov_1eppbfcv39.s[4]++;

        (_analytics || _load_analytics()).default.track('find-references:error', { message: data.message });
        cov_1eppbfcv39.s[5]++;
        showWarning(data.message);
      } else {
          cov_1eppbfcv39.b[1][1]++;
          cov_1eppbfcv39.s[6]++;
          if (!data.references.length) {
            cov_1eppbfcv39.b[2][0]++;
            cov_1eppbfcv39.s[7]++;

            (_analytics || _load_analytics()).default.track('find-references:success', { resultCount: '0' });
            cov_1eppbfcv39.s[8]++;
            showWarning('No references found.');
          } else {
            cov_1eppbfcv39.b[2][1]++;

            const { baseUri, referencedSymbolName, references } = (cov_1eppbfcv39.s[9]++, data);
            cov_1eppbfcv39.s[10]++;
            (_analytics || _load_analytics()).default.track('find-references:success', {
              baseUri,
              referencedSymbolName,
              resultCount: references.length.toString()
            });
            const model = (cov_1eppbfcv39.s[11]++, new (_FindReferencesModel || _load_FindReferencesModel()).default(baseUri, referencedSymbolName, references));
            cov_1eppbfcv39.s[12]++;
            return new (_FindReferencesViewModel || _load_FindReferencesViewModel()).FindReferencesViewModel(model);
          }
        }
    }
}

function enableForEditor(editor) {
  cov_1eppbfcv39.f[2]++;

  const elem = (cov_1eppbfcv39.s[13]++, atom.views.getView(editor));
  cov_1eppbfcv39.s[14]++;
  elem.classList.add('enable-atom-ide-find-references');
}

function disableForEditor(editor) {
  cov_1eppbfcv39.f[3]++;

  const elem = (cov_1eppbfcv39.s[15]++, atom.views.getView(editor));
  cov_1eppbfcv39.s[16]++;
  elem.classList.remove('enable-atom-ide-find-references');
}

class Activation {

  constructor(state) {
    this._providers = [];
    this._supportedProviders = new Map();
    cov_1eppbfcv39.f[4]++;
    cov_1eppbfcv39.s[17]++;

    this._subscriptions = new (_UniversalDisposable || _load_UniversalDisposable()).default();
    // Add this separately as registerOpenerAndCommand requires
    // this._subscriptions to be initialized for observeTextEditors function.
    cov_1eppbfcv39.s[18]++;
    this._subscriptions.add(this.registerOpenerAndCommand());
  }

  dispose() {
    cov_1eppbfcv39.f[5]++;
    cov_1eppbfcv39.s[19]++;

    this._subscriptions.dispose();
  }

  consumeBusySignal(busySignalService) {
    cov_1eppbfcv39.f[6]++;
    cov_1eppbfcv39.s[20]++;

    this._busySignalService = busySignalService;
    cov_1eppbfcv39.s[21]++;
    return new (_UniversalDisposable || _load_UniversalDisposable()).default(() => {
      cov_1eppbfcv39.f[7]++;
      cov_1eppbfcv39.s[22]++;

      this._busySignalService = null;
    });
  }

  consumeProvider(provider) {
    var _this = this;

    cov_1eppbfcv39.f[8]++;
    cov_1eppbfcv39.s[23]++;

    this._providers.push(provider);
    // Editors are often open before providers load, so update existing ones too.
    cov_1eppbfcv39.s[24]++;
    atom.workspace.getTextEditors().forEach((() => {
      var _ref = (0, _asyncToGenerator.default)(function* (editor) {
        cov_1eppbfcv39.f[9]++;
        cov_1eppbfcv39.s[25]++;

        if (yield provider.isEditorSupported(editor)) {
          cov_1eppbfcv39.b[3][0]++;
          cov_1eppbfcv39.s[26]++;

          if (_this._addSupportedProvider(editor, provider)) {
            cov_1eppbfcv39.b[4][0]++;
            cov_1eppbfcv39.s[27]++;

            enableForEditor(editor);
          } else {
            cov_1eppbfcv39.b[4][1]++;
          }
        } else {
          cov_1eppbfcv39.b[3][1]++;
        }
      });

      return function (_x) {
        return _ref.apply(this, arguments);
      };
    })());

    cov_1eppbfcv39.s[28]++;
    return new (_UniversalDisposable || _load_UniversalDisposable()).default(() => {
      cov_1eppbfcv39.f[10]++;
      cov_1eppbfcv39.s[29]++;

      this._providers = this._providers.filter(p => {
        cov_1eppbfcv39.f[11]++;
        cov_1eppbfcv39.s[30]++;
        return p !== provider;
      });

      cov_1eppbfcv39.s[31]++;
      this._supportedProviders.forEach((supported, editor) => {
        cov_1eppbfcv39.f[12]++;

        const providerIdx = (cov_1eppbfcv39.s[32]++, supported.indexOf(provider));
        cov_1eppbfcv39.s[33]++;
        if (providerIdx !== -1) {
          cov_1eppbfcv39.b[5][0]++;
          cov_1eppbfcv39.s[34]++;

          supported.splice(providerIdx, 1);
          cov_1eppbfcv39.s[35]++;
          if (supported.length === 0) {
            cov_1eppbfcv39.b[6][0]++;
            cov_1eppbfcv39.s[36]++;

            disableForEditor(editor);
          } else {
            cov_1eppbfcv39.b[6][1]++;
          }
        } else {
          cov_1eppbfcv39.b[5][1]++;
        }
      });
    });
  }

  registerOpenerAndCommand() {
    var _this2 = this;

    cov_1eppbfcv39.f[13]++;

    let lastMouseEvent;
    cov_1eppbfcv39.s[37]++;
    return new (_UniversalDisposable || _load_UniversalDisposable()).default(atom.commands.add('atom-text-editor', 'find-references:activate', (() => {
      var _ref2 = (0, _asyncToGenerator.default)(function* (event) {
        cov_1eppbfcv39.f[14]++;

        const view = (cov_1eppbfcv39.s[38]++, tryCreateView((yield _this2._getProviderData((_ContextMenu || _load_ContextMenu()).default.isEventFromContextMenu(event) ? (cov_1eppbfcv39.b[7][0]++, lastMouseEvent) : (cov_1eppbfcv39.b[7][1]++, null)))));
        cov_1eppbfcv39.s[39]++;
        if (view != null) {
          cov_1eppbfcv39.b[8][0]++;

          const disposable = (cov_1eppbfcv39.s[40]++, atom.workspace.addOpener(function (newUri) {
            cov_1eppbfcv39.f[15]++;
            cov_1eppbfcv39.s[41]++;

            if (view.getURI() === newUri) {
              cov_1eppbfcv39.b[9][0]++;
              cov_1eppbfcv39.s[42]++;

              return view;
            } else {
              cov_1eppbfcv39.b[9][1]++;
            }
          }));
          // not a file URI
          // eslint-disable-next-line rulesdir/atom-apis
          cov_1eppbfcv39.s[43]++;
          atom.workspace.open(view.getURI());
          // The new tab opens instantly, so this is no longer needed.
          cov_1eppbfcv39.s[44]++;
          disposable.dispose();
        } else {
          cov_1eppbfcv39.b[8][1]++;
        }
      });

      return function (_x2) {
        return _ref2.apply(this, arguments);
      };
    })()),
    // Mark text editors with a working provider with a special CSS class.
    // This ensures the context menu option only appears in supported projects.
    (0, (_textEditor || _load_textEditor()).observeTextEditors)((() => {
      var _ref3 = (0, _asyncToGenerator.default)(function* (editor) {
        cov_1eppbfcv39.f[16]++;

        const path = (cov_1eppbfcv39.s[45]++, editor.getPath());
        // flowlint-next-line sketchy-null-string:off
        cov_1eppbfcv39.s[46]++;
        if ((cov_1eppbfcv39.b[11][0]++, !path) || (cov_1eppbfcv39.b[11][1]++, _this2._supportedProviders.get(editor))) {
          cov_1eppbfcv39.b[10][0]++;
          cov_1eppbfcv39.s[47]++;

          return;
        } else {
          cov_1eppbfcv39.b[10][1]++;
        }
        cov_1eppbfcv39.s[48]++;
        _this2._supportedProviders.set(editor, []);
        cov_1eppbfcv39.s[49]++;
        yield Promise.all(_this2._providers.map((() => {
          var _ref4 = (0, _asyncToGenerator.default)(function* (provider) {
            cov_1eppbfcv39.f[17]++;
            cov_1eppbfcv39.s[50]++;

            if (yield provider.isEditorSupported(editor)) {
              cov_1eppbfcv39.b[12][0]++;
              cov_1eppbfcv39.s[51]++;

              if (_this2._addSupportedProvider(editor, provider)) {
                cov_1eppbfcv39.b[13][0]++;
                cov_1eppbfcv39.s[52]++;

                enableForEditor(editor);
              } else {
                cov_1eppbfcv39.b[13][1]++;
              }
            } else {
              cov_1eppbfcv39.b[12][1]++;
            }
          });

          return function (_x4) {
            return _ref4.apply(this, arguments);
          };
        })()));
        cov_1eppbfcv39.s[53]++;
        if (editor.isDestroyed()) {
          cov_1eppbfcv39.b[14][0]++;
          cov_1eppbfcv39.s[54]++;

          // This is asynchronous, so the editor may have been destroyed!
          _this2._supportedProviders.delete(editor);
          cov_1eppbfcv39.s[55]++;
          return;
        } else {
          cov_1eppbfcv39.b[14][1]++;
        }
        const disposable = (cov_1eppbfcv39.s[56]++, editor.onDidDestroy(function () {
          cov_1eppbfcv39.f[18]++;
          cov_1eppbfcv39.s[57]++;

          _this2._supportedProviders.delete(editor);
          cov_1eppbfcv39.s[58]++;
          _this2._subscriptions.remove(disposable);
        }));
        cov_1eppbfcv39.s[59]++;
        _this2._subscriptions.add(disposable);
      });

      return function (_x3) {
        return _ref3.apply(this, arguments);
      };
    })()),
    // Enable text copy from the symbol reference
    atom.commands.add('atom-ide-find-references-view', 'core:copy', () => {
      cov_1eppbfcv39.f[19]++;

      const selection = (cov_1eppbfcv39.s[60]++, getSelection());
      cov_1eppbfcv39.s[61]++;
      if (selection != null) {
        cov_1eppbfcv39.b[15][0]++;

        const selectedText = (cov_1eppbfcv39.s[62]++, selection.toString());
        cov_1eppbfcv39.s[63]++;
        atom.clipboard.write(selectedText);
      } else {
        cov_1eppbfcv39.b[15][1]++;
      }
    }),
    // Add the context menu programmatically so we can capture the mouse event.
    atom.contextMenu.add({
      'atom-text-editor:not(.mini).enable-atom-ide-find-references': [{
        label: 'Find References',
        command: 'find-references:activate',
        created: event => {
          cov_1eppbfcv39.f[20]++;
          cov_1eppbfcv39.s[64]++;

          lastMouseEvent = event;
        }
      }]
    }));
  }

  _getProviderData(event) {
    var _this3 = this;

    return (0, _asyncToGenerator.default)(function* () {
      cov_1eppbfcv39.f[21]++;

      const editor = (cov_1eppbfcv39.s[65]++, atom.workspace.getActiveTextEditor());
      cov_1eppbfcv39.s[66]++;
      if (!editor) {
        cov_1eppbfcv39.b[16][0]++;
        cov_1eppbfcv39.s[67]++;

        return null;
      } else {
        cov_1eppbfcv39.b[16][1]++;
      }
      const path = (cov_1eppbfcv39.s[68]++, editor.getPath());
      // flowlint-next-line sketchy-null-string:off
      cov_1eppbfcv39.s[69]++;
      if (!path) {
        cov_1eppbfcv39.b[17][0]++;
        cov_1eppbfcv39.s[70]++;

        return null;
      } else {
        cov_1eppbfcv39.b[17][1]++;
      }
      const point = (cov_1eppbfcv39.s[71]++, event != null ? (cov_1eppbfcv39.b[18][0]++, (0, (_mouseToPosition || _load_mouseToPosition()).bufferPositionForMouseEvent)(event, editor)) : (cov_1eppbfcv39.b[18][1]++, editor.getCursorBufferPosition()));
      cov_1eppbfcv39.s[72]++;
      (_analytics || _load_analytics()).default.track('find-references:activate', {
        path,
        row: point.row.toString(),
        column: point.column.toString()
      });
      const supported = (cov_1eppbfcv39.s[73]++, _this3._supportedProviders.get(editor));
      cov_1eppbfcv39.s[74]++;
      if (!supported) {
        cov_1eppbfcv39.b[19][0]++;
        cov_1eppbfcv39.s[75]++;

        return null;
      } else {
        cov_1eppbfcv39.b[19][1]++;
      }
      const resultPromise = (cov_1eppbfcv39.s[76]++, (0, (_promise || _load_promise()).asyncFind)(supported.map(function (provider) {
        cov_1eppbfcv39.f[22]++;
        cov_1eppbfcv39.s[77]++;
        return provider.findReferences(editor, point).catch(function (err) {
          cov_1eppbfcv39.f[23]++;
          cov_1eppbfcv39.s[78]++;

          (0, (_log4js || _load_log4js()).getLogger)('find-references').error('Error finding references', err);
          cov_1eppbfcv39.s[79]++;
          return null;
        });
      }), function (x) {
        cov_1eppbfcv39.f[24]++;
        cov_1eppbfcv39.s[80]++;
        return x;
      }));
      const busySignalService = (cov_1eppbfcv39.s[81]++, _this3._busySignalService);
      cov_1eppbfcv39.s[82]++;
      if (busySignalService != null) {
        cov_1eppbfcv39.b[20][0]++;

        const displayPath = (cov_1eppbfcv39.s[83]++, (_nuclideUri || _load_nuclideUri()).default.basename(path));
        cov_1eppbfcv39.s[84]++;
        return busySignalService.reportBusyWhile(`Finding references for ${displayPath}:${point.row}:${point.column}`, function () {
          cov_1eppbfcv39.f[25]++;
          cov_1eppbfcv39.s[85]++;
          return resultPromise;
        });
      } else {
        cov_1eppbfcv39.b[20][1]++;
      }
      cov_1eppbfcv39.s[86]++;
      return resultPromise;
    })();
  }

  // Returns true if this adds the first provider for the editor.
  _addSupportedProvider(editor, provider) {
    cov_1eppbfcv39.f[26]++;

    let supported = (cov_1eppbfcv39.s[87]++, this._supportedProviders.get(editor));
    cov_1eppbfcv39.s[88]++;
    if (supported == null) {
      cov_1eppbfcv39.b[21][0]++;
      cov_1eppbfcv39.s[89]++;

      supported = [];
      cov_1eppbfcv39.s[90]++;
      this._supportedProviders.set(editor, supported);
    } else {
      cov_1eppbfcv39.b[21][1]++;
    }
    cov_1eppbfcv39.s[91]++;
    supported.push(provider);
    cov_1eppbfcv39.s[92]++;
    return supported.length === 1;
  }
}

cov_1eppbfcv39.s[93]++;
(0, (_createPackage || _load_createPackage()).default)(module.exports, Activation);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsic2hvd1dhcm5pbmciLCJtZXNzYWdlIiwiYXRvbSIsIm5vdGlmaWNhdGlvbnMiLCJhZGRXYXJuaW5nIiwiZGlzbWlzc2FibGUiLCJ0cnlDcmVhdGVWaWV3IiwiZGF0YSIsInR5cGUiLCJ0cmFjayIsInJlZmVyZW5jZXMiLCJsZW5ndGgiLCJyZXN1bHRDb3VudCIsImJhc2VVcmkiLCJyZWZlcmVuY2VkU3ltYm9sTmFtZSIsInRvU3RyaW5nIiwibW9kZWwiLCJlbmFibGVGb3JFZGl0b3IiLCJlZGl0b3IiLCJlbGVtIiwidmlld3MiLCJnZXRWaWV3IiwiY2xhc3NMaXN0IiwiYWRkIiwiZGlzYWJsZUZvckVkaXRvciIsInJlbW92ZSIsIkFjdGl2YXRpb24iLCJjb25zdHJ1Y3RvciIsInN0YXRlIiwiX3Byb3ZpZGVycyIsIl9zdXBwb3J0ZWRQcm92aWRlcnMiLCJNYXAiLCJfc3Vic2NyaXB0aW9ucyIsInJlZ2lzdGVyT3BlbmVyQW5kQ29tbWFuZCIsImRpc3Bvc2UiLCJjb25zdW1lQnVzeVNpZ25hbCIsImJ1c3lTaWduYWxTZXJ2aWNlIiwiX2J1c3lTaWduYWxTZXJ2aWNlIiwiY29uc3VtZVByb3ZpZGVyIiwicHJvdmlkZXIiLCJwdXNoIiwid29ya3NwYWNlIiwiZ2V0VGV4dEVkaXRvcnMiLCJmb3JFYWNoIiwiaXNFZGl0b3JTdXBwb3J0ZWQiLCJfYWRkU3VwcG9ydGVkUHJvdmlkZXIiLCJmaWx0ZXIiLCJwIiwic3VwcG9ydGVkIiwicHJvdmlkZXJJZHgiLCJpbmRleE9mIiwic3BsaWNlIiwibGFzdE1vdXNlRXZlbnQiLCJjb21tYW5kcyIsImV2ZW50IiwidmlldyIsIl9nZXRQcm92aWRlckRhdGEiLCJpc0V2ZW50RnJvbUNvbnRleHRNZW51IiwiZGlzcG9zYWJsZSIsImFkZE9wZW5lciIsImdldFVSSSIsIm5ld1VyaSIsIm9wZW4iLCJwYXRoIiwiZ2V0UGF0aCIsImdldCIsInNldCIsIlByb21pc2UiLCJhbGwiLCJtYXAiLCJpc0Rlc3Ryb3llZCIsImRlbGV0ZSIsIm9uRGlkRGVzdHJveSIsInNlbGVjdGlvbiIsImdldFNlbGVjdGlvbiIsInNlbGVjdGVkVGV4dCIsImNsaXBib2FyZCIsIndyaXRlIiwiY29udGV4dE1lbnUiLCJsYWJlbCIsImNvbW1hbmQiLCJjcmVhdGVkIiwiZ2V0QWN0aXZlVGV4dEVkaXRvciIsInBvaW50IiwiZ2V0Q3Vyc29yQnVmZmVyUG9zaXRpb24iLCJyb3ciLCJjb2x1bW4iLCJyZXN1bHRQcm9taXNlIiwiZmluZFJlZmVyZW5jZXMiLCJjYXRjaCIsImVycm9yIiwiZXJyIiwieCIsImRpc3BsYXlQYXRoIiwiYmFzZW5hbWUiLCJyZXBvcnRCdXN5V2hpbGUiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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NkI7QUFFN0IsZUFBTzNCLGtCQUFrQjJELGVBQWxCLENBQ0osMEJBQXlCRixXQUFZLElBQUdWLE1BQU1FLEdBQUksSUFBR0YsTUFBTUcsTUFBTyxFQUQ5RCxFQUVMLFlBQU1DO0FBQUFBO0FBQUFBO0FBQUFBO0FBQWFBLFNBRmQsQ0FBUDtBQUlELE9BTkQ7QUFBQTtBQUFBO0FBakN5RTtBQXdDekUsYUFBT0EsYUFBUDtBQXhDeUU7QUF5QzFFOztBQUVEO0FBQ0ExQyx3QkFBc0IzQixNQUF0QixFQUEwQ3FCLFFBQTFDLEVBQTRFO0FBQUE7O0FBQzFFLFFBQUlTLHFDQUFZLEtBQUtsQixtQkFBTCxDQUF5Qm1DLEdBQXpCLENBQTZCL0MsTUFBN0IsQ0FBWixDQUFKO0FBRDBFO0FBRTFFLFFBQUk4QixhQUFhLElBQWpCLEVBQXVCO0FBQUE7QUFBQTs7QUFDckJBLGtCQUFZLEVBQVo7QUFEcUI7QUFFckIsV0FBS2xCLG1CQUFMLENBQXlCb0MsR0FBekIsQ0FBNkJoRCxNQUE3QixFQUFxQzhCLFNBQXJDO0FBQ0QsS0FIRDtBQUFBO0FBQUE7QUFGMEU7QUFNMUVBLGNBQVVSLElBQVYsQ0FBZUQsUUFBZjtBQU4wRTtBQU8xRSxXQUFPUyxVQUFVckMsTUFBVixLQUFxQixDQUE1QjtBQUNEO0FBdkxjOzs7QUEwTGpCLHVEQUFjcUYsT0FBT0MsT0FBckIsRUFBOEJ2RSxVQUE5QiIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTctcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBmbG93XG4gKiBAZm9ybWF0XG4gKi9cblxuLyogZ2xvYmFsIGdldFNlbGVjdGlvbiAqL1xuXG5pbXBvcnQgdHlwZSB7QnVzeVNpZ25hbFNlcnZpY2V9IGZyb20gJy4uLy4uL2F0b20taWRlLWJ1c3ktc2lnbmFsL2xpYi90eXBlcyc7XG5pbXBvcnQgdHlwZSB7RmluZFJlZmVyZW5jZXNQcm92aWRlciwgRmluZFJlZmVyZW5jZXNSZXR1cm59IGZyb20gJy4vdHlwZXMnO1xuXG5pbXBvcnQgbnVjbGlkZVVyaSBmcm9tICdudWNsaWRlLWNvbW1vbnMvbnVjbGlkZVVyaSc7XG5pbXBvcnQge2FzeW5jRmluZH0gZnJvbSAnbnVjbGlkZS1jb21tb25zL3Byb21pc2UnO1xuaW1wb3J0IGNyZWF0ZVBhY2thZ2UgZnJvbSAnbnVjbGlkZS1jb21tb25zLWF0b20vY3JlYXRlUGFja2FnZSc7XG5pbXBvcnQgQ29udGV4dE1lbnUgZnJvbSAnbnVjbGlkZS1jb21tb25zLWF0b20vQ29udGV4dE1lbnUnO1xuaW1wb3J0IHtidWZmZXJQb3NpdGlvbkZvck1vdXNlRXZlbnR9IGZyb20gJ251Y2xpZGUtY29tbW9ucy1hdG9tL21vdXNlLXRvLXBvc2l0aW9uJztcbmltcG9ydCB7b2JzZXJ2ZVRleHRFZGl0b3JzfSBmcm9tICdudWNsaWRlLWNvbW1vbnMtYXRvbS90ZXh0LWVkaXRvcic7XG5pbXBvcnQgVW5pdmVyc2FsRGlzcG9zYWJsZSBmcm9tICdudWNsaWRlLWNvbW1vbnMvVW5pdmVyc2FsRGlzcG9zYWJsZSc7XG5pbXBvcnQgYW5hbHl0aWNzIGZyb20gJ251Y2xpZGUtY29tbW9ucy1hdG9tL2FuYWx5dGljcyc7XG5pbXBvcnQge0ZpbmRSZWZlcmVuY2VzVmlld01vZGVsfSBmcm9tICcuL0ZpbmRSZWZlcmVuY2VzVmlld01vZGVsJztcbmltcG9ydCB7Z2V0TG9nZ2VyfSBmcm9tICdsb2c0anMnO1xuaW1wb3J0IEZpbmRSZWZlcmVuY2VzTW9kZWwgZnJvbSAnLi9GaW5kUmVmZXJlbmNlc01vZGVsJztcblxuZnVuY3Rpb24gc2hvd1dhcm5pbmcobWVzc2FnZTogc3RyaW5nKTogdm9pZCB7XG4gIGF0b20ubm90aWZpY2F0aW9ucy5hZGRXYXJuaW5nKCdGaW5kIFJlZmVyZW5jZXM6ICcgKyBtZXNzYWdlLCB7XG4gICAgZGlzbWlzc2FibGU6IHRydWUsXG4gIH0pO1xufVxuXG5mdW5jdGlvbiB0cnlDcmVhdGVWaWV3KGRhdGE6ID9GaW5kUmVmZXJlbmNlc1JldHVybik6ID9GaW5kUmVmZXJlbmNlc1ZpZXdNb2RlbCB7XG4gIGlmIChkYXRhID09IG51bGwpIHtcbiAgICBzaG93V2FybmluZygnU3ltYm9sIHJlZmVyZW5jZXMgYXJlIG5vdCBhdmFpbGFibGUgZm9yIHRoaXMgcHJvamVjdC4nKTtcbiAgfSBlbHNlIGlmIChkYXRhLnR5cGUgPT09ICdlcnJvcicpIHtcbiAgICBhbmFseXRpY3MudHJhY2soJ2ZpbmQtcmVmZXJlbmNlczplcnJvcicsIHttZXNzYWdlOiBkYXRhLm1lc3NhZ2V9KTtcbiAgICBzaG93V2FybmluZyhkYXRhLm1lc3NhZ2UpO1xuICB9IGVsc2UgaWYgKCFkYXRhLnJlZmVyZW5jZXMubGVuZ3RoKSB7XG4gICAgYW5hbHl0aWNzLnRyYWNrKCdmaW5kLXJlZmVyZW5jZXM6c3VjY2VzcycsIHtyZXN1bHRDb3VudDogJzAnfSk7XG4gICAgc2hvd1dhcm5pbmcoJ05vIHJlZmVyZW5jZXMgZm91bmQuJyk7XG4gIH0gZWxzZSB7XG4gICAgY29uc3Qge2Jhc2VVcmksIHJlZmVyZW5jZWRTeW1ib2xOYW1lLCByZWZlcmVuY2VzfSA9IGRhdGE7XG4gICAgYW5hbHl0aWNzLnRyYWNrKCdmaW5kLXJlZmVyZW5jZXM6c3VjY2VzcycsIHtcbiAgICAgIGJhc2VVcmksXG4gICAgICByZWZlcmVuY2VkU3ltYm9sTmFtZSxcbiAgICAgIHJlc3VsdENvdW50OiByZWZlcmVuY2VzLmxlbmd0aC50b1N0cmluZygpLFxuICAgIH0pO1xuICAgIGNvbnN0IG1vZGVsID0gbmV3IEZpbmRSZWZlcmVuY2VzTW9kZWwoXG4gICAgICBiYXNlVXJpLFxuICAgICAgcmVmZXJlbmNlZFN5bWJvbE5hbWUsXG4gICAgICByZWZlcmVuY2VzLFxuICAgICk7XG4gICAgcmV0dXJuIG5ldyBGaW5kUmVmZXJlbmNlc1ZpZXdNb2RlbChtb2RlbCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZW5hYmxlRm9yRWRpdG9yKGVkaXRvcjogVGV4dEVkaXRvcik6IHZvaWQge1xuICBjb25zdCBlbGVtID0gYXRvbS52aWV3cy5nZXRWaWV3KGVkaXRvcik7XG4gIGVsZW0uY2xhc3NMaXN0LmFkZCgnZW5hYmxlLWF0b20taWRlLWZpbmQtcmVmZXJlbmNlcycpO1xufVxuXG5mdW5jdGlvbiBkaXNhYmxlRm9yRWRpdG9yKGVkaXRvcjogVGV4dEVkaXRvcik6IHZvaWQge1xuICBjb25zdCBlbGVtID0gYXRvbS52aWV3cy5nZXRWaWV3KGVkaXRvcik7XG4gIGVsZW0uY2xhc3NMaXN0LnJlbW92ZSgnZW5hYmxlLWF0b20taWRlLWZpbmQtcmVmZXJlbmNlcycpO1xufVxuXG5jbGFzcyBBY3RpdmF0aW9uIHtcbiAgX3N1YnNjcmlwdGlvbnM6IFVuaXZlcnNhbERpc3Bvc2FibGU7XG4gIF9wcm92aWRlcnM6IEFycmF5PEZpbmRSZWZlcmVuY2VzUHJvdmlkZXI+ID0gW107XG4gIF9zdXBwb3J0ZWRQcm92aWRlcnM6IE1hcDxcbiAgICBUZXh0RWRpdG9yLFxuICAgIEFycmF5PEZpbmRSZWZlcmVuY2VzUHJvdmlkZXI+LFxuICA+ID0gbmV3IE1hcCgpO1xuICBfYnVzeVNpZ25hbFNlcnZpY2U6ID9CdXN5U2lnbmFsU2VydmljZTtcblxuICBjb25zdHJ1Y3RvcihzdGF0ZTogP2FueSk6IHZvaWQge1xuICAgIHRoaXMuX3N1YnNjcmlwdGlvbnMgPSBuZXcgVW5pdmVyc2FsRGlzcG9zYWJsZSgpO1xuICAgIC8vIEFkZCB0aGlzIHNlcGFyYXRlbHkgYXMgcmVnaXN0ZXJPcGVuZXJBbmRDb21tYW5kIHJlcXVpcmVzXG4gICAgLy8gdGhpcy5fc3Vic2NyaXB0aW9ucyB0byBiZSBpbml0aWFsaXplZCBmb3Igb2JzZXJ2ZVRleHRFZGl0b3JzIGZ1bmN0aW9uLlxuICAgIHRoaXMuX3N1YnNjcmlwdGlvbnMuYWRkKHRoaXMucmVnaXN0ZXJPcGVuZXJBbmRDb21tYW5kKCkpO1xuICB9XG5cbiAgZGlzcG9zZSgpOiB2b2lkIHtcbiAgICB0aGlzLl9zdWJzY3JpcHRpb25zLmRpc3Bvc2UoKTtcbiAgfVxuXG4gIGNvbnN1bWVCdXN5U2lnbmFsKGJ1c3lTaWduYWxTZXJ2aWNlOiBCdXN5U2lnbmFsU2VydmljZSk6IElEaXNwb3NhYmxlIHtcbiAgICB0aGlzLl9idXN5U2lnbmFsU2VydmljZSA9IGJ1c3lTaWduYWxTZXJ2aWNlO1xuICAgIHJldHVybiBuZXcgVW5pdmVyc2FsRGlzcG9zYWJsZSgoKSA9PiB7XG4gICAgICB0aGlzLl9idXN5U2lnbmFsU2VydmljZSA9IG51bGw7XG4gICAgfSk7XG4gIH1cblxuICBjb25zdW1lUHJvdmlkZXIocHJvdmlkZXI6IEZpbmRSZWZlcmVuY2VzUHJvdmlkZXIpOiBJRGlzcG9zYWJsZSB7XG4gICAgdGhpcy5fcHJvdmlkZXJzLnB1c2gocHJvdmlkZXIpO1xuICAgIC8vIEVkaXRvcnMgYXJlIG9mdGVuIG9wZW4gYmVmb3JlIHByb3ZpZGVycyBsb2FkLCBzbyB1cGRhdGUgZXhpc3Rpbmcgb25lcyB0b28uXG4gICAgYXRvbS53b3Jrc3BhY2UuZ2V0VGV4dEVkaXRvcnMoKS5mb3JFYWNoKGFzeW5jIGVkaXRvciA9PiB7XG4gICAgICBpZiAoYXdhaXQgcHJvdmlkZXIuaXNFZGl0b3JTdXBwb3J0ZWQoZWRpdG9yKSkge1xuICAgICAgICBpZiAodGhpcy5fYWRkU3VwcG9ydGVkUHJvdmlkZXIoZWRpdG9yLCBwcm92aWRlcikpIHtcbiAgICAgICAgICBlbmFibGVGb3JFZGl0b3IoZWRpdG9yKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIG5ldyBVbml2ZXJzYWxEaXNwb3NhYmxlKCgpID0+IHtcbiAgICAgIHRoaXMuX3Byb3ZpZGVycyA9IHRoaXMuX3Byb3ZpZGVycy5maWx0ZXIocCA9PiBwICE9PSBwcm92aWRlcik7XG5cbiAgICAgIHRoaXMuX3N1cHBvcnRlZFByb3ZpZGVycy5mb3JFYWNoKChzdXBwb3J0ZWQsIGVkaXRvcikgPT4ge1xuICAgICAgICBjb25zdCBwcm92aWRlcklkeCA9IHN1cHBvcnRlZC5pbmRleE9mKHByb3ZpZGVyKTtcbiAgICAgICAgaWYgKHByb3ZpZGVySWR4ICE9PSAtMSkge1xuICAgICAgICAgIHN1cHBvcnRlZC5zcGxpY2UocHJvdmlkZXJJZHgsIDEpO1xuICAgICAgICAgIGlmIChzdXBwb3J0ZWQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBkaXNhYmxlRm9yRWRpdG9yKGVkaXRvcik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIHJlZ2lzdGVyT3BlbmVyQW5kQ29tbWFuZCgpOiBJRGlzcG9zYWJsZSB7XG4gICAgbGV0IGxhc3RNb3VzZUV2ZW50O1xuICAgIHJldHVybiBuZXcgVW5pdmVyc2FsRGlzcG9zYWJsZShcbiAgICAgIGF0b20uY29tbWFuZHMuYWRkKFxuICAgICAgICAnYXRvbS10ZXh0LWVkaXRvcicsXG4gICAgICAgICdmaW5kLXJlZmVyZW5jZXM6YWN0aXZhdGUnLFxuICAgICAgICBhc3luYyBldmVudCA9PiB7XG4gICAgICAgICAgY29uc3QgdmlldyA9IHRyeUNyZWF0ZVZpZXcoXG4gICAgICAgICAgICBhd2FpdCB0aGlzLl9nZXRQcm92aWRlckRhdGEoXG4gICAgICAgICAgICAgIENvbnRleHRNZW51LmlzRXZlbnRGcm9tQ29udGV4dE1lbnUoZXZlbnQpID8gbGFzdE1vdXNlRXZlbnQgOiBudWxsLFxuICAgICAgICAgICAgKSxcbiAgICAgICAgICApO1xuICAgICAgICAgIGlmICh2aWV3ICE9IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IGRpc3Bvc2FibGUgPSBhdG9tLndvcmtzcGFjZS5hZGRPcGVuZXIobmV3VXJpID0+IHtcbiAgICAgICAgICAgICAgaWYgKHZpZXcuZ2V0VVJJKCkgPT09IG5ld1VyaSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB2aWV3O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIG5vdCBhIGZpbGUgVVJJXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcnVsZXNkaXIvYXRvbS1hcGlzXG4gICAgICAgICAgICBhdG9tLndvcmtzcGFjZS5vcGVuKHZpZXcuZ2V0VVJJKCkpO1xuICAgICAgICAgICAgLy8gVGhlIG5ldyB0YWIgb3BlbnMgaW5zdGFudGx5LCBzbyB0aGlzIGlzIG5vIGxvbmdlciBuZWVkZWQuXG4gICAgICAgICAgICBkaXNwb3NhYmxlLmRpc3Bvc2UoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICApLFxuICAgICAgLy8gTWFyayB0ZXh0IGVkaXRvcnMgd2l0aCBhIHdvcmtpbmcgcHJvdmlkZXIgd2l0aCBhIHNwZWNpYWwgQ1NTIGNsYXNzLlxuICAgICAgLy8gVGhpcyBlbnN1cmVzIHRoZSBjb250ZXh0IG1lbnUgb3B0aW9uIG9ubHkgYXBwZWFycyBpbiBzdXBwb3J0ZWQgcHJvamVjdHMuXG4gICAgICBvYnNlcnZlVGV4dEVkaXRvcnMoYXN5bmMgZWRpdG9yID0+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IGVkaXRvci5nZXRQYXRoKCk7XG4gICAgICAgIC8vIGZsb3dsaW50LW5leHQtbGluZSBza2V0Y2h5LW51bGwtc3RyaW5nOm9mZlxuICAgICAgICBpZiAoIXBhdGggfHwgdGhpcy5fc3VwcG9ydGVkUHJvdmlkZXJzLmdldChlZGl0b3IpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3N1cHBvcnRlZFByb3ZpZGVycy5zZXQoZWRpdG9yLCBbXSk7XG4gICAgICAgIGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgICAgIHRoaXMuX3Byb3ZpZGVycy5tYXAoYXN5bmMgcHJvdmlkZXIgPT4ge1xuICAgICAgICAgICAgaWYgKGF3YWl0IHByb3ZpZGVyLmlzRWRpdG9yU3VwcG9ydGVkKGVkaXRvcikpIHtcbiAgICAgICAgICAgICAgaWYgKHRoaXMuX2FkZFN1cHBvcnRlZFByb3ZpZGVyKGVkaXRvciwgcHJvdmlkZXIpKSB7XG4gICAgICAgICAgICAgICAgZW5hYmxlRm9yRWRpdG9yKGVkaXRvcik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KSxcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKGVkaXRvci5pc0Rlc3Ryb3llZCgpKSB7XG4gICAgICAgICAgLy8gVGhpcyBpcyBhc3luY2hyb25vdXMsIHNvIHRoZSBlZGl0b3IgbWF5IGhhdmUgYmVlbiBkZXN0cm95ZWQhXG4gICAgICAgICAgdGhpcy5fc3VwcG9ydGVkUHJvdmlkZXJzLmRlbGV0ZShlZGl0b3IpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkaXNwb3NhYmxlID0gZWRpdG9yLm9uRGlkRGVzdHJveSgoKSA9PiB7XG4gICAgICAgICAgdGhpcy5fc3VwcG9ydGVkUHJvdmlkZXJzLmRlbGV0ZShlZGl0b3IpO1xuICAgICAgICAgIHRoaXMuX3N1YnNjcmlwdGlvbnMucmVtb3ZlKGRpc3Bvc2FibGUpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fc3Vic2NyaXB0aW9ucy5hZGQoZGlzcG9zYWJsZSk7XG4gICAgICB9KSxcbiAgICAgIC8vIEVuYWJsZSB0ZXh0IGNvcHkgZnJvbSB0aGUgc3ltYm9sIHJlZmVyZW5jZVxuICAgICAgYXRvbS5jb21tYW5kcy5hZGQoJ2F0b20taWRlLWZpbmQtcmVmZXJlbmNlcy12aWV3JywgJ2NvcmU6Y29weScsICgpID0+IHtcbiAgICAgICAgY29uc3Qgc2VsZWN0aW9uID0gZ2V0U2VsZWN0aW9uKCk7XG4gICAgICAgIGlmIChzZWxlY3Rpb24gIT0gbnVsbCkge1xuICAgICAgICAgIGNvbnN0IHNlbGVjdGVkVGV4dCA9IHNlbGVjdGlvbi50b1N0cmluZygpO1xuICAgICAgICAgIGF0b20uY2xpcGJvYXJkLndyaXRlKHNlbGVjdGVkVGV4dCk7XG4gICAgICAgIH1cbiAgICAgIH0pLFxuICAgICAgLy8gQWRkIHRoZSBjb250ZXh0IG1lbnUgcHJvZ3JhbW1hdGljYWxseSBzbyB3ZSBjYW4gY2FwdHVyZSB0aGUgbW91c2UgZXZlbnQuXG4gICAgICBhdG9tLmNvbnRleHRNZW51LmFkZCh7XG4gICAgICAgICdhdG9tLXRleHQtZWRpdG9yOm5vdCgubWluaSkuZW5hYmxlLWF0b20taWRlLWZpbmQtcmVmZXJlbmNlcyc6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBsYWJlbDogJ0ZpbmQgUmVmZXJlbmNlcycsXG4gICAgICAgICAgICBjb21tYW5kOiAnZmluZC1yZWZlcmVuY2VzOmFjdGl2YXRlJyxcbiAgICAgICAgICAgIGNyZWF0ZWQ6IGV2ZW50ID0+IHtcbiAgICAgICAgICAgICAgbGFzdE1vdXNlRXZlbnQgPSBldmVudDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICAgIH0pLFxuICAgICk7XG4gIH1cblxuICBhc3luYyBfZ2V0UHJvdmlkZXJEYXRhKGV2ZW50OiA/TW91c2VFdmVudCk6IFByb21pc2U8P0ZpbmRSZWZlcmVuY2VzUmV0dXJuPiB7XG4gICAgY29uc3QgZWRpdG9yID0gYXRvbS53b3Jrc3BhY2UuZ2V0QWN0aXZlVGV4dEVkaXRvcigpO1xuICAgIGlmICghZWRpdG9yKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgcGF0aCA9IGVkaXRvci5nZXRQYXRoKCk7XG4gICAgLy8gZmxvd2xpbnQtbmV4dC1saW5lIHNrZXRjaHktbnVsbC1zdHJpbmc6b2ZmXG4gICAgaWYgKCFwYXRoKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgcG9pbnQgPVxuICAgICAgZXZlbnQgIT0gbnVsbFxuICAgICAgICA/IGJ1ZmZlclBvc2l0aW9uRm9yTW91c2VFdmVudChldmVudCwgZWRpdG9yKVxuICAgICAgICA6IGVkaXRvci5nZXRDdXJzb3JCdWZmZXJQb3NpdGlvbigpO1xuICAgIGFuYWx5dGljcy50cmFjaygnZmluZC1yZWZlcmVuY2VzOmFjdGl2YXRlJywge1xuICAgICAgcGF0aCxcbiAgICAgIHJvdzogcG9pbnQucm93LnRvU3RyaW5nKCksXG4gICAgICBjb2x1bW46IHBvaW50LmNvbHVtbi50b1N0cmluZygpLFxuICAgIH0pO1xuICAgIGNvbnN0IHN1cHBvcnRlZCA9IHRoaXMuX3N1cHBvcnRlZFByb3ZpZGVycy5nZXQoZWRpdG9yKTtcbiAgICBpZiAoIXN1cHBvcnRlZCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHJlc3VsdFByb21pc2UgPSBhc3luY0ZpbmQoXG4gICAgICBzdXBwb3J0ZWQubWFwKHByb3ZpZGVyID0+XG4gICAgICAgIHByb3ZpZGVyLmZpbmRSZWZlcmVuY2VzKGVkaXRvciwgcG9pbnQpLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgZ2V0TG9nZ2VyKCdmaW5kLXJlZmVyZW5jZXMnKS5lcnJvcignRXJyb3IgZmluZGluZyByZWZlcmVuY2VzJywgZXJyKTtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfSksXG4gICAgICApLFxuICAgICAgeCA9PiB4LFxuICAgICk7XG4gICAgY29uc3QgYnVzeVNpZ25hbFNlcnZpY2UgPSB0aGlzLl9idXN5U2lnbmFsU2VydmljZTtcbiAgICBpZiAoYnVzeVNpZ25hbFNlcnZpY2UgIT0gbnVsbCkge1xuICAgICAgY29uc3QgZGlzcGxheVBhdGggPSBudWNsaWRlVXJpLmJhc2VuYW1lKHBhdGgpO1xuICAgICAgcmV0dXJuIGJ1c3lTaWduYWxTZXJ2aWNlLnJlcG9ydEJ1c3lXaGlsZShcbiAgICAgICAgYEZpbmRpbmcgcmVmZXJlbmNlcyBmb3IgJHtkaXNwbGF5UGF0aH06JHtwb2ludC5yb3d9OiR7cG9pbnQuY29sdW1ufWAsXG4gICAgICAgICgpID0+IHJlc3VsdFByb21pc2UsXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0UHJvbWlzZTtcbiAgfVxuXG4gIC8vIFJldHVybnMgdHJ1ZSBpZiB0aGlzIGFkZHMgdGhlIGZpcnN0IHByb3ZpZGVyIGZvciB0aGUgZWRpdG9yLlxuICBfYWRkU3VwcG9ydGVkUHJvdmlkZXIoZWRpdG9yOiBUZXh0RWRpdG9yLCBwcm92aWRlcjogRmluZFJlZmVyZW5jZXNQcm92aWRlcikge1xuICAgIGxldCBzdXBwb3J0ZWQgPSB0aGlzLl9zdXBwb3J0ZWRQcm92aWRlcnMuZ2V0KGVkaXRvcik7XG4gICAgaWYgKHN1cHBvcnRlZCA9PSBudWxsKSB7XG4gICAgICBzdXBwb3J0ZWQgPSBbXTtcbiAgICAgIHRoaXMuX3N1cHBvcnRlZFByb3ZpZGVycy5zZXQoZWRpdG9yLCBzdXBwb3J0ZWQpO1xuICAgIH1cbiAgICBzdXBwb3J0ZWQucHVzaChwcm92aWRlcik7XG4gICAgcmV0dXJuIHN1cHBvcnRlZC5sZW5ndGggPT09IDE7XG4gIH1cbn1cblxuY3JlYXRlUGFja2FnZShtb2R1bGUuZXhwb3J0cywgQWN0aXZhdGlvbik7XG4iXX0=