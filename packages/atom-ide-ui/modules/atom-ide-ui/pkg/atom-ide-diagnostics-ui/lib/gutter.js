'use strict';

var cov_u31t3cylo = function () {
  var path = '/Users/hansonw/atom-ide-ui/modules/atom-ide-ui/pkg/atom-ide-diagnostics-ui/lib/gutter.js',
      hash = '36997d6982a95a2b702062c2d6d58bfb52eee35d',
      global = new Function('return this')(),
      gcv = '__coverage__',
      coverageData = {
    path: '/Users/hansonw/atom-ide-ui/modules/atom-ide-ui/pkg/atom-ide-diagnostics-ui/lib/gutter.js',
    statementMap: {
      '0': {
        start: {
          line: 32,
          column: 18
        },
        end: {
          line: 32,
          column: 38
        }
      },
      '1': {
        start: {
          line: 35,
          column: 21
        },
        end: {
          line: 35,
          column: 23
        }
      },
      '2': {
        start: {
          line: 37,
          column: 30
        },
        end: {
          line: 37,
          column: 33
        }
      },
      '3': {
        start: {
          line: 49,
          column: 22
        },
        end: {
          line: 49,
          column: 55
        }
      },
      '4': {
        start: {
          line: 51,
          column: 29
        },
        end: {
          line: 55,
          column: 1
        }
      },
      '5': {
        start: {
          line: 57,
          column: 26
        },
        end: {
          line: 61,
          column: 1
        }
      },
      '6': {
        start: {
          line: 63,
          column: 63
        },
        end: {
          line: 63,
          column: 76
        }
      },
      '7': {
        start: {
          line: 64,
          column: 55
        },
        end: {
          line: 64,
          column: 68
        }
      },
      '8': {
        start: {
          line: 71,
          column: 15
        },
        end: {
          line: 71,
          column: 47
        }
      },
      '9': {
        start: {
          line: 72,
          column: 2
        },
        end: {
          line: 86,
          column: 3
        }
      },
      '10': {
        start: {
          line: 80,
          column: 4
        },
        end: {
          line: 85,
          column: 7
        }
      },
      '11': {
        start: {
          line: 89,
          column: 16
        },
        end: {
          line: 89,
          column: 43
        }
      },
      '12': {
        start: {
          line: 93,
          column: 2
        },
        end: {
          line: 100,
          column: 3
        }
      },
      '13': {
        start: {
          line: 94,
          column: 4
        },
        end: {
          line: 96,
          column: 5
        }
      },
      '14': {
        start: {
          line: 95,
          column: 6
        },
        end: {
          line: 95,
          column: 23
        }
      },
      '15': {
        start: {
          line: 97,
          column: 4
        },
        end: {
          line: 97,
          column: 20
        }
      },
      '16': {
        start: {
          line: 99,
          column: 4
        },
        end: {
          line: 99,
          column: 24
        }
      },
      '17': {
        start: {
          line: 102,
          column: 66
        },
        end: {
          line: 102,
          column: 75
        }
      },
      '18': {
        start: {
          line: 104,
          column: 19
        },
        end: {
          line: 104,
          column: 40
        }
      },
      '19': {
        start: {
          line: 105,
          column: 4
        },
        end: {
          line: 108,
          column: 5
        }
      },
      '20': {
        start: {
          line: 106,
          column: 6
        },
        end: {
          line: 106,
          column: 20
        }
      },
      '21': {
        start: {
          line: 107,
          column: 6
        },
        end: {
          line: 107,
          column: 38
        }
      },
      '22': {
        start: {
          line: 109,
          column: 4
        },
        end: {
          line: 109,
          column: 27
        }
      },
      '23': {
        start: {
          line: 112,
          column: 2
        },
        end: {
          line: 172,
          column: 3
        }
      },
      '24': {
        start: {
          line: 114,
          column: 6
        },
        end: {
          line: 116,
          column: 14
        }
      },
      '25': {
        start: {
          line: 117,
          column: 18
        },
        end: {
          line: 117,
          column: 69
        }
      },
      '26': {
        start: {
          line: 119,
          column: 30
        },
        end: {
          line: 122,
          column: 5
        }
      },
      '27': {
        start: {
          line: 125,
          column: 4
        },
        end: {
          line: 171,
          column: 5
        }
      },
      '28': {
        start: {
          line: 126,
          column: 6
        },
        end: {
          line: 126,
          column: 49
        }
      },
      '29': {
        start: {
          line: 138,
          column: 6
        },
        end: {
          line: 168,
          column: 7
        }
      },
      '30': {
        start: {
          line: 141,
          column: 25
        },
        end: {
          line: 143,
          column: 9
        }
      },
      '31': {
        start: {
          line: 145,
          column: 8
        },
        end: {
          line: 149,
          column: 9
        }
      },
      '32': {
        start: {
          line: 146,
          column: 10
        },
        end: {
          line: 146,
          column: 37
        }
      },
      '33': {
        start: {
          line: 148,
          column: 10
        },
        end: {
          line: 148,
          column: 61
        }
      },
      '34': {
        start: {
          line: 151,
          column: 8
        },
        end: {
          line: 158,
          column: 9
        }
      },
      '35': {
        start: {
          line: 152,
          column: 10
        },
        end: {
          line: 152,
          column: 33
        }
      },
      '36': {
        start: {
          line: 157,
          column: 10
        },
        end: {
          line: 157,
          column: 32
        }
      },
      '37': {
        start: {
          line: 160,
          column: 8
        },
        end: {
          line: 162,
          column: 10
        }
      },
      '38': {
        start: {
          line: 163,
          column: 8
        },
        end: {
          line: 166,
          column: 11
        }
      },
      '39': {
        start: {
          line: 167,
          column: 8
        },
        end: {
          line: 167,
          column: 37
        }
      },
      '40': {
        start: {
          line: 170,
          column: 6
        },
        end: {
          line: 170,
          column: 35
        }
      },
      '41': {
        start: {
          line: 175,
          column: 2
        },
        end: {
          line: 195,
          column: 3
        }
      },
      '42': {
        start: {
          line: 177,
          column: 25
        },
        end: {
          line: 177,
          column: 34
        }
      },
      '43': {
        start: {
          line: 178,
          column: 4
        },
        end: {
          line: 178,
          column: 56
        }
      },
      '44': {
        start: {
          line: 178,
          column: 28
        },
        end: {
          line: 178,
          column: 54
        }
      },
      '45': {
        start: {
          line: 179,
          column: 22
        },
        end: {
          line: 181,
          column: 5
        }
      },
      '46': {
        start: {
          line: 180,
          column: 6
        },
        end: {
          line: 180,
          column: 28
        }
      },
      '47': {
        start: {
          line: 182,
          column: 33
        },
        end: {
          line: 182,
          column: 72
        }
      },
      '48': {
        start: {
          line: 185,
          column: 28
        },
        end: {
          line: 189,
          column: 5
        }
      },
      '49': {
        start: {
          line: 190,
          column: 4
        },
        end: {
          line: 190,
          column: 35
        }
      },
      '50': {
        start: {
          line: 191,
          column: 25
        },
        end: {
          line: 191,
          column: 60
        }
      },
      '51': {
        start: {
          line: 192,
          column: 4
        },
        end: {
          line: 192,
          column: 48
        }
      },
      '52': {
        start: {
          line: 193,
          column: 4
        },
        end: {
          line: 193,
          column: 39
        }
      },
      '53': {
        start: {
          line: 194,
          column: 4
        },
        end: {
          line: 194,
          column: 30
        }
      },
      '54': {
        start: {
          line: 197,
          column: 2
        },
        end: {
          line: 197,
          column: 39
        }
      },
      '55': {
        start: {
          line: 201,
          column: 2
        },
        end: {
          line: 203,
          column: 3
        }
      },
      '56': {
        start: {
          line: 202,
          column: 4
        },
        end: {
          line: 202,
          column: 18
        }
      },
      '57': {
        start: {
          line: 211,
          column: 15
        },
        end: {
          line: 211,
          column: 42
        }
      },
      '58': {
        start: {
          line: 212,
          column: 2
        },
        end: {
          line: 212,
          column: 40
        }
      },
      '59': {
        start: {
          line: 213,
          column: 21
        },
        end: {
          line: 213,
          column: 25
        }
      },
      '60': {
        start: {
          line: 214,
          column: 29
        },
        end: {
          line: 214,
          column: 33
        }
      },
      '61': {
        start: {
          line: 215,
          column: 23
        },
        end: {
          line: 215,
          column: 27
        }
      },
      '62': {
        start: {
          line: 216,
          column: 30
        },
        end: {
          line: 221,
          column: 3
        }
      },
      '63': {
        start: {
          line: 218,
          column: 4
        },
        end: {
          line: 220,
          column: 5
        }
      },
      '64': {
        start: {
          line: 219,
          column: 6
        },
        end: {
          line: 219,
          column: 35
        }
      },
      '65': {
        start: {
          line: 222,
          column: 18
        },
        end: {
          line: 234,
          column: 3
        }
      },
      '66': {
        start: {
          line: 223,
          column: 4
        },
        end: {
          line: 228,
          column: 5
        }
      },
      '67': {
        start: {
          line: 224,
          column: 6
        },
        end: {
          line: 224,
          column: 52
        }
      },
      '68': {
        start: {
          line: 225,
          column: 6
        },
        end: {
          line: 225,
          column: 49
        }
      },
      '69': {
        start: {
          line: 226,
          column: 6
        },
        end: {
          line: 226,
          column: 56
        }
      },
      '70': {
        start: {
          line: 227,
          column: 6
        },
        end: {
          line: 227,
          column: 26
        }
      },
      '71': {
        start: {
          line: 229,
          column: 4
        },
        end: {
          line: 232,
          column: 5
        }
      },
      '72': {
        start: {
          line: 230,
          column: 6
        },
        end: {
          line: 230,
          column: 37
        }
      },
      '73': {
        start: {
          line: 231,
          column: 6
        },
        end: {
          line: 231,
          column: 34
        }
      },
      '74': {
        start: {
          line: 233,
          column: 4
        },
        end: {
          line: 233,
          column: 26
        }
      },
      '75': {
        start: {
          line: 235,
          column: 23
        },
        end: {
          line: 240,
          column: 3
        }
      },
      '76': {
        start: {
          line: 237,
          column: 4
        },
        end: {
          line: 237,
          column: 14
        }
      },
      '77': {
        start: {
          line: 238,
          column: 19
        },
        end: {
          line: 238,
          column: 20
        }
      },
      '78': {
        start: {
          line: 239,
          column: 4
        },
        end: {
          line: 239,
          column: 43
        }
      },
      '79': {
        start: {
          line: 241,
          column: 2
        },
        end: {
          line: 255,
          column: 5
        }
      },
      '80': {
        start: {
          line: 244,
          column: 4
        },
        end: {
          line: 244,
          column: 14
        }
      },
      '81': {
        start: {
          line: 245,
          column: 4
        },
        end: {
          line: 250,
          column: 6
        }
      },
      '82': {
        start: {
          line: 251,
          column: 4
        },
        end: {
          line: 251,
          column: 57
        }
      },
      '83': {
        start: {
          line: 252,
          column: 4
        },
        end: {
          line: 252,
          column: 69
        }
      },
      '84': {
        start: {
          line: 254,
          column: 4
        },
        end: {
          line: 254,
          column: 77
        }
      },
      '85': {
        start: {
          line: 256,
          column: 2
        },
        end: {
          line: 262,
          column: 5
        }
      },
      '86': {
        start: {
          line: 261,
          column: 4
        },
        end: {
          line: 261,
          column: 64
        }
      },
      '87': {
        start: {
          line: 263,
          column: 2
        },
        end: {
          line: 263,
          column: 25
        }
      },
      '88': {
        start: {
          line: 277,
          column: 27
        },
        end: {
          line: 277,
          column: 71
        }
      },
      '89': {
        start: {
          line: 278,
          column: 22
        },
        end: {
          line: 278,
          column: 51
        }
      },
      '90': {
        start: {
          line: 279,
          column: 2
        },
        end: {
          line: 279,
          column: 56
        }
      },
      '91': {
        start: {
          line: 281,
          column: 2
        },
        end: {
          line: 281,
          column: 55
        }
      },
      '92': {
        start: {
          line: 284,
          column: 22
        },
        end: {
          line: 284,
          column: 50
        }
      },
      '93': {
        start: {
          line: 286,
          column: 23
        },
        end: {
          line: 289,
          column: 3
        }
      },
      '94': {
        start: {
          line: 287,
          column: 4
        },
        end: {
          line: 287,
          column: 40
        }
      },
      '95': {
        start: {
          line: 288,
          column: 4
        },
        end: {
          line: 288,
          column: 50
        }
      },
      '96': {
        start: {
          line: 290,
          column: 30
        },
        end: {
          line: 293,
          column: 3
        }
      },
      '97': {
        start: {
          line: 291,
          column: 4
        },
        end: {
          line: 291,
          column: 33
        }
      },
      '98': {
        start: {
          line: 292,
          column: 4
        },
        end: {
          line: 292,
          column: 56
        }
      },
      '99': {
        start: {
          line: 295,
          column: 17
        },
        end: {
          line: 295,
          column: 39
        }
      },
      '100': {
        start: {
          line: 296,
          column: 2
        },
        end: {
          line: 296,
          column: 28
        }
      },
      '101': {
        start: {
          line: 297,
          column: 2
        },
        end: {
          line: 297,
          column: 55
        }
      },
      '102': {
        start: {
          line: 299,
          column: 21
        },
        end: {
          line: 310,
          column: 3
        }
      },
      '103': {
        start: {
          line: 301,
          column: 6
        },
        end: {
          line: 301,
          column: 56
        }
      },
      '104': {
        start: {
          line: 302,
          column: 36
        },
        end: {
          line: 308,
          column: 5
        }
      },
      '105': {
        start: {
          line: 311,
          column: 2
        },
        end: {
          line: 311,
          column: 47
        }
      },
      '106': {
        start: {
          line: 315,
          column: 24
        },
        end: {
          line: 315,
          column: 50
        }
      },
      '107': {
        start: {
          line: 319,
          column: 6
        },
        end: {
          line: 319,
          column: 43
        }
      },
      '108': {
        start: {
          line: 320,
          column: 45
        },
        end: {
          line: 320,
          column: 73
        }
      },
      '109': {
        start: {
          line: 321,
          column: 23
        },
        end: {
          line: 321,
          column: 52
        }
      },
      '110': {
        start: {
          line: 322,
          column: 2
        },
        end: {
          line: 322,
          column: 49
        }
      },
      '111': {
        start: {
          line: 323,
          column: 22
        },
        end: {
          line: 323,
          column: 47
        }
      },
      '112': {
        start: {
          line: 324,
          column: 2
        },
        end: {
          line: 330,
          column: 3
        }
      },
      '113': {
        start: {
          line: 328,
          column: 4
        },
        end: {
          line: 329,
          column: 62
        }
      },
      '114': {
        start: {
          line: 332,
          column: 2
        },
        end: {
          line: 342,
          column: 3
        }
      },
      '115': {
        start: {
          line: 333,
          column: 4
        },
        end: {
          line: 333,
          column: 23
        }
      },
      '116': {
        start: {
          line: 335,
          column: 4
        },
        end: {
          line: 341,
          column: 7
        }
      },
      '117': {
        start: {
          line: 336,
          column: 6
        },
        end: {
          line: 340,
          column: 9
        }
      }
    },
    fnMap: {
      '0': {
        name: 'applyUpdateToEditor',
        decl: {
          start: {
            line: 66,
            column: 16
          },
          end: {
            line: 66,
            column: 35
          }
        },
        loc: {
          start: {
            line: 70,
            column: 8
          },
          end: {
            line: 204,
            column: 1
          }
        },
        line: 70
      },
      '1': {
        name: 'addMessageForRow',
        decl: {
          start: {
            line: 103,
            column: 11
          },
          end: {
            line: 103,
            column: 27
          }
        },
        loc: {
          start: {
            line: 103,
            column: 73
          },
          end: {
            line: 110,
            column: 3
          }
        },
        line: 103
      },
      '2': {
        name: '(anonymous_2)',
        decl: {
          start: {
            line: 178,
            column: 21
          },
          end: {
            line: 178,
            column: 22
          }
        },
        loc: {
          start: {
            line: 178,
            column: 28
          },
          end: {
            line: 178,
            column: 54
          }
        },
        line: 178
      },
      '3': {
        name: '(anonymous_3)',
        decl: {
          start: {
            line: 179,
            column: 58
          },
          end: {
            line: 179,
            column: 59
          }
        },
        loc: {
          start: {
            line: 180,
            column: 6
          },
          end: {
            line: 180,
            column: 28
          }
        },
        line: 180
      },
      '4': {
        name: 'createGutterItem',
        decl: {
          start: {
            line: 206,
            column: 9
          },
          end: {
            line: 206,
            column: 25
          }
        },
        loc: {
          start: {
            line: 210,
            column: 44
          },
          end: {
            line: 264,
            column: 1
          }
        },
        line: 210
      },
      '5': {
        name: '(anonymous_5)',
        decl: {
          start: {
            line: 216,
            column: 30
          },
          end: {
            line: 216,
            column: 31
          }
        },
        loc: {
          start: {
            line: 216,
            column: 36
          },
          end: {
            line: 221,
            column: 3
          }
        },
        line: 216
      },
      '6': {
        name: '(anonymous_6)',
        decl: {
          start: {
            line: 222,
            column: 18
          },
          end: {
            line: 222,
            column: 19
          }
        },
        loc: {
          start: {
            line: 222,
            column: 24
          },
          end: {
            line: 234,
            column: 3
          }
        },
        line: 222
      },
      '7': {
        name: '(anonymous_7)',
        decl: {
          start: {
            line: 235,
            column: 23
          },
          end: {
            line: 235,
            column: 24
          }
        },
        loc: {
          start: {
            line: 235,
            column: 55
          },
          end: {
            line: 240,
            column: 3
          }
        },
        line: 235
      },
      '8': {
        name: '(anonymous_8)',
        decl: {
          start: {
            line: 241,
            column: 38
          },
          end: {
            line: 241,
            column: 39
          }
        },
        loc: {
          start: {
            line: 241,
            column: 61
          },
          end: {
            line: 255,
            column: 3
          }
        },
        line: 241
      },
      '9': {
        name: '(anonymous_9)',
        decl: {
          start: {
            line: 256,
            column: 38
          },
          end: {
            line: 256,
            column: 39
          }
        },
        loc: {
          start: {
            line: 256,
            column: 61
          },
          end: {
            line: 262,
            column: 3
          }
        },
        line: 256
      },
      '10': {
        name: 'showPopupFor',
        decl: {
          start: {
            line: 269,
            column: 9
          },
          end: {
            line: 269,
            column: 21
          }
        },
        loc: {
          start: {
            line: 274,
            column: 15
          },
          end: {
            line: 343,
            column: 1
          }
        },
        line: 274
      },
      '11': {
        name: '(anonymous_11)',
        decl: {
          start: {
            line: 286,
            column: 23
          },
          end: {
            line: 286,
            column: 24
          }
        },
        loc: {
          start: {
            line: 286,
            column: 36
          },
          end: {
            line: 289,
            column: 3
          }
        },
        line: 286
      },
      '12': {
        name: '(anonymous_12)',
        decl: {
          start: {
            line: 290,
            column: 30
          },
          end: {
            line: 290,
            column: 31
          }
        },
        loc: {
          start: {
            line: 290,
            column: 70
          },
          end: {
            line: 293,
            column: 3
          }
        },
        line: 290
      },
      '13': {
        name: '(anonymous_13)',
        decl: {
          start: {
            line: 300,
            column: 36
          },
          end: {
            line: 300,
            column: 37
          }
        },
        loc: {
          start: {
            line: 301,
            column: 6
          },
          end: {
            line: 301,
            column: 56
          }
        },
        line: 301
      },
      '14': {
        name: '(anonymous_14)',
        decl: {
          start: {
            line: 302,
            column: 10
          },
          end: {
            line: 302,
            column: 11
          }
        },
        loc: {
          start: {
            line: 302,
            column: 36
          },
          end: {
            line: 308,
            column: 5
          }
        },
        line: 302
      },
      '15': {
        name: '(anonymous_15)',
        decl: {
          start: {
            line: 335,
            column: 21
          },
          end: {
            line: 335,
            column: 22
          }
        },
        loc: {
          start: {
            line: 335,
            column: 32
          },
          end: {
            line: 341,
            column: 5
          }
        },
        line: 335
      }
    },
    branchMap: {
      '0': {
        loc: {
          start: {
            line: 72,
            column: 2
          },
          end: {
            line: 86,
            column: 3
          }
        },
        type: 'if',
        locations: [{
          start: {
            line: 72,
            column: 2
          },
          end: {
            line: 86,
            column: 3
          }
        }, {
          start: {
            line: 72,
            column: 2
          },
          end: {
            line: 86,
            column: 3
          }
        }],
        line: 72
      },
      '1': {
        loc: {
          start: {
            line: 93,
            column: 2
          },
          end: {
            line: 100,
            column: 3
          }
        },
        type: 'if',
        locations: [{
          start: {
            line: 93,
            column: 2
          },
          end: {
            line: 100,
            column: 3
          }
        }, {
          start: {
            line: 93,
            column: 2
          },
          end: {
            line: 100,
            column: 3
          }
        }],
        line: 93
      },
      '2': {
        loc: {
          start: {
            line: 105,
            column: 4
          },
          end: {
            line: 108,
            column: 5
          }
        },
        type: 'if',
        locations: [{
          start: {
            line: 105,
            column: 4
          },
          end: {
            line: 108,
            column: 5
          }
        }, {
          start: {
            line: 105,
            column: 4
          },
          end: {
            line: 108,
            column: 5
          }
        }],
        line: 105
      },
      '3': {
        loc: {
          start: {
            line: 114,
            column: 6
          },
          end: {
            line: 116,
            column: 14
          }
        },
        type: 'cond-expr',
        locations: [{
          start: {
            line: 115,
            column: 10
          },
          end: {
            line: 115,
            column: 53
          }
        }, {
          start: {
            line: 116,
            column: 10
          },
          end: {
            line: 116,
            column: 14
          }
        }],
        line: 114
      },
      '4': {
        loc: {
          start: {
            line: 114,
            column: 6
          },
          end: {
            line: 114,
            column: 54
          }
        },
        type: 'binary-expr',
        locations: [{
          start: {
            line: 114,
            column: 6
          },
          end: {
            line: 114,
            column: 27
          }
        }, {
          start: {
            line: 114,
            column: 31
          },
          end: {
            line: 114,
            column: 54
          }
        }],
        line: 114
      },
      '5': {
        loc: {
          start: {
            line: 117,
            column: 18
          },
          end: {
            line: 117,
            column: 69
          }
        },
        type: 'cond-expr',
        locations: [{
          start: {
            line: 117,
            column: 38
          },
          end: {
            line: 117,
            column: 53
          }
        }, {
          start: {
            line: 117,
            column: 56
          },
          end: {
            line: 117,
            column: 69
          }
        }],
        line: 117
      },
      '6': {
        loc: {
          start: {
            line: 125,
            column: 4
          },
          end: {
            line: 171,
            column: 5
          }
        },
        type: 'if',
        locations: [{
          start: {
            line: 125,
            column: 4
          },
          end: {
            line: 171,
            column: 5
          }
        }, {
          start: {
            line: 125,
            column: 4
          },
          end: {
            line: 171,
            column: 5
          }
        }],
        line: 125
      },
      '7': {
        loc: {
          start: {
            line: 145,
            column: 8
          },
          end: {
            line: 149,
            column: 9
          }
        },
        type: 'if',
        locations: [{
          start: {
            line: 145,
            column: 8
          },
          end: {
            line: 149,
            column: 9
          }
        }, {
          start: {
            line: 145,
            column: 8
          },
          end: {
            line: 149,
            column: 9
          }
        }],
        line: 145
      },
      '8': {
        loc: {
          start: {
            line: 148,
            column: 19
          },
          end: {
            line: 148,
            column: 49
          }
        },
        type: 'binary-expr',
        locations: [{
          start: {
            line: 148,
            column: 19
          },
          end: {
            line: 148,
            column: 41
          }
        }, {
          start: {
            line: 148,
            column: 45
          },
          end: {
            line: 148,
            column: 49
          }
        }],
        line: 148
      },
      '9': {
        loc: {
          start: {
            line: 151,
            column: 8
          },
          end: {
            line: 158,
            column: 9
          }
        },
        type: 'if',
        locations: [{
          start: {
            line: 151,
            column: 8
          },
          end: {
            line: 158,
            column: 9
          }
        }, {
          start: {
            line: 151,
            column: 8
          },
          end: {
            line: 158,
            column: 9
          }
        }],
        line: 151
      },
      '10': {
        loc: {
          start: {
            line: 182,
            column: 51
          },
          end: {
            line: 182,
            column: 71
          }
        },
        type: 'binary-expr',
        locations: [{
          start: {
            line: 182,
            column: 51
          },
          end: {
            line: 182,
            column: 60
          }
        }, {
          start: {
            line: 182,
            column: 64
          },
          end: {
            line: 182,
            column: 71
          }
        }],
        line: 182
      },
      '11': {
        loc: {
          start: {
            line: 201,
            column: 2
          },
          end: {
            line: 203,
            column: 3
          }
        },
        type: 'if',
        locations: [{
          start: {
            line: 201,
            column: 2
          },
          end: {
            line: 203,
            column: 3
          }
        }, {
          start: {
            line: 201,
            column: 2
          },
          end: {
            line: 203,
            column: 3
          }
        }],
        line: 201
      },
      '12': {
        loc: {
          start: {
            line: 218,
            column: 4
          },
          end: {
            line: 220,
            column: 5
          }
        },
        type: 'if',
        locations: [{
          start: {
            line: 218,
            column: 4
          },
          end: {
            line: 220,
            column: 5
          }
        }, {
          start: {
            line: 218,
            column: 4
          },
          end: {
            line: 220,
            column: 5
          }
        }],
        line: 218
      },
      '13': {
        loc: {
          start: {
            line: 223,
            column: 4
          },
          end: {
            line: 228,
            column: 5
          }
        },
        type: 'if',
        locations: [{
          start: {
            line: 223,
            column: 4
          },
          end: {
            line: 228,
            column: 5
          }
        }, {
          start: {
            line: 223,
            column: 4
          },
          end: {
            line: 228,
            column: 5
          }
        }],
        line: 223
      },
      '14': {
        loc: {
          start: {
            line: 229,
            column: 4
          },
          end: {
            line: 232,
            column: 5
          }
        },
        type: 'if',
        locations: [{
          start: {
            line: 229,
            column: 4
          },
          end: {
            line: 232,
            column: 5
          }
        }, {
          start: {
            line: 229,
            column: 4
          },
          end: {
            line: 232,
            column: 5
          }
        }],
        line: 229
      },
      '15': {
        loc: {
          start: {
            line: 324,
            column: 2
          },
          end: {
            line: 330,
            column: 3
          }
        },
        type: 'if',
        locations: [{
          start: {
            line: 324,
            column: 2
          },
          end: {
            line: 330,
            column: 3
          }
        }, {
          start: {
            line: 324,
            column: 2
          },
          end: {
            line: 330,
            column: 3
          }
        }],
        line: 324
      },
      '16': {
        loc: {
          start: {
            line: 339,
            column: 31
          },
          end: {
            line: 339,
            column: 65
          }
        },
        type: 'binary-expr',
        locations: [{
          start: {
            line: 339,
            column: 31
          },
          end: {
            line: 339,
            column: 43
          }
        }, {
          start: {
            line: 339,
            column: 47
          },
          end: {
            line: 339,
            column: 59
          }
        }, {
          start: {
            line: 339,
            column: 63
          },
          end: {
            line: 339,
            column: 65
          }
        }],
        line: 339
      }
    },
    s: {
      '0': 0,
      '1': 0,
      '2': 0,
      '3': 0,
      '4': 0,
      '5': 0,
      '6': 0,
      '7': 0,
      '8': 0,
      '9': 0,
      '10': 0,
      '11': 0,
      '12': 0,
      '13': 0,
      '14': 0,
      '15': 0,
      '16': 0,
      '17': 0,
      '18': 0,
      '19': 0,
      '20': 0,
      '21': 0,
      '22': 0,
      '23': 0,
      '24': 0,
      '25': 0,
      '26': 0,
      '27': 0,
      '28': 0,
      '29': 0,
      '30': 0,
      '31': 0,
      '32': 0,
      '33': 0,
      '34': 0,
      '35': 0,
      '36': 0,
      '37': 0,
      '38': 0,
      '39': 0,
      '40': 0,
      '41': 0,
      '42': 0,
      '43': 0,
      '44': 0,
      '45': 0,
      '46': 0,
      '47': 0,
      '48': 0,
      '49': 0,
      '50': 0,
      '51': 0,
      '52': 0,
      '53': 0,
      '54': 0,
      '55': 0,
      '56': 0,
      '57': 0,
      '58': 0,
      '59': 0,
      '60': 0,
      '61': 0,
      '62': 0,
      '63': 0,
      '64': 0,
      '65': 0,
      '66': 0,
      '67': 0,
      '68': 0,
      '69': 0,
      '70': 0,
      '71': 0,
      '72': 0,
      '73': 0,
      '74': 0,
      '75': 0,
      '76': 0,
      '77': 0,
      '78': 0,
      '79': 0,
      '80': 0,
      '81': 0,
      '82': 0,
      '83': 0,
      '84': 0,
      '85': 0,
      '86': 0,
      '87': 0,
      '88': 0,
      '89': 0,
      '90': 0,
      '91': 0,
      '92': 0,
      '93': 0,
      '94': 0,
      '95': 0,
      '96': 0,
      '97': 0,
      '98': 0,
      '99': 0,
      '100': 0,
      '101': 0,
      '102': 0,
      '103': 0,
      '104': 0,
      '105': 0,
      '106': 0,
      '107': 0,
      '108': 0,
      '109': 0,
      '110': 0,
      '111': 0,
      '112': 0,
      '113': 0,
      '114': 0,
      '115': 0,
      '116': 0,
      '117': 0
    },
    f: {
      '0': 0,
      '1': 0,
      '2': 0,
      '3': 0,
      '4': 0,
      '5': 0,
      '6': 0,
      '7': 0,
      '8': 0,
      '9': 0,
      '10': 0,
      '11': 0,
      '12': 0,
      '13': 0,
      '14': 0,
      '15': 0
    },
    b: {
      '0': [0, 0],
      '1': [0, 0],
      '2': [0, 0],
      '3': [0, 0],
      '4': [0, 0],
      '5': [0, 0],
      '6': [0, 0],
      '7': [0, 0],
      '8': [0, 0],
      '9': [0, 0],
      '10': [0, 0],
      '11': [0, 0],
      '12': [0, 0],
      '13': [0, 0],
      '14': [0, 0],
      '15': [0, 0],
      '16': [0, 0, 0]
    },
    _coverageSchema: '332fd63041d2c1bcb487cc26dd0d5f7d97098a6c'
  },
      coverage = global[gcv] || (global[gcv] = {});

  if (coverage[path] && coverage[path].hash === hash) {
    return coverage[path];
  }

  coverageData.hash = hash;
  return coverage[path] = coverageData;
}();

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.applyUpdateToEditor = applyUpdateToEditor;

var _classnames;

function _load_classnames() {
  return _classnames = _interopRequireDefault(require('classnames'));
}

var _atom = require('atom');

var _react = _interopRequireWildcard(require('react'));

var _reactDom = _interopRequireDefault(require('react-dom'));

var _event;

function _load_event() {
  return _event = require('nuclide-commons/event');
}

var _goToLocation;

function _load_goToLocation() {
  return _goToLocation = require('nuclide-commons-atom/go-to-location');
}

var _range;

function _load_range() {
  return _range = require('nuclide-commons-atom/range');
}

var _analytics;

function _load_analytics() {
  return _analytics = _interopRequireDefault(require('nuclide-commons-atom/analytics'));
}

var _bindObservableAsProps;

function _load_bindObservableAsProps() {
  return _bindObservableAsProps = require('nuclide-commons-ui/bindObservableAsProps');
}

var _DiagnosticsPopup;

function _load_DiagnosticsPopup() {
  return _DiagnosticsPopup = require('./ui/DiagnosticsPopup');
}

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * Copyright (c) 2017-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * 
 * @format
 */

const GUTTER_ID = (cov_u31t3cylo.s[0]++, 'diagnostics-gutter');

// Needs to be the same as glyph-height in gutter.atom-text-editor.less.
const GLYPH_HEIGHT = (cov_u31t3cylo.s[1]++, 15); // px

const POPUP_DISPOSE_TIMEOUT = (cov_u31t3cylo.s[2]++, 100);

// TODO(mbolin): Make it so that when mousing over an element with this CSS class (or specifically,
// the child element with the "region" CSS class), we also do a showPopupFor(). This seems to be
// tricky given how the DOM of a TextEditor works today. There are div.tile elements, each of which
// has its own div.highlights element and many div.line elements. The div.highlights element has 0
// or more children, each child being a div.highlight with a child div.region. The div.region
// element is defined to be {position: absolute; pointer-events: none; z-index: -1}. The absolute
// positioning and negative z-index make it so it isn't eligible for mouseover events, so we
// might have to listen for mouseover events on TextEditor and then use its own APIs, such as
// decorationsForScreenRowRange(), to see if there is a hit target instead. Since this will be
// happening onmousemove, we also have to be careful to make sure this is not expensive.
const HIGHLIGHT_CSS = (cov_u31t3cylo.s[3]++, 'diagnostics-gutter-ui-highlight');

const HIGHLIGHT_CSS_LEVELS = (cov_u31t3cylo.s[4]++, {
  Error: 'diagnostics-gutter-ui-highlight-error',
  Warning: 'diagnostics-gutter-ui-highlight-warning',
  Info: 'diagnostics-gutter-ui-highlight-info'
});

const GUTTER_CSS_LEVELS = (cov_u31t3cylo.s[5]++, {
  Error: 'diagnostics-gutter-ui-gutter-error',
  Warning: 'diagnostics-gutter-ui-gutter-warning',
  Info: 'diagnostics-gutter-ui-gutter-info'
});

const editorToMarkers = (cov_u31t3cylo.s[6]++, new WeakMap());
const itemToEditor = (cov_u31t3cylo.s[7]++, new WeakMap());

function applyUpdateToEditor(editor, update, diagnosticUpdater) {
  cov_u31t3cylo.f[0]++;

  let gutter = (cov_u31t3cylo.s[8]++, editor.gutterWithName(GUTTER_ID));
  cov_u31t3cylo.s[9]++;
  if (!gutter) {
    cov_u31t3cylo.b[0][0]++;
    cov_u31t3cylo.s[10]++;

    // TODO(jessicalin): Determine an appropriate priority so that the gutter:
    // (1) Shows up to the right of the line numbers.
    // (2) Shows the items that are added to it right away.
    // Using a value of 10 fixes (1), but breaks (2). This seems like it is likely a bug in Atom.

    // By default, a gutter will be destroyed when its editor is destroyed,
    // so there is no need to register a callback via onDidDestroy().
    gutter = editor.addGutter({
      name: GUTTER_ID,
      visible: false,
      // Priority is -200 by default and 0 is the line number
      priority: -1000
    });
  } else {
    cov_u31t3cylo.b[0][1]++;
  }

  let marker;
  let markers = (cov_u31t3cylo.s[11]++, editorToMarkers.get(editor));

  // TODO: Consider a more efficient strategy that does not blindly destroy all of the
  // existing markers.
  cov_u31t3cylo.s[12]++;
  if (markers) {
    cov_u31t3cylo.b[1][0]++;
    cov_u31t3cylo.s[13]++;

    for (marker of markers) {
      cov_u31t3cylo.s[14]++;

      marker.destroy();
    }
    cov_u31t3cylo.s[15]++;
    markers.clear();
  } else {
    cov_u31t3cylo.b[1][1]++;
    cov_u31t3cylo.s[16]++;

    markers = new Set();
  }

  const rowToMessage = (cov_u31t3cylo.s[17]++, new Map());
  function addMessageForRow(message, row) {
    cov_u31t3cylo.f[1]++;

    let messages = (cov_u31t3cylo.s[18]++, rowToMessage.get(row));
    cov_u31t3cylo.s[19]++;
    if (!messages) {
      cov_u31t3cylo.b[2][0]++;
      cov_u31t3cylo.s[20]++;

      messages = [];
      cov_u31t3cylo.s[21]++;
      rowToMessage.set(row, messages);
    } else {
      cov_u31t3cylo.b[2][1]++;
    }
    cov_u31t3cylo.s[22]++;
    messages.push(message);
  }

  cov_u31t3cylo.s[23]++;
  for (const message of update.messages) {
    const wordRange = (cov_u31t3cylo.s[24]++, (cov_u31t3cylo.b[4][0]++, message.range != null) && (cov_u31t3cylo.b[4][1]++, message.range.isEmpty()) ? (cov_u31t3cylo.b[3][0]++, (0, (_range || _load_range()).wordAtPosition)(editor, message.range.start)) : (cov_u31t3cylo.b[3][1]++, null));
    const range = (cov_u31t3cylo.s[25]++, wordRange != null ? (cov_u31t3cylo.b[5][0]++, wordRange.range) : (cov_u31t3cylo.b[5][1]++, message.range));

    const highlightCssClass = (cov_u31t3cylo.s[26]++, (0, (_classnames || _load_classnames()).default)(HIGHLIGHT_CSS, HIGHLIGHT_CSS_LEVELS[message.type]));

    let highlightMarker;
    cov_u31t3cylo.s[27]++;
    if (range) {
      cov_u31t3cylo.b[6][0]++;
      cov_u31t3cylo.s[28]++;

      addMessageForRow(message, range.start.row);

      // There is no API in Atom to say: I want to put an underline on all the
      // lines in this range. The closest is "highlight" which splits your range
      // into three boxes: the part of the first line, all the lines in between
      // and the part of the last line.
      //
      // This means that some lines in the middle are going to be dropped and
      // they are going to extend all the way to the right of the buffer.
      //
      // To fix this, we can manually split it line by line and give to atom
      // those ranges.
      cov_u31t3cylo.s[29]++;
      for (let line = range.start.row; line <= range.end.row; line++) {
        let start;
        let end;
        const lineText = (cov_u31t3cylo.s[30]++, editor.getTextInBufferRange(new _atom.Range([line, 0], [line + 1, 0])));

        cov_u31t3cylo.s[31]++;
        if (line === range.start.row) {
          cov_u31t3cylo.b[7][0]++;
          cov_u31t3cylo.s[32]++;

          start = range.start.column;
        } else {
          cov_u31t3cylo.b[7][1]++;
          cov_u31t3cylo.s[33]++;

          start = ((cov_u31t3cylo.b[8][0]++, lineText.match(/^\s*/)) || (cov_u31t3cylo.b[8][1]++, ['']))[0].length;
        }

        cov_u31t3cylo.s[34]++;
        if (line === range.end.row) {
          cov_u31t3cylo.b[9][0]++;
          cov_u31t3cylo.s[35]++;

          end = range.end.column;
        } else {
          cov_u31t3cylo.b[9][1]++;
          cov_u31t3cylo.s[36]++;

          // Note: this is technically off by 1 (\n) or 2 (\r\n) but Atom will
          // not extend the range past the actual characters displayed on the
          // line
          end = lineText.length;
        }

        cov_u31t3cylo.s[37]++;
        highlightMarker = editor.markBufferRange(new _atom.Range([line, start], [line, end]));
        cov_u31t3cylo.s[38]++;
        editor.decorateMarker(highlightMarker, {
          type: 'highlight',
          class: highlightCssClass
        });
        cov_u31t3cylo.s[39]++;
        markers.add(highlightMarker);
      }
    } else {
      cov_u31t3cylo.b[6][1]++;
      cov_u31t3cylo.s[40]++;

      addMessageForRow(message, 0);
    }
  }

  // Find all of the gutter markers for the same row and combine them into one marker/popup.
  cov_u31t3cylo.s[41]++;
  for (const [row, messages] of rowToMessage.entries()) {
    // Show the highest priority marker (note the ordering of GUTTER_CSS).
    const messageTypes = (cov_u31t3cylo.s[42]++, new Set());
    cov_u31t3cylo.s[43]++;
    messages.forEach(msg => {
      cov_u31t3cylo.f[2]++;
      cov_u31t3cylo.s[44]++;
      return messageTypes.add(msg.type);
    });
    const firstType = (cov_u31t3cylo.s[45]++, Object.keys(GUTTER_CSS_LEVELS).find(type => {
      cov_u31t3cylo.f[3]++;
      cov_u31t3cylo.s[46]++;
      return messageTypes.has(type);
    }));
    const gutterMarkerCssClass = (cov_u31t3cylo.s[47]++, GUTTER_CSS_LEVELS[(cov_u31t3cylo.b[10][0]++, firstType) || (cov_u31t3cylo.b[10][1]++, 'Error')]);

    // This marker adds some UI to the gutter.
    const { item, dispose } = (cov_u31t3cylo.s[48]++, createGutterItem(messages, gutterMarkerCssClass, diagnosticUpdater));
    cov_u31t3cylo.s[49]++;
    itemToEditor.set(item, editor);
    const gutterMarker = (cov_u31t3cylo.s[50]++, editor.markBufferPosition([row, 0]));
    cov_u31t3cylo.s[51]++;
    gutter.decorateMarker(gutterMarker, { item });
    cov_u31t3cylo.s[52]++;
    gutterMarker.onDidDestroy(dispose);
    cov_u31t3cylo.s[53]++;
    markers.add(gutterMarker);
  }

  cov_u31t3cylo.s[54]++;
  editorToMarkers.set(editor, markers);

  // Once the gutter is shown for the first time, it is displayed for the lifetime of the
  // TextEditor.
  cov_u31t3cylo.s[55]++;
  if (update.messages.length > 0) {
    cov_u31t3cylo.b[11][0]++;
    cov_u31t3cylo.s[56]++;

    gutter.show();
  } else {
    cov_u31t3cylo.b[11][1]++;
  }
}

function createGutterItem(messages, gutterMarkerCssClass, diagnosticUpdater) {
  cov_u31t3cylo.f[4]++;

  const item = (cov_u31t3cylo.s[57]++, document.createElement('a'));
  cov_u31t3cylo.s[58]++;
  item.className = gutterMarkerCssClass;
  let popupElement = (cov_u31t3cylo.s[59]++, null);
  let paneItemSubscription = (cov_u31t3cylo.s[60]++, null);
  let disposeTimeout = (cov_u31t3cylo.s[61]++, null);
  cov_u31t3cylo.s[62]++;
  const clearDisposeTimeout = () => {
    cov_u31t3cylo.f[5]++;
    cov_u31t3cylo.s[63]++;

    // flowlint-next-line sketchy-null-number:off
    if (disposeTimeout) {
      cov_u31t3cylo.b[12][0]++;
      cov_u31t3cylo.s[64]++;

      clearTimeout(disposeTimeout);
    } else {
      cov_u31t3cylo.b[12][1]++;
    }
  };
  cov_u31t3cylo.s[65]++;
  const dispose = () => {
    cov_u31t3cylo.f[6]++;
    cov_u31t3cylo.s[66]++;

    if (popupElement) {
      cov_u31t3cylo.b[13][0]++;
      cov_u31t3cylo.s[67]++;

      _reactDom.default.unmountComponentAtNode(popupElement);
      cov_u31t3cylo.s[68]++;

      if (!(popupElement.parentNode != null)) {
        throw new Error('Invariant violation: "popupElement.parentNode != null"');
      }

      cov_u31t3cylo.s[69]++;

      popupElement.parentNode.removeChild(popupElement);
      cov_u31t3cylo.s[70]++;
      popupElement = null;
    } else {
      cov_u31t3cylo.b[13][1]++;
    }
    cov_u31t3cylo.s[71]++;
    if (paneItemSubscription) {
      cov_u31t3cylo.b[14][0]++;
      cov_u31t3cylo.s[72]++;

      paneItemSubscription.dispose();
      cov_u31t3cylo.s[73]++;
      paneItemSubscription = null;
    } else {
      cov_u31t3cylo.b[14][1]++;
    }
    cov_u31t3cylo.s[74]++;
    clearDisposeTimeout();
  };
  cov_u31t3cylo.s[75]++;
  const goToLocation = (path, line) => {
    cov_u31t3cylo.f[7]++;
    cov_u31t3cylo.s[76]++;

    // Before we jump to the location, we want to close the popup.
    dispose();
    const column = (cov_u31t3cylo.s[77]++, 0);
    cov_u31t3cylo.s[78]++;
    (0, (_goToLocation || _load_goToLocation()).goToLocation)(path, { line, column });
  };
  cov_u31t3cylo.s[79]++;
  item.addEventListener('mouseenter', event => {
    cov_u31t3cylo.f[8]++;
    cov_u31t3cylo.s[80]++;

    // If there was somehow another popup for this gutter item, dispose it. This can happen if the
    // user manages to scroll and escape disposal.
    dispose();
    cov_u31t3cylo.s[81]++;
    popupElement = showPopupFor(messages, item, goToLocation, diagnosticUpdater);
    cov_u31t3cylo.s[82]++;
    popupElement.addEventListener('mouseleave', dispose);
    cov_u31t3cylo.s[83]++;
    popupElement.addEventListener('mouseenter', clearDisposeTimeout);
    // This makes sure that the popup disappears when you ctrl+tab to switch tabs.
    cov_u31t3cylo.s[84]++;
    paneItemSubscription = atom.workspace.onDidChangeActivePaneItem(dispose);
  });
  cov_u31t3cylo.s[85]++;
  item.addEventListener('mouseleave', event => {
    cov_u31t3cylo.f[9]++;
    cov_u31t3cylo.s[86]++;

    // When the popup is shown, we want to dispose it if the user manages to move the cursor off of
    // the gutter glyph without moving it onto the popup. Even though the popup appears above (as in
    // Z-index above) the gutter glyph, if you move the cursor such that it is only above the glyph
    // for one frame you can cause the popup to appear without the mouse ever entering it.
    disposeTimeout = setTimeout(dispose, POPUP_DISPOSE_TIMEOUT);
  });
  cov_u31t3cylo.s[87]++;
  return { item, dispose };
}

/**
 * Shows a popup for the diagnostic just below the specified item.
 */
function showPopupFor(messages, item, goToLocation, diagnosticUpdater) {
  cov_u31t3cylo.f[10]++;

  // The popup will be an absolutely positioned child element of <atom-workspace> so that it appears
  // on top of everything.
  const workspaceElement = (cov_u31t3cylo.s[88]++, atom.views.getView(atom.workspace));
  const hostElement = (cov_u31t3cylo.s[89]++, document.createElement('div'));
  cov_u31t3cylo.s[90]++;
  hostElement.classList.add('diagnostics-gutter-popup');
  // $FlowFixMe check parentNode for null
  cov_u31t3cylo.s[91]++;
  workspaceElement.parentNode.appendChild(hostElement);

  // Move it down vertically so it does not end up under the mouse pointer.
  const { top, left } = (cov_u31t3cylo.s[92]++, item.getBoundingClientRect());

  cov_u31t3cylo.s[93]++;
  const trackedFixer = (...args) => {
    cov_u31t3cylo.f[11]++;
    cov_u31t3cylo.s[94]++;

    diagnosticUpdater.applyFix(...args);
    cov_u31t3cylo.s[95]++;
    (_analytics || _load_analytics()).default.track('diagnostics-gutter-autofix');
  };
  cov_u31t3cylo.s[96]++;
  const trackedGoToLocation = (filePath, line) => {
    cov_u31t3cylo.f[12]++;
    cov_u31t3cylo.s[97]++;

    goToLocation(filePath, line);
    cov_u31t3cylo.s[98]++;
    (_analytics || _load_analytics()).default.track('diagnostics-gutter-goto-location');
  };

  const editor = (cov_u31t3cylo.s[99]++, itemToEditor.get(item));
  cov_u31t3cylo.s[100]++;

  if (!(editor != null)) {
    throw new Error('Invariant violation: "editor != null"');
  }

  cov_u31t3cylo.s[101]++;

  diagnosticUpdater.fetchCodeActions(editor, messages);

  const BoundPopup = (cov_u31t3cylo.s[102]++, (0, (_bindObservableAsProps || _load_bindObservableAsProps()).bindObservableAsProps)((0, (_event || _load_event()).observableFromSubscribeFunction)(cb => {
    cov_u31t3cylo.f[13]++;
    cov_u31t3cylo.s[103]++;
    return diagnosticUpdater.observeCodeActionsForMessage(cb);
  }).map(codeActionsForMessage => {
    cov_u31t3cylo.f[14]++;
    cov_u31t3cylo.s[104]++;
    return {
      style: { left, top, position: 'absolute' },
      messages,
      fixer: trackedFixer,
      goToLocation: trackedGoToLocation,
      codeActionsForMessage
    };
  }), (_DiagnosticsPopup || _load_DiagnosticsPopup()).DiagnosticsPopup));
  cov_u31t3cylo.s[105]++;
  _reactDom.default.render(_react.createElement(BoundPopup, null), hostElement);

  // Check to see whether the popup is within the bounds of the TextEditor. If not, display it above
  // the glyph rather than below it.
  const editorElement = (cov_u31t3cylo.s[106]++, atom.views.getView(editor));
  const {
    top: editorTop,
    height: editorHeight
  } = (cov_u31t3cylo.s[107]++, editorElement.getBoundingClientRect());
  const { top: itemTop, height: itemHeight } = (cov_u31t3cylo.s[108]++, item.getBoundingClientRect());
  const popupElement = (cov_u31t3cylo.s[109]++, hostElement.firstElementChild);
  cov_u31t3cylo.s[110]++;

  if (!(popupElement instanceof HTMLElement)) {
    throw new Error('Invariant violation: "popupElement instanceof HTMLElement"');
  }

  const popupHeight = (cov_u31t3cylo.s[111]++, popupElement.clientHeight);
  cov_u31t3cylo.s[112]++;
  if (itemTop + itemHeight + popupHeight > editorTop + editorHeight) {
    cov_u31t3cylo.b[15][0]++;
    cov_u31t3cylo.s[113]++;

    // Shift the popup back down by GLYPH_HEIGHT, so that the bottom padding overlaps with the
    // glyph. An additional 4 px is needed to make it look the same way it does when it shows up
    // below. I don't know why.
    popupElement.style.top = String(itemTop - popupHeight + GLYPH_HEIGHT + 4) + 'px';
  } else {
    cov_u31t3cylo.b[15][1]++;
  }

  cov_u31t3cylo.s[114]++;
  try {
    cov_u31t3cylo.s[115]++;

    return hostElement;
  } finally {
    cov_u31t3cylo.s[116]++;

    messages.forEach(message => {
      cov_u31t3cylo.f[15]++;
      cov_u31t3cylo.s[117]++;

      (_analytics || _load_analytics()).default.track('diagnostics-gutter-show-popup', {
        'diagnostics-provider': message.providerName,
        // flowlint-next-line sketchy-null-string:off
        'diagnostics-message': (cov_u31t3cylo.b[16][0]++, message.text) || (cov_u31t3cylo.b[16][1]++, message.html) || (cov_u31t3cylo.b[16][2]++, '')
      });
    });
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImd1dHRlci5qcyJdLCJuYW1lcyI6WyJhcHBseVVwZGF0ZVRvRWRpdG9yIiwiR1VUVEVSX0lEIiwiR0xZUEhfSEVJR0hUIiwiUE9QVVBfRElTUE9TRV9USU1FT1VUIiwiSElHSExJR0hUX0NTUyIsIkhJR0hMSUdIVF9DU1NfTEVWRUxTIiwiRXJyb3IiLCJXYXJuaW5nIiwiSW5mbyIsIkdVVFRFUl9DU1NfTEVWRUxTIiwiZWRpdG9yVG9NYXJrZXJzIiwiV2Vha01hcCIsIml0ZW1Ub0VkaXRvciIsImVkaXRvciIsInVwZGF0ZSIsImRpYWdub3N0aWNVcGRhdGVyIiwiZ3V0dGVyIiwiZ3V0dGVyV2l0aE5hbWUiLCJhZGRHdXR0ZXIiLCJuYW1lIiwidmlzaWJsZSIsInByaW9yaXR5IiwibWFya2VyIiwibWFya2VycyIsImdldCIsImRlc3Ryb3kiLCJjbGVhciIsIlNldCIsInJvd1RvTWVzc2FnZSIsIk1hcCIsImFkZE1lc3NhZ2VGb3JSb3ciLCJtZXNzYWdlIiwicm93IiwibWVzc2FnZXMiLCJzZXQiLCJwdXNoIiwid29yZFJhbmdlIiwicmFuZ2UiLCJpc0VtcHR5Iiwic3RhcnQiLCJoaWdobGlnaHRDc3NDbGFzcyIsInR5cGUiLCJoaWdobGlnaHRNYXJrZXIiLCJsaW5lIiwiZW5kIiwibGluZVRleHQiLCJnZXRUZXh0SW5CdWZmZXJSYW5nZSIsImNvbHVtbiIsIm1hdGNoIiwibGVuZ3RoIiwibWFya0J1ZmZlclJhbmdlIiwiZGVjb3JhdGVNYXJrZXIiLCJjbGFzcyIsImFkZCIsImVudHJpZXMiLCJtZXNzYWdlVHlwZXMiLCJmb3JFYWNoIiwibXNnIiwiZmlyc3RUeXBlIiwiT2JqZWN0Iiwia2V5cyIsImZpbmQiLCJoYXMiLCJndXR0ZXJNYXJrZXJDc3NDbGFzcyIsIml0ZW0iLCJkaXNwb3NlIiwiY3JlYXRlR3V0dGVySXRlbSIsImd1dHRlck1hcmtlciIsIm1hcmtCdWZmZXJQb3NpdGlvbiIsIm9uRGlkRGVzdHJveSIsInNob3ciLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJwb3B1cEVsZW1lbnQiLCJwYW5lSXRlbVN1YnNjcmlwdGlvbiIsImRpc3Bvc2VUaW1lb3V0IiwiY2xlYXJEaXNwb3NlVGltZW91dCIsImNsZWFyVGltZW91dCIsInVubW91bnRDb21wb25lbnRBdE5vZGUiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJnb1RvTG9jYXRpb24iLCJwYXRoIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50Iiwic2hvd1BvcHVwRm9yIiwiYXRvbSIsIndvcmtzcGFjZSIsIm9uRGlkQ2hhbmdlQWN0aXZlUGFuZUl0ZW0iLCJzZXRUaW1lb3V0Iiwid29ya3NwYWNlRWxlbWVudCIsInZpZXdzIiwiZ2V0VmlldyIsImhvc3RFbGVtZW50IiwiY2xhc3NMaXN0IiwiYXBwZW5kQ2hpbGQiLCJ0b3AiLCJsZWZ0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwidHJhY2tlZEZpeGVyIiwiYXJncyIsImFwcGx5Rml4IiwidHJhY2siLCJ0cmFja2VkR29Ub0xvY2F0aW9uIiwiZmlsZVBhdGgiLCJmZXRjaENvZGVBY3Rpb25zIiwiQm91bmRQb3B1cCIsImNiIiwib2JzZXJ2ZUNvZGVBY3Rpb25zRm9yTWVzc2FnZSIsIm1hcCIsImNvZGVBY3Rpb25zRm9yTWVzc2FnZSIsInN0eWxlIiwicG9zaXRpb24iLCJmaXhlciIsInJlbmRlciIsImVkaXRvckVsZW1lbnQiLCJlZGl0b3JUb3AiLCJoZWlnaHQiLCJlZGl0b3JIZWlnaHQiLCJpdGVtVG9wIiwiaXRlbUhlaWdodCIsImZpcnN0RWxlbWVudENoaWxkIiwiSFRNTEVsZW1lbnQiLCJwb3B1cEhlaWdodCIsImNsaWVudEhlaWdodCIsIlN0cmluZyIsInByb3ZpZGVyTmFtZSIsInRleHQiLCJodG1sIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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Q0pvRixTQUFLb0IsU0FERDtBQUVKQyxZQUFRQztBQUZKLCtCQUdGSCxjQUFjakIscUJBQWQsRUFIRSxDQUFOO0FBSUEsUUFBTSxFQUFDRixLQUFLdUIsT0FBTixFQUFlRixRQUFRRyxVQUF2Qiw4QkFBcUN6RCxLQUFLbUMscUJBQUwsRUFBckMsQ0FBTjtBQUNBLFFBQU16Qix3Q0FBZW9CLFlBQVk0QixpQkFBM0IsQ0FBTjtBQS9DYTs7QUFBQSxRQWdESGhELHdCQUF3QmlELFdBaERyQjtBQUFBO0FBQUE7O0FBaURiLFFBQU1DLHVDQUFjbEQsYUFBYW1ELFlBQTNCLENBQU47QUFqRGE7QUFrRGIsTUFBSUwsVUFBVUMsVUFBVixHQUF1QkcsV0FBdkIsR0FBcUNQLFlBQVlFLFlBQXJELEVBQW1FO0FBQUE7QUFBQTs7QUFDakU7QUFDQTtBQUNBO0FBQ0E3QyxpQkFBYXNDLEtBQWIsQ0FBbUJmLEdBQW5CLEdBQ0U2QixPQUFPTixVQUFVSSxXQUFWLEdBQXdCMUgsWUFBeEIsR0FBdUMsQ0FBOUMsSUFBbUQsSUFEckQ7QUFFRCxHQU5EO0FBQUE7QUFBQTs7QUFsRGE7QUEwRGIsTUFBSTtBQUFBOztBQUNGLFdBQU80RixXQUFQO0FBQ0QsR0FGRCxTQUVVO0FBQUE7O0FBQ1I3RCxhQUFTdUIsT0FBVCxDQUFpQnpCLFdBQVc7QUFBQTtBQUFBOztBQUMxQixnREFBVXdFLEtBQVYsQ0FBZ0IsK0JBQWhCLEVBQWlEO0FBQy9DLGdDQUF3QnhFLFFBQVFnRyxZQURlO0FBRS9DO0FBQ0EsK0JBQXVCLG1DQUFRQyxJQUFSLGdDQUFnQmpHLFFBQVFrRyxJQUF4QixnQ0FBZ0MsRUFBaEM7QUFId0IsT0FBakQ7QUFLRCxLQU5EO0FBT0Q7QUFDRiIsImZpbGUiOiJndXR0ZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxNy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQGZsb3dcbiAqIEBmb3JtYXRcbiAqL1xuXG5pbXBvcnQgdHlwZSB7XG4gIERpYWdub3N0aWNVcGRhdGVyLFxuICBGaWxlRGlhZ25vc3RpY01lc3NhZ2UsXG4gIEZpbGVEaWFnbm9zdGljTWVzc2FnZXMsXG59IGZyb20gJy4uLy4uL2F0b20taWRlLWRpYWdub3N0aWNzL2xpYi90eXBlcyc7XG5pbXBvcnQgdHlwZSB7TnVjbGlkZVVyaX0gZnJvbSAnbnVjbGlkZS1jb21tb25zL251Y2xpZGVVcmknO1xuaW1wb3J0IGNsYXNzbmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5cbmltcG9ydCB7UmFuZ2V9IGZyb20gJ2F0b20nO1xuaW1wb3J0IGludmFyaWFudCBmcm9tICdhc3NlcnQnO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7XG5pbXBvcnQge29ic2VydmFibGVGcm9tU3Vic2NyaWJlRnVuY3Rpb259IGZyb20gJ251Y2xpZGUtY29tbW9ucy9ldmVudCc7XG5pbXBvcnQge2dvVG9Mb2NhdGlvbiBhcyBhdG9tR29Ub0xvY2F0aW9ufSBmcm9tICdudWNsaWRlLWNvbW1vbnMtYXRvbS9nby10by1sb2NhdGlvbic7XG5pbXBvcnQge3dvcmRBdFBvc2l0aW9ufSBmcm9tICdudWNsaWRlLWNvbW1vbnMtYXRvbS9yYW5nZSc7XG5pbXBvcnQgYW5hbHl0aWNzIGZyb20gJ251Y2xpZGUtY29tbW9ucy1hdG9tL2FuYWx5dGljcyc7XG5pbXBvcnQge2JpbmRPYnNlcnZhYmxlQXNQcm9wc30gZnJvbSAnbnVjbGlkZS1jb21tb25zLXVpL2JpbmRPYnNlcnZhYmxlQXNQcm9wcyc7XG5pbXBvcnQge0RpYWdub3N0aWNzUG9wdXB9IGZyb20gJy4vdWkvRGlhZ25vc3RpY3NQb3B1cCc7XG5cbmNvbnN0IEdVVFRFUl9JRCA9ICdkaWFnbm9zdGljcy1ndXR0ZXInO1xuXG4vLyBOZWVkcyB0byBiZSB0aGUgc2FtZSBhcyBnbHlwaC1oZWlnaHQgaW4gZ3V0dGVyLmF0b20tdGV4dC1lZGl0b3IubGVzcy5cbmNvbnN0IEdMWVBIX0hFSUdIVCA9IDE1OyAvLyBweFxuXG5jb25zdCBQT1BVUF9ESVNQT1NFX1RJTUVPVVQgPSAxMDA7XG5cbi8vIFRPRE8obWJvbGluKTogTWFrZSBpdCBzbyB0aGF0IHdoZW4gbW91c2luZyBvdmVyIGFuIGVsZW1lbnQgd2l0aCB0aGlzIENTUyBjbGFzcyAob3Igc3BlY2lmaWNhbGx5LFxuLy8gdGhlIGNoaWxkIGVsZW1lbnQgd2l0aCB0aGUgXCJyZWdpb25cIiBDU1MgY2xhc3MpLCB3ZSBhbHNvIGRvIGEgc2hvd1BvcHVwRm9yKCkuIFRoaXMgc2VlbXMgdG8gYmVcbi8vIHRyaWNreSBnaXZlbiBob3cgdGhlIERPTSBvZiBhIFRleHRFZGl0b3Igd29ya3MgdG9kYXkuIFRoZXJlIGFyZSBkaXYudGlsZSBlbGVtZW50cywgZWFjaCBvZiB3aGljaFxuLy8gaGFzIGl0cyBvd24gZGl2LmhpZ2hsaWdodHMgZWxlbWVudCBhbmQgbWFueSBkaXYubGluZSBlbGVtZW50cy4gVGhlIGRpdi5oaWdobGlnaHRzIGVsZW1lbnQgaGFzIDBcbi8vIG9yIG1vcmUgY2hpbGRyZW4sIGVhY2ggY2hpbGQgYmVpbmcgYSBkaXYuaGlnaGxpZ2h0IHdpdGggYSBjaGlsZCBkaXYucmVnaW9uLiBUaGUgZGl2LnJlZ2lvblxuLy8gZWxlbWVudCBpcyBkZWZpbmVkIHRvIGJlIHtwb3NpdGlvbjogYWJzb2x1dGU7IHBvaW50ZXItZXZlbnRzOiBub25lOyB6LWluZGV4OiAtMX0uIFRoZSBhYnNvbHV0ZVxuLy8gcG9zaXRpb25pbmcgYW5kIG5lZ2F0aXZlIHotaW5kZXggbWFrZSBpdCBzbyBpdCBpc24ndCBlbGlnaWJsZSBmb3IgbW91c2VvdmVyIGV2ZW50cywgc28gd2Vcbi8vIG1pZ2h0IGhhdmUgdG8gbGlzdGVuIGZvciBtb3VzZW92ZXIgZXZlbnRzIG9uIFRleHRFZGl0b3IgYW5kIHRoZW4gdXNlIGl0cyBvd24gQVBJcywgc3VjaCBhc1xuLy8gZGVjb3JhdGlvbnNGb3JTY3JlZW5Sb3dSYW5nZSgpLCB0byBzZWUgaWYgdGhlcmUgaXMgYSBoaXQgdGFyZ2V0IGluc3RlYWQuIFNpbmNlIHRoaXMgd2lsbCBiZVxuLy8gaGFwcGVuaW5nIG9ubW91c2Vtb3ZlLCB3ZSBhbHNvIGhhdmUgdG8gYmUgY2FyZWZ1bCB0byBtYWtlIHN1cmUgdGhpcyBpcyBub3QgZXhwZW5zaXZlLlxuY29uc3QgSElHSExJR0hUX0NTUyA9ICdkaWFnbm9zdGljcy1ndXR0ZXItdWktaGlnaGxpZ2h0JztcblxuY29uc3QgSElHSExJR0hUX0NTU19MRVZFTFMgPSB7XG4gIEVycm9yOiAnZGlhZ25vc3RpY3MtZ3V0dGVyLXVpLWhpZ2hsaWdodC1lcnJvcicsXG4gIFdhcm5pbmc6ICdkaWFnbm9zdGljcy1ndXR0ZXItdWktaGlnaGxpZ2h0LXdhcm5pbmcnLFxuICBJbmZvOiAnZGlhZ25vc3RpY3MtZ3V0dGVyLXVpLWhpZ2hsaWdodC1pbmZvJyxcbn07XG5cbmNvbnN0IEdVVFRFUl9DU1NfTEVWRUxTID0ge1xuICBFcnJvcjogJ2RpYWdub3N0aWNzLWd1dHRlci11aS1ndXR0ZXItZXJyb3InLFxuICBXYXJuaW5nOiAnZGlhZ25vc3RpY3MtZ3V0dGVyLXVpLWd1dHRlci13YXJuaW5nJyxcbiAgSW5mbzogJ2RpYWdub3N0aWNzLWd1dHRlci11aS1ndXR0ZXItaW5mbycsXG59O1xuXG5jb25zdCBlZGl0b3JUb01hcmtlcnM6IFdlYWtNYXA8VGV4dEVkaXRvciwgU2V0PGF0b20kTWFya2VyPj4gPSBuZXcgV2Vha01hcCgpO1xuY29uc3QgaXRlbVRvRWRpdG9yOiBXZWFrTWFwPEhUTUxFbGVtZW50LCBUZXh0RWRpdG9yPiA9IG5ldyBXZWFrTWFwKCk7XG5cbmV4cG9ydCBmdW5jdGlvbiBhcHBseVVwZGF0ZVRvRWRpdG9yKFxuICBlZGl0b3I6IFRleHRFZGl0b3IsXG4gIHVwZGF0ZTogRmlsZURpYWdub3N0aWNNZXNzYWdlcyxcbiAgZGlhZ25vc3RpY1VwZGF0ZXI6IERpYWdub3N0aWNVcGRhdGVyLFxuKTogdm9pZCB7XG4gIGxldCBndXR0ZXIgPSBlZGl0b3IuZ3V0dGVyV2l0aE5hbWUoR1VUVEVSX0lEKTtcbiAgaWYgKCFndXR0ZXIpIHtcbiAgICAvLyBUT0RPKGplc3NpY2FsaW4pOiBEZXRlcm1pbmUgYW4gYXBwcm9wcmlhdGUgcHJpb3JpdHkgc28gdGhhdCB0aGUgZ3V0dGVyOlxuICAgIC8vICgxKSBTaG93cyB1cCB0byB0aGUgcmlnaHQgb2YgdGhlIGxpbmUgbnVtYmVycy5cbiAgICAvLyAoMikgU2hvd3MgdGhlIGl0ZW1zIHRoYXQgYXJlIGFkZGVkIHRvIGl0IHJpZ2h0IGF3YXkuXG4gICAgLy8gVXNpbmcgYSB2YWx1ZSBvZiAxMCBmaXhlcyAoMSksIGJ1dCBicmVha3MgKDIpLiBUaGlzIHNlZW1zIGxpa2UgaXQgaXMgbGlrZWx5IGEgYnVnIGluIEF0b20uXG5cbiAgICAvLyBCeSBkZWZhdWx0LCBhIGd1dHRlciB3aWxsIGJlIGRlc3Ryb3llZCB3aGVuIGl0cyBlZGl0b3IgaXMgZGVzdHJveWVkLFxuICAgIC8vIHNvIHRoZXJlIGlzIG5vIG5lZWQgdG8gcmVnaXN0ZXIgYSBjYWxsYmFjayB2aWEgb25EaWREZXN0cm95KCkuXG4gICAgZ3V0dGVyID0gZWRpdG9yLmFkZEd1dHRlcih7XG4gICAgICBuYW1lOiBHVVRURVJfSUQsXG4gICAgICB2aXNpYmxlOiBmYWxzZSxcbiAgICAgIC8vIFByaW9yaXR5IGlzIC0yMDAgYnkgZGVmYXVsdCBhbmQgMCBpcyB0aGUgbGluZSBudW1iZXJcbiAgICAgIHByaW9yaXR5OiAtMTAwMCxcbiAgICB9KTtcbiAgfVxuXG4gIGxldCBtYXJrZXI7XG4gIGxldCBtYXJrZXJzID0gZWRpdG9yVG9NYXJrZXJzLmdldChlZGl0b3IpO1xuXG4gIC8vIFRPRE86IENvbnNpZGVyIGEgbW9yZSBlZmZpY2llbnQgc3RyYXRlZ3kgdGhhdCBkb2VzIG5vdCBibGluZGx5IGRlc3Ryb3kgYWxsIG9mIHRoZVxuICAvLyBleGlzdGluZyBtYXJrZXJzLlxuICBpZiAobWFya2Vycykge1xuICAgIGZvciAobWFya2VyIG9mIG1hcmtlcnMpIHtcbiAgICAgIG1hcmtlci5kZXN0cm95KCk7XG4gICAgfVxuICAgIG1hcmtlcnMuY2xlYXIoKTtcbiAgfSBlbHNlIHtcbiAgICBtYXJrZXJzID0gbmV3IFNldCgpO1xuICB9XG5cbiAgY29uc3Qgcm93VG9NZXNzYWdlOiBNYXA8bnVtYmVyLCBBcnJheTxGaWxlRGlhZ25vc3RpY01lc3NhZ2U+PiA9IG5ldyBNYXAoKTtcbiAgZnVuY3Rpb24gYWRkTWVzc2FnZUZvclJvdyhtZXNzYWdlOiBGaWxlRGlhZ25vc3RpY01lc3NhZ2UsIHJvdzogbnVtYmVyKSB7XG4gICAgbGV0IG1lc3NhZ2VzID0gcm93VG9NZXNzYWdlLmdldChyb3cpO1xuICAgIGlmICghbWVzc2FnZXMpIHtcbiAgICAgIG1lc3NhZ2VzID0gW107XG4gICAgICByb3dUb01lc3NhZ2Uuc2V0KHJvdywgbWVzc2FnZXMpO1xuICAgIH1cbiAgICBtZXNzYWdlcy5wdXNoKG1lc3NhZ2UpO1xuICB9XG5cbiAgZm9yIChjb25zdCBtZXNzYWdlIG9mIHVwZGF0ZS5tZXNzYWdlcykge1xuICAgIGNvbnN0IHdvcmRSYW5nZSA9XG4gICAgICBtZXNzYWdlLnJhbmdlICE9IG51bGwgJiYgbWVzc2FnZS5yYW5nZS5pc0VtcHR5KClcbiAgICAgICAgPyB3b3JkQXRQb3NpdGlvbihlZGl0b3IsIG1lc3NhZ2UucmFuZ2Uuc3RhcnQpXG4gICAgICAgIDogbnVsbDtcbiAgICBjb25zdCByYW5nZSA9IHdvcmRSYW5nZSAhPSBudWxsID8gd29yZFJhbmdlLnJhbmdlIDogbWVzc2FnZS5yYW5nZTtcblxuICAgIGNvbnN0IGhpZ2hsaWdodENzc0NsYXNzID0gY2xhc3NuYW1lcyhcbiAgICAgIEhJR0hMSUdIVF9DU1MsXG4gICAgICBISUdITElHSFRfQ1NTX0xFVkVMU1ttZXNzYWdlLnR5cGVdLFxuICAgICk7XG5cbiAgICBsZXQgaGlnaGxpZ2h0TWFya2VyO1xuICAgIGlmIChyYW5nZSkge1xuICAgICAgYWRkTWVzc2FnZUZvclJvdyhtZXNzYWdlLCByYW5nZS5zdGFydC5yb3cpO1xuXG4gICAgICAvLyBUaGVyZSBpcyBubyBBUEkgaW4gQXRvbSB0byBzYXk6IEkgd2FudCB0byBwdXQgYW4gdW5kZXJsaW5lIG9uIGFsbCB0aGVcbiAgICAgIC8vIGxpbmVzIGluIHRoaXMgcmFuZ2UuIFRoZSBjbG9zZXN0IGlzIFwiaGlnaGxpZ2h0XCIgd2hpY2ggc3BsaXRzIHlvdXIgcmFuZ2VcbiAgICAgIC8vIGludG8gdGhyZWUgYm94ZXM6IHRoZSBwYXJ0IG9mIHRoZSBmaXJzdCBsaW5lLCBhbGwgdGhlIGxpbmVzIGluIGJldHdlZW5cbiAgICAgIC8vIGFuZCB0aGUgcGFydCBvZiB0aGUgbGFzdCBsaW5lLlxuICAgICAgLy9cbiAgICAgIC8vIFRoaXMgbWVhbnMgdGhhdCBzb21lIGxpbmVzIGluIHRoZSBtaWRkbGUgYXJlIGdvaW5nIHRvIGJlIGRyb3BwZWQgYW5kXG4gICAgICAvLyB0aGV5IGFyZSBnb2luZyB0byBleHRlbmQgYWxsIHRoZSB3YXkgdG8gdGhlIHJpZ2h0IG9mIHRoZSBidWZmZXIuXG4gICAgICAvL1xuICAgICAgLy8gVG8gZml4IHRoaXMsIHdlIGNhbiBtYW51YWxseSBzcGxpdCBpdCBsaW5lIGJ5IGxpbmUgYW5kIGdpdmUgdG8gYXRvbVxuICAgICAgLy8gdGhvc2UgcmFuZ2VzLlxuICAgICAgZm9yIChsZXQgbGluZSA9IHJhbmdlLnN0YXJ0LnJvdzsgbGluZSA8PSByYW5nZS5lbmQucm93OyBsaW5lKyspIHtcbiAgICAgICAgbGV0IHN0YXJ0O1xuICAgICAgICBsZXQgZW5kO1xuICAgICAgICBjb25zdCBsaW5lVGV4dCA9IGVkaXRvci5nZXRUZXh0SW5CdWZmZXJSYW5nZShcbiAgICAgICAgICBuZXcgUmFuZ2UoW2xpbmUsIDBdLCBbbGluZSArIDEsIDBdKSxcbiAgICAgICAgKTtcblxuICAgICAgICBpZiAobGluZSA9PT0gcmFuZ2Uuc3RhcnQucm93KSB7XG4gICAgICAgICAgc3RhcnQgPSByYW5nZS5zdGFydC5jb2x1bW47XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3RhcnQgPSAobGluZVRleHQubWF0Y2goL15cXHMqLykgfHwgWycnXSlbMF0ubGVuZ3RoO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGxpbmUgPT09IHJhbmdlLmVuZC5yb3cpIHtcbiAgICAgICAgICBlbmQgPSByYW5nZS5lbmQuY29sdW1uO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIE5vdGU6IHRoaXMgaXMgdGVjaG5pY2FsbHkgb2ZmIGJ5IDEgKFxcbikgb3IgMiAoXFxyXFxuKSBidXQgQXRvbSB3aWxsXG4gICAgICAgICAgLy8gbm90IGV4dGVuZCB0aGUgcmFuZ2UgcGFzdCB0aGUgYWN0dWFsIGNoYXJhY3RlcnMgZGlzcGxheWVkIG9uIHRoZVxuICAgICAgICAgIC8vIGxpbmVcbiAgICAgICAgICBlbmQgPSBsaW5lVGV4dC5sZW5ndGg7XG4gICAgICAgIH1cblxuICAgICAgICBoaWdobGlnaHRNYXJrZXIgPSBlZGl0b3IubWFya0J1ZmZlclJhbmdlKFxuICAgICAgICAgIG5ldyBSYW5nZShbbGluZSwgc3RhcnRdLCBbbGluZSwgZW5kXSksXG4gICAgICAgICk7XG4gICAgICAgIGVkaXRvci5kZWNvcmF0ZU1hcmtlcihoaWdobGlnaHRNYXJrZXIsIHtcbiAgICAgICAgICB0eXBlOiAnaGlnaGxpZ2h0JyxcbiAgICAgICAgICBjbGFzczogaGlnaGxpZ2h0Q3NzQ2xhc3MsXG4gICAgICAgIH0pO1xuICAgICAgICBtYXJrZXJzLmFkZChoaWdobGlnaHRNYXJrZXIpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBhZGRNZXNzYWdlRm9yUm93KG1lc3NhZ2UsIDApO1xuICAgIH1cbiAgfVxuXG4gIC8vIEZpbmQgYWxsIG9mIHRoZSBndXR0ZXIgbWFya2VycyBmb3IgdGhlIHNhbWUgcm93IGFuZCBjb21iaW5lIHRoZW0gaW50byBvbmUgbWFya2VyL3BvcHVwLlxuICBmb3IgKGNvbnN0IFtyb3csIG1lc3NhZ2VzXSBvZiByb3dUb01lc3NhZ2UuZW50cmllcygpKSB7XG4gICAgLy8gU2hvdyB0aGUgaGlnaGVzdCBwcmlvcml0eSBtYXJrZXIgKG5vdGUgdGhlIG9yZGVyaW5nIG9mIEdVVFRFUl9DU1MpLlxuICAgIGNvbnN0IG1lc3NhZ2VUeXBlcyA9IG5ldyBTZXQoKTtcbiAgICBtZXNzYWdlcy5mb3JFYWNoKG1zZyA9PiBtZXNzYWdlVHlwZXMuYWRkKG1zZy50eXBlKSk7XG4gICAgY29uc3QgZmlyc3RUeXBlID0gT2JqZWN0LmtleXMoR1VUVEVSX0NTU19MRVZFTFMpLmZpbmQodHlwZSA9PlxuICAgICAgbWVzc2FnZVR5cGVzLmhhcyh0eXBlKSxcbiAgICApO1xuICAgIGNvbnN0IGd1dHRlck1hcmtlckNzc0NsYXNzID0gR1VUVEVSX0NTU19MRVZFTFNbZmlyc3RUeXBlIHx8ICdFcnJvciddO1xuXG4gICAgLy8gVGhpcyBtYXJrZXIgYWRkcyBzb21lIFVJIHRvIHRoZSBndXR0ZXIuXG4gICAgY29uc3Qge2l0ZW0sIGRpc3Bvc2V9ID0gY3JlYXRlR3V0dGVySXRlbShcbiAgICAgIG1lc3NhZ2VzLFxuICAgICAgZ3V0dGVyTWFya2VyQ3NzQ2xhc3MsXG4gICAgICBkaWFnbm9zdGljVXBkYXRlcixcbiAgICApO1xuICAgIGl0ZW1Ub0VkaXRvci5zZXQoaXRlbSwgZWRpdG9yKTtcbiAgICBjb25zdCBndXR0ZXJNYXJrZXIgPSBlZGl0b3IubWFya0J1ZmZlclBvc2l0aW9uKFtyb3csIDBdKTtcbiAgICBndXR0ZXIuZGVjb3JhdGVNYXJrZXIoZ3V0dGVyTWFya2VyLCB7aXRlbX0pO1xuICAgIGd1dHRlck1hcmtlci5vbkRpZERlc3Ryb3koZGlzcG9zZSk7XG4gICAgbWFya2Vycy5hZGQoZ3V0dGVyTWFya2VyKTtcbiAgfVxuXG4gIGVkaXRvclRvTWFya2Vycy5zZXQoZWRpdG9yLCBtYXJrZXJzKTtcblxuICAvLyBPbmNlIHRoZSBndXR0ZXIgaXMgc2hvd24gZm9yIHRoZSBmaXJzdCB0aW1lLCBpdCBpcyBkaXNwbGF5ZWQgZm9yIHRoZSBsaWZldGltZSBvZiB0aGVcbiAgLy8gVGV4dEVkaXRvci5cbiAgaWYgKHVwZGF0ZS5tZXNzYWdlcy5sZW5ndGggPiAwKSB7XG4gICAgZ3V0dGVyLnNob3coKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjcmVhdGVHdXR0ZXJJdGVtKFxuICBtZXNzYWdlczogQXJyYXk8RmlsZURpYWdub3N0aWNNZXNzYWdlPixcbiAgZ3V0dGVyTWFya2VyQ3NzQ2xhc3M6IHN0cmluZyxcbiAgZGlhZ25vc3RpY1VwZGF0ZXI6IERpYWdub3N0aWNVcGRhdGVyLFxuKToge2l0ZW06IEhUTUxFbGVtZW50LCBkaXNwb3NlOiAoKSA9PiB2b2lkfSB7XG4gIGNvbnN0IGl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gIGl0ZW0uY2xhc3NOYW1lID0gZ3V0dGVyTWFya2VyQ3NzQ2xhc3M7XG4gIGxldCBwb3B1cEVsZW1lbnQgPSBudWxsO1xuICBsZXQgcGFuZUl0ZW1TdWJzY3JpcHRpb24gPSBudWxsO1xuICBsZXQgZGlzcG9zZVRpbWVvdXQgPSBudWxsO1xuICBjb25zdCBjbGVhckRpc3Bvc2VUaW1lb3V0ID0gKCkgPT4ge1xuICAgIC8vIGZsb3dsaW50LW5leHQtbGluZSBza2V0Y2h5LW51bGwtbnVtYmVyOm9mZlxuICAgIGlmIChkaXNwb3NlVGltZW91dCkge1xuICAgICAgY2xlYXJUaW1lb3V0KGRpc3Bvc2VUaW1lb3V0KTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGRpc3Bvc2UgPSAoKSA9PiB7XG4gICAgaWYgKHBvcHVwRWxlbWVudCkge1xuICAgICAgUmVhY3RET00udW5tb3VudENvbXBvbmVudEF0Tm9kZShwb3B1cEVsZW1lbnQpO1xuICAgICAgaW52YXJpYW50KHBvcHVwRWxlbWVudC5wYXJlbnROb2RlICE9IG51bGwpO1xuICAgICAgcG9wdXBFbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQocG9wdXBFbGVtZW50KTtcbiAgICAgIHBvcHVwRWxlbWVudCA9IG51bGw7XG4gICAgfVxuICAgIGlmIChwYW5lSXRlbVN1YnNjcmlwdGlvbikge1xuICAgICAgcGFuZUl0ZW1TdWJzY3JpcHRpb24uZGlzcG9zZSgpO1xuICAgICAgcGFuZUl0ZW1TdWJzY3JpcHRpb24gPSBudWxsO1xuICAgIH1cbiAgICBjbGVhckRpc3Bvc2VUaW1lb3V0KCk7XG4gIH07XG4gIGNvbnN0IGdvVG9Mb2NhdGlvbiA9IChwYXRoOiBzdHJpbmcsIGxpbmU6IG51bWJlcikgPT4ge1xuICAgIC8vIEJlZm9yZSB3ZSBqdW1wIHRvIHRoZSBsb2NhdGlvbiwgd2Ugd2FudCB0byBjbG9zZSB0aGUgcG9wdXAuXG4gICAgZGlzcG9zZSgpO1xuICAgIGNvbnN0IGNvbHVtbiA9IDA7XG4gICAgYXRvbUdvVG9Mb2NhdGlvbihwYXRoLCB7bGluZSwgY29sdW1ufSk7XG4gIH07XG4gIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIChldmVudDogTW91c2VFdmVudCkgPT4ge1xuICAgIC8vIElmIHRoZXJlIHdhcyBzb21laG93IGFub3RoZXIgcG9wdXAgZm9yIHRoaXMgZ3V0dGVyIGl0ZW0sIGRpc3Bvc2UgaXQuIFRoaXMgY2FuIGhhcHBlbiBpZiB0aGVcbiAgICAvLyB1c2VyIG1hbmFnZXMgdG8gc2Nyb2xsIGFuZCBlc2NhcGUgZGlzcG9zYWwuXG4gICAgZGlzcG9zZSgpO1xuICAgIHBvcHVwRWxlbWVudCA9IHNob3dQb3B1cEZvcihcbiAgICAgIG1lc3NhZ2VzLFxuICAgICAgaXRlbSxcbiAgICAgIGdvVG9Mb2NhdGlvbixcbiAgICAgIGRpYWdub3N0aWNVcGRhdGVyLFxuICAgICk7XG4gICAgcG9wdXBFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCBkaXNwb3NlKTtcbiAgICBwb3B1cEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIGNsZWFyRGlzcG9zZVRpbWVvdXQpO1xuICAgIC8vIFRoaXMgbWFrZXMgc3VyZSB0aGF0IHRoZSBwb3B1cCBkaXNhcHBlYXJzIHdoZW4geW91IGN0cmwrdGFiIHRvIHN3aXRjaCB0YWJzLlxuICAgIHBhbmVJdGVtU3Vic2NyaXB0aW9uID0gYXRvbS53b3Jrc3BhY2Uub25EaWRDaGFuZ2VBY3RpdmVQYW5lSXRlbShkaXNwb3NlKTtcbiAgfSk7XG4gIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIChldmVudDogTW91c2VFdmVudCkgPT4ge1xuICAgIC8vIFdoZW4gdGhlIHBvcHVwIGlzIHNob3duLCB3ZSB3YW50IHRvIGRpc3Bvc2UgaXQgaWYgdGhlIHVzZXIgbWFuYWdlcyB0byBtb3ZlIHRoZSBjdXJzb3Igb2ZmIG9mXG4gICAgLy8gdGhlIGd1dHRlciBnbHlwaCB3aXRob3V0IG1vdmluZyBpdCBvbnRvIHRoZSBwb3B1cC4gRXZlbiB0aG91Z2ggdGhlIHBvcHVwIGFwcGVhcnMgYWJvdmUgKGFzIGluXG4gICAgLy8gWi1pbmRleCBhYm92ZSkgdGhlIGd1dHRlciBnbHlwaCwgaWYgeW91IG1vdmUgdGhlIGN1cnNvciBzdWNoIHRoYXQgaXQgaXMgb25seSBhYm92ZSB0aGUgZ2x5cGhcbiAgICAvLyBmb3Igb25lIGZyYW1lIHlvdSBjYW4gY2F1c2UgdGhlIHBvcHVwIHRvIGFwcGVhciB3aXRob3V0IHRoZSBtb3VzZSBldmVyIGVudGVyaW5nIGl0LlxuICAgIGRpc3Bvc2VUaW1lb3V0ID0gc2V0VGltZW91dChkaXNwb3NlLCBQT1BVUF9ESVNQT1NFX1RJTUVPVVQpO1xuICB9KTtcbiAgcmV0dXJuIHtpdGVtLCBkaXNwb3NlfTtcbn1cblxuLyoqXG4gKiBTaG93cyBhIHBvcHVwIGZvciB0aGUgZGlhZ25vc3RpYyBqdXN0IGJlbG93IHRoZSBzcGVjaWZpZWQgaXRlbS5cbiAqL1xuZnVuY3Rpb24gc2hvd1BvcHVwRm9yKFxuICBtZXNzYWdlczogQXJyYXk8RmlsZURpYWdub3N0aWNNZXNzYWdlPixcbiAgaXRlbTogSFRNTEVsZW1lbnQsXG4gIGdvVG9Mb2NhdGlvbjogKGZpbGVQYXRoOiBOdWNsaWRlVXJpLCBsaW5lOiBudW1iZXIpID0+IG1peGVkLFxuICBkaWFnbm9zdGljVXBkYXRlcjogRGlhZ25vc3RpY1VwZGF0ZXIsXG4pOiBIVE1MRWxlbWVudCB7XG4gIC8vIFRoZSBwb3B1cCB3aWxsIGJlIGFuIGFic29sdXRlbHkgcG9zaXRpb25lZCBjaGlsZCBlbGVtZW50IG9mIDxhdG9tLXdvcmtzcGFjZT4gc28gdGhhdCBpdCBhcHBlYXJzXG4gIC8vIG9uIHRvcCBvZiBldmVyeXRoaW5nLlxuICBjb25zdCB3b3Jrc3BhY2VFbGVtZW50ID0gYXRvbS52aWV3cy5nZXRWaWV3KChhdG9tLndvcmtzcGFjZTogT2JqZWN0KSk7XG4gIGNvbnN0IGhvc3RFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGhvc3RFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2RpYWdub3N0aWNzLWd1dHRlci1wb3B1cCcpO1xuICAvLyAkRmxvd0ZpeE1lIGNoZWNrIHBhcmVudE5vZGUgZm9yIG51bGxcbiAgd29ya3NwYWNlRWxlbWVudC5wYXJlbnROb2RlLmFwcGVuZENoaWxkKGhvc3RFbGVtZW50KTtcblxuICAvLyBNb3ZlIGl0IGRvd24gdmVydGljYWxseSBzbyBpdCBkb2VzIG5vdCBlbmQgdXAgdW5kZXIgdGhlIG1vdXNlIHBvaW50ZXIuXG4gIGNvbnN0IHt0b3AsIGxlZnR9ID0gaXRlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICBjb25zdCB0cmFja2VkRml4ZXIgPSAoLi4uYXJncykgPT4ge1xuICAgIGRpYWdub3N0aWNVcGRhdGVyLmFwcGx5Rml4KC4uLmFyZ3MpO1xuICAgIGFuYWx5dGljcy50cmFjaygnZGlhZ25vc3RpY3MtZ3V0dGVyLWF1dG9maXgnKTtcbiAgfTtcbiAgY29uc3QgdHJhY2tlZEdvVG9Mb2NhdGlvbiA9IChmaWxlUGF0aDogTnVjbGlkZVVyaSwgbGluZTogbnVtYmVyKSA9PiB7XG4gICAgZ29Ub0xvY2F0aW9uKGZpbGVQYXRoLCBsaW5lKTtcbiAgICBhbmFseXRpY3MudHJhY2soJ2RpYWdub3N0aWNzLWd1dHRlci1nb3RvLWxvY2F0aW9uJyk7XG4gIH07XG5cbiAgY29uc3QgZWRpdG9yID0gaXRlbVRvRWRpdG9yLmdldChpdGVtKTtcbiAgaW52YXJpYW50KGVkaXRvciAhPSBudWxsKTtcbiAgZGlhZ25vc3RpY1VwZGF0ZXIuZmV0Y2hDb2RlQWN0aW9ucyhlZGl0b3IsIG1lc3NhZ2VzKTtcblxuICBjb25zdCBCb3VuZFBvcHVwID0gYmluZE9ic2VydmFibGVBc1Byb3BzKFxuICAgIG9ic2VydmFibGVGcm9tU3Vic2NyaWJlRnVuY3Rpb24oY2IgPT5cbiAgICAgIGRpYWdub3N0aWNVcGRhdGVyLm9ic2VydmVDb2RlQWN0aW9uc0Zvck1lc3NhZ2UoY2IpLFxuICAgICkubWFwKGNvZGVBY3Rpb25zRm9yTWVzc2FnZSA9PiAoe1xuICAgICAgc3R5bGU6IHtsZWZ0LCB0b3AsIHBvc2l0aW9uOiAnYWJzb2x1dGUnfSxcbiAgICAgIG1lc3NhZ2VzLFxuICAgICAgZml4ZXI6IHRyYWNrZWRGaXhlcixcbiAgICAgIGdvVG9Mb2NhdGlvbjogdHJhY2tlZEdvVG9Mb2NhdGlvbixcbiAgICAgIGNvZGVBY3Rpb25zRm9yTWVzc2FnZSxcbiAgICB9KSksXG4gICAgRGlhZ25vc3RpY3NQb3B1cCxcbiAgKTtcbiAgUmVhY3RET00ucmVuZGVyKDxCb3VuZFBvcHVwIC8+LCBob3N0RWxlbWVudCk7XG5cbiAgLy8gQ2hlY2sgdG8gc2VlIHdoZXRoZXIgdGhlIHBvcHVwIGlzIHdpdGhpbiB0aGUgYm91bmRzIG9mIHRoZSBUZXh0RWRpdG9yLiBJZiBub3QsIGRpc3BsYXkgaXQgYWJvdmVcbiAgLy8gdGhlIGdseXBoIHJhdGhlciB0aGFuIGJlbG93IGl0LlxuICBjb25zdCBlZGl0b3JFbGVtZW50ID0gYXRvbS52aWV3cy5nZXRWaWV3KGVkaXRvcik7XG4gIGNvbnN0IHtcbiAgICB0b3A6IGVkaXRvclRvcCxcbiAgICBoZWlnaHQ6IGVkaXRvckhlaWdodCxcbiAgfSA9IGVkaXRvckVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIGNvbnN0IHt0b3A6IGl0ZW1Ub3AsIGhlaWdodDogaXRlbUhlaWdodH0gPSBpdGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICBjb25zdCBwb3B1cEVsZW1lbnQgPSBob3N0RWxlbWVudC5maXJzdEVsZW1lbnRDaGlsZDtcbiAgaW52YXJpYW50KHBvcHVwRWxlbWVudCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KTtcbiAgY29uc3QgcG9wdXBIZWlnaHQgPSBwb3B1cEVsZW1lbnQuY2xpZW50SGVpZ2h0O1xuICBpZiAoaXRlbVRvcCArIGl0ZW1IZWlnaHQgKyBwb3B1cEhlaWdodCA+IGVkaXRvclRvcCArIGVkaXRvckhlaWdodCkge1xuICAgIC8vIFNoaWZ0IHRoZSBwb3B1cCBiYWNrIGRvd24gYnkgR0xZUEhfSEVJR0hULCBzbyB0aGF0IHRoZSBib3R0b20gcGFkZGluZyBvdmVybGFwcyB3aXRoIHRoZVxuICAgIC8vIGdseXBoLiBBbiBhZGRpdGlvbmFsIDQgcHggaXMgbmVlZGVkIHRvIG1ha2UgaXQgbG9vayB0aGUgc2FtZSB3YXkgaXQgZG9lcyB3aGVuIGl0IHNob3dzIHVwXG4gICAgLy8gYmVsb3cuIEkgZG9uJ3Qga25vdyB3aHkuXG4gICAgcG9wdXBFbGVtZW50LnN0eWxlLnRvcCA9XG4gICAgICBTdHJpbmcoaXRlbVRvcCAtIHBvcHVwSGVpZ2h0ICsgR0xZUEhfSEVJR0hUICsgNCkgKyAncHgnO1xuICB9XG5cbiAgdHJ5IHtcbiAgICByZXR1cm4gaG9zdEVsZW1lbnQ7XG4gIH0gZmluYWxseSB7XG4gICAgbWVzc2FnZXMuZm9yRWFjaChtZXNzYWdlID0+IHtcbiAgICAgIGFuYWx5dGljcy50cmFjaygnZGlhZ25vc3RpY3MtZ3V0dGVyLXNob3ctcG9wdXAnLCB7XG4gICAgICAgICdkaWFnbm9zdGljcy1wcm92aWRlcic6IG1lc3NhZ2UucHJvdmlkZXJOYW1lLFxuICAgICAgICAvLyBmbG93bGludC1uZXh0LWxpbmUgc2tldGNoeS1udWxsLXN0cmluZzpvZmZcbiAgICAgICAgJ2RpYWdub3N0aWNzLW1lc3NhZ2UnOiBtZXNzYWdlLnRleHQgfHwgbWVzc2FnZS5odG1sIHx8ICcnLFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn1cbiJdfQ==