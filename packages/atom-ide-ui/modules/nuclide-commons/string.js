'use strict';

var cov_1lbd2d5ezl = function () {
  var path = '/Users/hansonw/atom-ide-ui/modules/nuclide-commons/string.js',
      hash = 'baa0bcf6a772bb781db4e9d2a35a08cb74d497a9',
      global = new Function('return this')(),
      gcv = '__coverage__',
      coverageData = {
    path: '/Users/hansonw/atom-ide-ui/modules/nuclide-commons/string.js',
    statementMap: {
      '0': {
        start: {
          line: 17,
          column: 2
        },
        end: {
          line: 17,
          column: 82
        }
      },
      '1': {
        start: {
          line: 26,
          column: 2
        },
        end: {
          line: 26,
          column: 21
        }
      },
      '2': {
        start: {
          line: 33,
          column: 15
        },
        end: {
          line: 33,
          column: 19
        }
      },
      '3': {
        start: {
          line: 34,
          column: 15
        },
        end: {
          line: 34,
          column: 26
        }
      },
      '4': {
        start: {
          line: 35,
          column: 13
        },
        end: {
          line: 35,
          column: 24
        }
      },
      '5': {
        start: {
          line: 36,
          column: 12
        },
        end: {
          line: 36,
          column: 21
        }
      },
      '6': {
        start: {
          line: 37,
          column: 13
        },
        end: {
          line: 37,
          column: 20
        }
      },
      '7': {
        start: {
          line: 38,
          column: 13
        },
        end: {
          line: 38,
          column: 22
        }
      },
      '8': {
        start: {
          line: 39,
          column: 14
        },
        end: {
          line: 39,
          column: 23
        }
      },
      '9': {
        start: {
          line: 41,
          column: 21
        },
        end: {
          line: 55,
          column: 1
        }
      },
      '10': {
        start: {
          line: 57,
          column: 20
        },
        end: {
          line: 71,
          column: 1
        }
      },
      '11': {
        start: {
          line: 78,
          column: 14
        },
        end: {
          line: 78,
          column: 20
        }
      },
      '12': {
        start: {
          line: 79,
          column: 18
        },
        end: {
          line: 79,
          column: 28
        }
      },
      '13': {
        start: {
          line: 80,
          column: 2
        },
        end: {
          line: 82,
          column: 3
        }
      },
      '14': {
        start: {
          line: 81,
          column: 4
        },
        end: {
          line: 81,
          column: 28
        }
      },
      '15': {
        start: {
          line: 84,
          column: 2
        },
        end: {
          line: 86,
          column: 3
        }
      },
      '16': {
        start: {
          line: 85,
          column: 4
        },
        end: {
          line: 85,
          column: 37
        }
      },
      '17': {
        start: {
          line: 87,
          column: 2
        },
        end: {
          line: 89,
          column: 3
        }
      },
      '18': {
        start: {
          line: 88,
          column: 4
        },
        end: {
          line: 88,
          column: 36
        }
      },
      '19': {
        start: {
          line: 91,
          column: 16
        },
        end: {
          line: 91,
          column: 33
        }
      },
      '20': {
        start: {
          line: 92,
          column: 18
        },
        end: {
          line: 92,
          column: 62
        }
      },
      '21': {
        start: {
          line: 93,
          column: 2
        },
        end: {
          line: 105,
          column: 3
        }
      },
      '22': {
        start: {
          line: 94,
          column: 4
        },
        end: {
          line: 104,
          column: 5
        }
      },
      '23': {
        start: {
          line: 95,
          column: 6
        },
        end: {
          line: 103,
          column: 7
        }
      },
      '24': {
        start: {
          line: 96,
          column: 8
        },
        end: {
          line: 100,
          column: 10
        }
      },
      '25': {
        start: {
          line: 102,
          column: 8
        },
        end: {
          line: 102,
          column: 30
        }
      },
      '26': {
        start: {
          line: 107,
          column: 2
        },
        end: {
          line: 107,
          column: 51
        }
      },
      '27': {
        start: {
          line: 115,
          column: 2
        },
        end: {
          line: 115,
          column: 68
        }
      },
      '28': {
        start: {
          line: 117,
          column: 14
        },
        end: {
          line: 117,
          column: 15
        }
      },
      '29': {
        start: {
          line: 118,
          column: 15
        },
        end: {
          line: 118,
          column: 33
        }
      },
      '30': {
        start: {
          line: 119,
          column: 2
        },
        end: {
          line: 123,
          column: 3
        }
      },
      '31': {
        start: {
          line: 120,
          column: 4
        },
        end: {
          line: 122,
          column: 5
        }
      },
      '32': {
        start: {
          line: 121,
          column: 6
        },
        end: {
          line: 121,
          column: 14
        }
      },
      '33': {
        start: {
          line: 124,
          column: 2
        },
        end: {
          line: 124,
          column: 15
        }
      },
      '34': {
        start: {
          line: 132,
          column: 17
        },
        end: {
          line: 132,
          column: 32
        }
      },
      '35': {
        start: {
          line: 133,
          column: 2
        },
        end: {
          line: 145,
          column: 3
        }
      },
      '36': {
        start: {
          line: 134,
          column: 4
        },
        end: {
          line: 144,
          column: 5
        }
      },
      '37': {
        start: {
          line: 135,
          column: 6
        },
        end: {
          line: 143,
          column: 7
        }
      },
      '38': {
        start: {
          line: 136,
          column: 8
        },
        end: {
          line: 138,
          column: 10
        }
      },
      '39': {
        start: {
          line: 140,
          column: 8
        },
        end: {
          line: 142,
          column: 10
        }
      },
      '40': {
        start: {
          line: 146,
          column: 2
        },
        end: {
          line: 146,
          column: 16
        }
      },
      '41': {
        start: {
          line: 154,
          column: 2
        },
        end: {
          line: 154,
          column: 21
        }
      },
      '42': {
        start: {
          line: 158,
          column: 10
        },
        end: {
          line: 158,
          column: 11
        }
      },
      '43': {
        start: {
          line: 159,
          column: 2
        },
        end: {
          line: 161,
          column: 3
        }
      },
      '44': {
        start: {
          line: 160,
          column: 4
        },
        end: {
          line: 160,
          column: 8
        }
      },
      '45': {
        start: {
          line: 162,
          column: 2
        },
        end: {
          line: 162,
          column: 42
        }
      },
      '46': {
        start: {
          line: 166,
          column: 10
        },
        end: {
          line: 166,
          column: 11
        }
      },
      '47': {
        start: {
          line: 167,
          column: 2
        },
        end: {
          line: 173,
          column: 3
        }
      },
      '48': {
        start: {
          line: 172,
          column: 4
        },
        end: {
          line: 172,
          column: 8
        }
      },
      '49': {
        start: {
          line: 174,
          column: 2
        },
        end: {
          line: 174,
          column: 70
        }
      },
      '50': {
        start: {
          line: 182,
          column: 2
        },
        end: {
          line: 184,
          column: 47
        }
      },
      '51': {
        start: {
          line: 191,
          column: 16
        },
        end: {
          line: 191,
          column: 38
        }
      },
      '52': {
        start: {
          line: 192,
          column: 2
        },
        end: {
          line: 194,
          column: 65
        }
      },
      '53': {
        start: {
          line: 205,
          column: 2
        },
        end: {
          line: 205,
          column: 62
        }
      },
      '54': {
        start: {
          line: 209,
          column: 2
        },
        end: {
          line: 209,
          column: 41
        }
      },
      '55': {
        start: {
          line: 213,
          column: 2
        },
        end: {
          line: 218,
          column: 30
        }
      },
      '56': {
        start: {
          line: 228,
          column: 25
        },
        end: {
          line: 228,
          column: 160
        }
      }
    },
    fnMap: {
      '0': {
        name: 'stringifyError',
        decl: {
          start: {
            line: 16,
            column: 16
          },
          end: {
            line: 16,
            column: 30
          }
        },
        loc: {
          start: {
            line: 16,
            column: 53
          },
          end: {
            line: 18,
            column: 1
          }
        },
        line: 16
      },
      '1': {
        name: 'maybeToString',
        decl: {
          start: {
            line: 22,
            column: 16
          },
          end: {
            line: 22,
            column: 29
          }
        },
        loc: {
          start: {
            line: 22,
            column: 52
          },
          end: {
            line: 27,
            column: 1
          }
        },
        line: 22
      },
      '2': {
        name: 'relativeDate',
        decl: {
          start: {
            line: 73,
            column: 16
          },
          end: {
            line: 73,
            column: 28
          }
        },
        loc: {
          start: {
            line: 77,
            column: 10
          },
          end: {
            line: 108,
            column: 1
          }
        },
        line: 77
      },
      '3': {
        name: 'countOccurrences',
        decl: {
          start: {
            line: 114,
            column: 16
          },
          end: {
            line: 114,
            column: 32
          }
        },
        loc: {
          start: {
            line: 114,
            column: 65
          },
          end: {
            line: 125,
            column: 1
          }
        },
        line: 114
      },
      '4': {
        name: 'shellParse',
        decl: {
          start: {
            line: 131,
            column: 16
          },
          end: {
            line: 131,
            column: 26
          }
        },
        loc: {
          start: {
            line: 131,
            column: 69
          },
          end: {
            line: 147,
            column: 1
          }
        },
        line: 131
      },
      '5': {
        name: 'shellQuote',
        decl: {
          start: {
            line: 153,
            column: 16
          },
          end: {
            line: 153,
            column: 26
          }
        },
        loc: {
          start: {
            line: 153,
            column: 56
          },
          end: {
            line: 155,
            column: 1
          }
        },
        line: 153
      },
      '6': {
        name: 'removeCommonPrefix',
        decl: {
          start: {
            line: 157,
            column: 16
          },
          end: {
            line: 157,
            column: 34
          }
        },
        loc: {
          start: {
            line: 157,
            column: 75
          },
          end: {
            line: 163,
            column: 1
          }
        },
        line: 157
      },
      '7': {
        name: 'removeCommonSuffix',
        decl: {
          start: {
            line: 165,
            column: 16
          },
          end: {
            line: 165,
            column: 34
          }
        },
        loc: {
          start: {
            line: 165,
            column: 75
          },
          end: {
            line: 175,
            column: 1
          }
        },
        line: 165
      },
      '8': {
        name: 'shorten',
        decl: {
          start: {
            line: 177,
            column: 16
          },
          end: {
            line: 177,
            column: 23
          }
        },
        loc: {
          start: {
            line: 181,
            column: 10
          },
          end: {
            line: 185,
            column: 1
          }
        },
        line: 181
      },
      '9': {
        name: 'splitOnce',
        decl: {
          start: {
            line: 190,
            column: 16
          },
          end: {
            line: 190,
            column: 25
          }
        },
        loc: {
          start: {
            line: 190,
            column: 77
          },
          end: {
            line: 195,
            column: 1
          }
        },
        line: 190
      },
      '10': {
        name: 'indent',
        decl: {
          start: {
            line: 200,
            column: 16
          },
          end: {
            line: 200,
            column: 22
          }
        },
        loc: {
          start: {
            line: 204,
            column: 10
          },
          end: {
            line: 206,
            column: 1
          }
        },
        line: 204
      },
      '11': {
        name: 'pluralize',
        decl: {
          start: {
            line: 208,
            column: 16
          },
          end: {
            line: 208,
            column: 25
          }
        },
        loc: {
          start: {
            line: 208,
            column: 55
          },
          end: {
            line: 210,
            column: 1
          }
        },
        line: 208
      },
      '12': {
        name: 'capitalize',
        decl: {
          start: {
            line: 212,
            column: 16
          },
          end: {
            line: 212,
            column: 26
          }
        },
        loc: {
          start: {
            line: 212,
            column: 48
          },
          end: {
            line: 219,
            column: 1
          }
        },
        line: 212
      }
    },
    branchMap: {
      '0': {
        loc: {
          start: {
            line: 76,
            column: 2
          },
          end: {
            line: 76,
            column: 35
          }
        },
        type: 'default-arg',
        locations: [{
          start: {
            line: 76,
            column: 30
          },
          end: {
            line: 76,
            column: 35
          }
        }],
        line: 76
      },
      '1': {
        loc: {
          start: {
            line: 80,
            column: 2
          },
          end: {
            line: 82,
            column: 3
          }
        },
        type: 'if',
        locations: [{
          start: {
            line: 80,
            column: 2
          },
          end: {
            line: 82,
            column: 3
          }
        }, {
          start: {
            line: 80,
            column: 2
          },
          end: {
            line: 82,
            column: 3
          }
        }],
        line: 80
      },
      '2': {
        loc: {
          start: {
            line: 84,
            column: 2
          },
          end: {
            line: 86,
            column: 3
          }
        },
        type: 'if',
        locations: [{
          start: {
            line: 84,
            column: 2
          },
          end: {
            line: 86,
            column: 3
          }
        }, {
          start: {
            line: 84,
            column: 2
          },
          end: {
            line: 86,
            column: 3
          }
        }],
        line: 84
      },
      '3': {
        loc: {
          start: {
            line: 87,
            column: 2
          },
          end: {
            line: 89,
            column: 3
          }
        },
        type: 'if',
        locations: [{
          start: {
            line: 87,
            column: 2
          },
          end: {
            line: 89,
            column: 3
          }
        }, {
          start: {
            line: 87,
            column: 2
          },
          end: {
            line: 89,
            column: 3
          }
        }],
        line: 87
      },
      '4': {
        loc: {
          start: {
            line: 92,
            column: 18
          },
          end: {
            line: 92,
            column: 62
          }
        },
        type: 'cond-expr',
        locations: [{
          start: {
            line: 92,
            column: 36
          },
          end: {
            line: 92,
            column: 48
          }
        }, {
          start: {
            line: 92,
            column: 51
          },
          end: {
            line: 92,
            column: 62
          }
        }],
        line: 92
      },
      '5': {
        loc: {
          start: {
            line: 94,
            column: 4
          },
          end: {
            line: 104,
            column: 5
          }
        },
        type: 'if',
        locations: [{
          start: {
            line: 94,
            column: 4
          },
          end: {
            line: 104,
            column: 5
          }
        }, {
          start: {
            line: 94,
            column: 4
          },
          end: {
            line: 104,
            column: 5
          }
        }],
        line: 94
      },
      '6': {
        loc: {
          start: {
            line: 95,
            column: 6
          },
          end: {
            line: 103,
            column: 7
          }
        },
        type: 'if',
        locations: [{
          start: {
            line: 95,
            column: 6
          },
          end: {
            line: 103,
            column: 7
          }
        }, {
          start: {
            line: 95,
            column: 6
          },
          end: {
            line: 103,
            column: 7
          }
        }],
        line: 95
      },
      '7': {
        loc: {
          start: {
            line: 98,
            column: 11
          },
          end: {
            line: 98,
            column: 37
          }
        },
        type: 'cond-expr',
        locations: [{
          start: {
            line: 98,
            column: 29
          },
          end: {
            line: 98,
            column: 31
          }
        }, {
          start: {
            line: 98,
            column: 34
          },
          end: {
            line: 98,
            column: 37
          }
        }],
        line: 98
      },
      '8': {
        loc: {
          start: {
            line: 120,
            column: 4
          },
          end: {
            line: 122,
            column: 5
          }
        },
        type: 'if',
        locations: [{
          start: {
            line: 120,
            column: 4
          },
          end: {
            line: 122,
            column: 5
          }
        }, {
          start: {
            line: 120,
            column: 4
          },
          end: {
            line: 122,
            column: 5
          }
        }],
        line: 120
      },
      '9': {
        loc: {
          start: {
            line: 134,
            column: 4
          },
          end: {
            line: 144,
            column: 5
          }
        },
        type: 'if',
        locations: [{
          start: {
            line: 134,
            column: 4
          },
          end: {
            line: 144,
            column: 5
          }
        }, {
          start: {
            line: 134,
            column: 4
          },
          end: {
            line: 144,
            column: 5
          }
        }],
        line: 134
      },
      '10': {
        loc: {
          start: {
            line: 135,
            column: 6
          },
          end: {
            line: 143,
            column: 7
          }
        },
        type: 'if',
        locations: [{
          start: {
            line: 135,
            column: 6
          },
          end: {
            line: 143,
            column: 7
          }
        }, {
          start: {
            line: 135,
            column: 6
          },
          end: {
            line: 143,
            column: 7
          }
        }],
        line: 135
      },
      '11': {
        loc: {
          start: {
            line: 159,
            column: 9
          },
          end: {
            line: 159,
            column: 54
          }
        },
        type: 'binary-expr',
        locations: [{
          start: {
            line: 159,
            column: 9
          },
          end: {
            line: 159,
            column: 22
          }
        }, {
          start: {
            line: 159,
            column: 26
          },
          end: {
            line: 159,
            column: 38
          }
        }, {
          start: {
            line: 159,
            column: 42
          },
          end: {
            line: 159,
            column: 54
          }
        }],
        line: 159
      },
      '12': {
        loc: {
          start: {
            line: 168,
            column: 4
          },
          end: {
            line: 170,
            column: 16
          }
        },
        type: 'binary-expr',
        locations: [{
          start: {
            line: 168,
            column: 4
          },
          end: {
            line: 168,
            column: 47
          }
        }, {
          start: {
            line: 169,
            column: 4
          },
          end: {
            line: 169,
            column: 16
          }
        }, {
          start: {
            line: 170,
            column: 4
          },
          end: {
            line: 170,
            column: 16
          }
        }],
        line: 168
      },
      '13': {
        loc: {
          start: {
            line: 182,
            column: 9
          },
          end: {
            line: 184,
            column: 46
          }
        },
        type: 'cond-expr',
        locations: [{
          start: {
            line: 183,
            column: 6
          },
          end: {
            line: 183,
            column: 9
          }
        }, {
          start: {
            line: 184,
            column: 6
          },
          end: {
            line: 184,
            column: 46
          }
        }],
        line: 182
      },
      '14': {
        loc: {
          start: {
            line: 184,
            column: 33
          },
          end: {
            line: 184,
            column: 45
          }
        },
        type: 'binary-expr',
        locations: [{
          start: {
            line: 184,
            column: 33
          },
          end: {
            line: 184,
            column: 39
          }
        }, {
          start: {
            line: 184,
            column: 43
          },
          end: {
            line: 184,
            column: 45
          }
        }],
        line: 184
      },
      '15': {
        loc: {
          start: {
            line: 192,
            column: 9
          },
          end: {
            line: 194,
            column: 64
          }
        },
        type: 'cond-expr',
        locations: [{
          start: {
            line: 193,
            column: 6
          },
          end: {
            line: 193,
            column: 17
          }
        }, {
          start: {
            line: 194,
            column: 6
          },
          end: {
            line: 194,
            column: 64
          }
        }],
        line: 192
      },
      '16': {
        loc: {
          start: {
            line: 202,
            column: 2
          },
          end: {
            line: 202,
            column: 19
          }
        },
        type: 'default-arg',
        locations: [{
          start: {
            line: 202,
            column: 18
          },
          end: {
            line: 202,
            column: 19
          }
        }],
        line: 202
      },
      '17': {
        loc: {
          start: {
            line: 203,
            column: 2
          },
          end: {
            line: 203,
            column: 20
          }
        },
        type: 'default-arg',
        locations: [{
          start: {
            line: 203,
            column: 17
          },
          end: {
            line: 203,
            column: 20
          }
        }],
        line: 203
      },
      '18': {
        loc: {
          start: {
            line: 209,
            column: 9
          },
          end: {
            line: 209,
            column: 40
          }
        },
        type: 'cond-expr',
        locations: [{
          start: {
            line: 209,
            column: 23
          },
          end: {
            line: 209,
            column: 27
          }
        }, {
          start: {
            line: 209,
            column: 30
          },
          end: {
            line: 209,
            column: 40
          }
        }],
        line: 209
      },
      '19': {
        loc: {
          start: {
            line: 213,
            column: 9
          },
          end: {
            line: 218,
            column: 29
          }
        },
        type: 'cond-expr',
        locations: [{
          start: {
            line: 214,
            column: 6
          },
          end: {
            line: 214,
            column: 9
          }
        }, {
          start: {
            line: 215,
            column: 6
          },
          end: {
            line: 218,
            column: 29
          }
        }],
        line: 213
      }
    },
    s: {
      '0': 0,
      '1': 0,
      '2': 0,
      '3': 0,
      '4': 0,
      '5': 0,
      '6': 0,
      '7': 0,
      '8': 0,
      '9': 0,
      '10': 0,
      '11': 0,
      '12': 0,
      '13': 0,
      '14': 0,
      '15': 0,
      '16': 0,
      '17': 0,
      '18': 0,
      '19': 0,
      '20': 0,
      '21': 0,
      '22': 0,
      '23': 0,
      '24': 0,
      '25': 0,
      '26': 0,
      '27': 0,
      '28': 0,
      '29': 0,
      '30': 0,
      '31': 0,
      '32': 0,
      '33': 0,
      '34': 0,
      '35': 0,
      '36': 0,
      '37': 0,
      '38': 0,
      '39': 0,
      '40': 0,
      '41': 0,
      '42': 0,
      '43': 0,
      '44': 0,
      '45': 0,
      '46': 0,
      '47': 0,
      '48': 0,
      '49': 0,
      '50': 0,
      '51': 0,
      '52': 0,
      '53': 0,
      '54': 0,
      '55': 0,
      '56': 0
    },
    f: {
      '0': 0,
      '1': 0,
      '2': 0,
      '3': 0,
      '4': 0,
      '5': 0,
      '6': 0,
      '7': 0,
      '8': 0,
      '9': 0,
      '10': 0,
      '11': 0,
      '12': 0
    },
    b: {
      '0': [0],
      '1': [0, 0],
      '2': [0, 0],
      '3': [0, 0],
      '4': [0, 0],
      '5': [0, 0],
      '6': [0, 0],
      '7': [0, 0],
      '8': [0, 0],
      '9': [0, 0],
      '10': [0, 0],
      '11': [0, 0, 0],
      '12': [0, 0, 0],
      '13': [0, 0],
      '14': [0, 0],
      '15': [0, 0],
      '16': [0],
      '17': [0],
      '18': [0, 0],
      '19': [0, 0]
    },
    _coverageSchema: '332fd63041d2c1bcb487cc26dd0d5f7d97098a6c'
  },
      coverage = global[gcv] || (global[gcv] = {});

  if (coverage[path] && coverage[path].hash === hash) {
    return coverage[path];
  }

  coverageData.hash = hash;
  return coverage[path] = coverageData;
}();

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.URL_REGEX = undefined;
exports.stringifyError = stringifyError;
exports.maybeToString = maybeToString;
exports.relativeDate = relativeDate;
exports.countOccurrences = countOccurrences;
exports.shellParse = shellParse;
exports.shellQuote = shellQuote;
exports.removeCommonPrefix = removeCommonPrefix;
exports.removeCommonSuffix = removeCommonSuffix;
exports.shorten = shorten;
exports.splitOnce = splitOnce;
exports.indent = indent;
exports.pluralize = pluralize;
exports.capitalize = capitalize;

var _shellQuote;

function _load_shellQuote() {
  return _shellQuote = require('./_shell-quote');
}

/**
 * Copyright (c) 2017-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * 
 * @format
 */

function stringifyError(error) {
  cov_1lbd2d5ezl.f[0]++;
  cov_1lbd2d5ezl.s[0]++;

  return `name: ${error.name}, message: ${error.message}, stack: ${error.stack}.`;
}

// As of Flow v0.28, Flow does not alllow implicit string coercion of null or undefined. Use this to
// make it explicit.
function maybeToString(str) {
  cov_1lbd2d5ezl.f[1]++;
  cov_1lbd2d5ezl.s[1]++;

  // We don't want to encourage the use of this function directly because it coerces anything to a
  // string. We get stricter typechecking by using maybeToString, so it should generally be
  // preferred.
  return String(str);
}

/**
 * Originally adapted from https://github.com/azer/relative-date.
 * We're including it because of https://github.com/npm/npm/issues/12012
 */
const SECOND = (cov_1lbd2d5ezl.s[2]++, 1000);
const MINUTE = (cov_1lbd2d5ezl.s[3]++, 60 * SECOND);
const HOUR = (cov_1lbd2d5ezl.s[4]++, 60 * MINUTE);
const DAY = (cov_1lbd2d5ezl.s[5]++, 24 * HOUR);
const WEEK = (cov_1lbd2d5ezl.s[6]++, 7 * DAY);
const YEAR = (cov_1lbd2d5ezl.s[7]++, DAY * 365);
const MONTH = (cov_1lbd2d5ezl.s[8]++, YEAR / 12);

const shortFormats = (cov_1lbd2d5ezl.s[9]++, [[0.7 * MINUTE, 'now'], [1.5 * MINUTE, '1m'], [60 * MINUTE, 'm', MINUTE], [1.5 * HOUR, '1h'], [DAY, 'h', HOUR], [2 * DAY, '1d'], [7 * DAY, 'd', DAY], [1.5 * WEEK, '1w'], [MONTH, 'w', WEEK], [1.5 * MONTH, '1mo'], [YEAR, 'mo', MONTH], [1.5 * YEAR, '1y'], [Number.MAX_VALUE, 'y', YEAR]]);

const longFormats = (cov_1lbd2d5ezl.s[10]++, [[0.7 * MINUTE, 'just now'], [1.5 * MINUTE, 'a minute ago'], [60 * MINUTE, 'minutes ago', MINUTE], [1.5 * HOUR, 'an hour ago'], [DAY, 'hours ago', HOUR], [2 * DAY, 'yesterday'], [7 * DAY, 'days ago', DAY], [1.5 * WEEK, 'a week ago'], [MONTH, 'weeks ago', WEEK], [1.5 * MONTH, 'a month ago'], [YEAR, 'months ago', MONTH], [1.5 * YEAR, 'a year ago'], [Number.MAX_VALUE, 'years ago', YEAR]]);

function relativeDate(input_, reference_, useShortVariant = (cov_1lbd2d5ezl.b[0][0]++, false)) {
  cov_1lbd2d5ezl.f[2]++;

  let input = (cov_1lbd2d5ezl.s[11]++, input_);
  let reference = (cov_1lbd2d5ezl.s[12]++, reference_);
  cov_1lbd2d5ezl.s[13]++;
  if (input instanceof Date) {
    cov_1lbd2d5ezl.b[1][0]++;
    cov_1lbd2d5ezl.s[14]++;

    input = input.getTime();
  } else {
    cov_1lbd2d5ezl.b[1][1]++;
  }
  // flowlint-next-line sketchy-null-number:off
  cov_1lbd2d5ezl.s[15]++;
  if (!reference) {
    cov_1lbd2d5ezl.b[2][0]++;
    cov_1lbd2d5ezl.s[16]++;

    reference = new Date().getTime();
  } else {
    cov_1lbd2d5ezl.b[2][1]++;
  }
  cov_1lbd2d5ezl.s[17]++;
  if (reference instanceof Date) {
    cov_1lbd2d5ezl.b[3][0]++;
    cov_1lbd2d5ezl.s[18]++;

    reference = reference.getTime();
  } else {
    cov_1lbd2d5ezl.b[3][1]++;
  }

  const delta = (cov_1lbd2d5ezl.s[19]++, reference - input);
  const formats = (cov_1lbd2d5ezl.s[20]++, useShortVariant ? (cov_1lbd2d5ezl.b[4][0]++, shortFormats) : (cov_1lbd2d5ezl.b[4][1]++, longFormats));
  cov_1lbd2d5ezl.s[21]++;
  for (const [limit, relativeFormat, remainder] of formats) {
    cov_1lbd2d5ezl.s[22]++;

    if (delta < limit) {
      cov_1lbd2d5ezl.b[5][0]++;
      cov_1lbd2d5ezl.s[23]++;

      if (typeof remainder === 'number') {
        cov_1lbd2d5ezl.b[6][0]++;
        cov_1lbd2d5ezl.s[24]++;

        return Math.round(delta / remainder) + (useShortVariant ? (cov_1lbd2d5ezl.b[7][0]++, '') : (cov_1lbd2d5ezl.b[7][1]++, ' ')) + relativeFormat;
      } else {
        cov_1lbd2d5ezl.b[6][1]++;
        cov_1lbd2d5ezl.s[25]++;

        return relativeFormat;
      }
    } else {
      cov_1lbd2d5ezl.b[5][1]++;
    }
  }

  cov_1lbd2d5ezl.s[26]++;
  throw new Error('This should never be reached.');
}

/**
 * Count the number of occurrences of `char` in `str`.
 * `char` must be a string of length 1.
 */
function countOccurrences(haystack, char) {
  cov_1lbd2d5ezl.f[3]++;
  cov_1lbd2d5ezl.s[27]++;

  if (!(char.length === 1)) {
    throw new Error('char must be a string of length 1');
  }

  let count = (cov_1lbd2d5ezl.s[28]++, 0);
  const code = (cov_1lbd2d5ezl.s[29]++, char.charCodeAt(0));
  cov_1lbd2d5ezl.s[30]++;
  for (let i = 0; i < haystack.length; i++) {
    cov_1lbd2d5ezl.s[31]++;

    if (haystack.charCodeAt(i) === code) {
      cov_1lbd2d5ezl.b[8][0]++;
      cov_1lbd2d5ezl.s[32]++;

      count++;
    } else {
      cov_1lbd2d5ezl.b[8][1]++;
    }
  }
  cov_1lbd2d5ezl.s[33]++;
  return count;
}

/**
 * shell-quote's parse allows pipe operators and comments.
 * Generally users don't care about this, so throw if we encounter any operators.
 */
function shellParse(str, env) {
  cov_1lbd2d5ezl.f[4]++;

  const result = (cov_1lbd2d5ezl.s[34]++, (0, (_shellQuote || _load_shellQuote()).parse)(str, env));
  cov_1lbd2d5ezl.s[35]++;
  for (let i = 0; i < result.length; i++) {
    cov_1lbd2d5ezl.s[36]++;

    if (typeof result[i] !== 'string') {
      cov_1lbd2d5ezl.b[9][0]++;
      cov_1lbd2d5ezl.s[37]++;

      if (result[i].op != null) {
        cov_1lbd2d5ezl.b[10][0]++;
        cov_1lbd2d5ezl.s[38]++;

        throw new Error(`Unexpected operator "${result[i].op}" provided to shellParse`);
      } else {
        cov_1lbd2d5ezl.b[10][1]++;
        cov_1lbd2d5ezl.s[39]++;

        throw new Error(`Unexpected comment "${result[i].comment}" provided to shellParse`);
      }
    } else {
      cov_1lbd2d5ezl.b[9][1]++;
    }
  }
  cov_1lbd2d5ezl.s[40]++;
  return result;
}

/**
 * Technically you can pass in { operator: string } here,
 * but we don't use that in most APIs.
 */
function shellQuote(args) {
  cov_1lbd2d5ezl.f[5]++;
  cov_1lbd2d5ezl.s[41]++;

  return (0, (_shellQuote || _load_shellQuote()).quote)(args);
}

function removeCommonPrefix(a, b) {
  cov_1lbd2d5ezl.f[6]++;

  let i = (cov_1lbd2d5ezl.s[42]++, 0);
  cov_1lbd2d5ezl.s[43]++;
  while ((cov_1lbd2d5ezl.b[11][0]++, a[i] === b[i]) && (cov_1lbd2d5ezl.b[11][1]++, i < a.length) && (cov_1lbd2d5ezl.b[11][2]++, i < b.length)) {
    cov_1lbd2d5ezl.s[44]++;

    i++;
  }
  cov_1lbd2d5ezl.s[45]++;
  return [a.substring(i), b.substring(i)];
}

function removeCommonSuffix(a, b) {
  cov_1lbd2d5ezl.f[7]++;

  let i = (cov_1lbd2d5ezl.s[46]++, 0);
  cov_1lbd2d5ezl.s[47]++;
  while ((cov_1lbd2d5ezl.b[12][0]++, a[a.length - 1 - i] === b[b.length - 1 - i]) && (cov_1lbd2d5ezl.b[12][1]++, i < a.length) && (cov_1lbd2d5ezl.b[12][2]++, i < b.length)) {
    cov_1lbd2d5ezl.s[48]++;

    i++;
  }
  cov_1lbd2d5ezl.s[49]++;
  return [a.substring(0, a.length - i), b.substring(0, b.length - i)];
}

function shorten(str, maxLength, suffix) {
  cov_1lbd2d5ezl.f[8]++;
  cov_1lbd2d5ezl.s[50]++;

  return str.length < maxLength ? (cov_1lbd2d5ezl.b[13][0]++, str) : (cov_1lbd2d5ezl.b[13][1]++, str.slice(0, maxLength) + ((cov_1lbd2d5ezl.b[14][0]++, suffix) || (cov_1lbd2d5ezl.b[14][1]++, '')));
}

/**
 * Like String.split, but only splits once.
 */
function splitOnce(str, separator) {
  cov_1lbd2d5ezl.f[9]++;

  const index = (cov_1lbd2d5ezl.s[51]++, str.indexOf(separator));
  cov_1lbd2d5ezl.s[52]++;
  return index === -1 ? (cov_1lbd2d5ezl.b[15][0]++, [str, null]) : (cov_1lbd2d5ezl.b[15][1]++, [str.slice(0, index), str.slice(index + separator.length)]);
}

/**
 * Indents each line by the specified number of characters.
 */
function indent(str, level = (cov_1lbd2d5ezl.b[16][0]++, 2), char = (cov_1lbd2d5ezl.b[17][0]++, ' ')) {
  cov_1lbd2d5ezl.f[10]++;
  cov_1lbd2d5ezl.s[53]++;

  return str.replace(/^([^\n])/gm, char.repeat(level) + '$1');
}

function pluralize(noun, count) {
  cov_1lbd2d5ezl.f[11]++;
  cov_1lbd2d5ezl.s[54]++;

  return count === 1 ? (cov_1lbd2d5ezl.b[18][0]++, noun) : (cov_1lbd2d5ezl.b[18][1]++, noun + 's');
}

function capitalize(str) {
  cov_1lbd2d5ezl.f[12]++;
  cov_1lbd2d5ezl.s[55]++;

  return str.length === 0 ? (cov_1lbd2d5ezl.b[19][0]++, str) : (cov_1lbd2d5ezl.b[19][1]++, str.charAt(0).toUpperCase().concat(str.slice(1)));
}

// Originally copied from:
// http://stackoverflow.com/questions/3809401/what-is-a-good-regular-expression-to-match-a-url
// But adopted to match `www.` urls as well as `https?` urls
// and `!` as acceptable url piece.
// Then optimized with https://www.npmjs.com/package/regexp-tree.
// Added a single matching group for use with String.split.
// eslint-disable-next-line max-len
const URL_REGEX = exports.URL_REGEX = (cov_1lbd2d5ezl.s[56]++, /(https?:\/\/(?:www\.)?[-\w@:%.+~#=]{2,256}\.[a-z]{2,6}\b[-\w@:%+.~#?&/=!]*|www\.[-\w@:%.+~#=]{2,256}\.[a-z]{2,6}\b[-\w@:%+.~#?&/=!]*)/);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInN0cmluZy5qcyJdLCJuYW1lcyI6WyJzdHJpbmdpZnlFcnJvciIsIm1heWJlVG9TdHJpbmciLCJyZWxhdGl2ZURhdGUiLCJjb3VudE9jY3VycmVuY2VzIiwic2hlbGxQYXJzZSIsInNoZWxsUXVvdGUiLCJyZW1vdmVDb21tb25QcmVmaXgiLCJyZW1vdmVDb21tb25TdWZmaXgiLCJzaG9ydGVuIiwic3BsaXRPbmNlIiwiaW5kZW50IiwicGx1cmFsaXplIiwiY2FwaXRhbGl6ZSIsImVycm9yIiwibmFtZSIsIm1lc3NhZ2UiLCJzdGFjayIsInN0ciIsIlN0cmluZyIsIlNFQ09ORCIsIk1JTlVURSIsIkhPVVIiLCJEQVkiLCJXRUVLIiwiWUVBUiIsIk1PTlRIIiwic2hvcnRGb3JtYXRzIiwiTnVtYmVyIiwiTUFYX1ZBTFVFIiwibG9uZ0Zvcm1hdHMiLCJpbnB1dF8iLCJyZWZlcmVuY2VfIiwidXNlU2hvcnRWYXJpYW50IiwiaW5wdXQiLCJyZWZlcmVuY2UiLCJEYXRlIiwiZ2V0VGltZSIsImRlbHRhIiwiZm9ybWF0cyIsImxpbWl0IiwicmVsYXRpdmVGb3JtYXQiLCJyZW1haW5kZXIiLCJNYXRoIiwicm91bmQiLCJFcnJvciIsImhheXN0YWNrIiwiY2hhciIsImxlbmd0aCIsImNvdW50IiwiY29kZSIsImNoYXJDb2RlQXQiLCJpIiwiZW52IiwicmVzdWx0Iiwib3AiLCJjb21tZW50IiwiYXJncyIsImEiLCJiIiwic3Vic3RyaW5nIiwibWF4TGVuZ3RoIiwic3VmZml4Iiwic2xpY2UiLCJzZXBhcmF0b3IiLCJpbmRleCIsImluZGV4T2YiLCJsZXZlbCIsInJlcGxhY2UiLCJyZXBlYXQiLCJub3VuIiwiY2hhckF0IiwidG9VcHBlckNhc2UiLCJjb25jYXQiLCJVUkxfUkVHRVgiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7UUFlZ0JBLGMsR0FBQUEsYztRQU1BQyxhLEdBQUFBLGE7UUFtREFDLFksR0FBQUEsWTtRQXlDQUMsZ0IsR0FBQUEsZ0I7UUFpQkFDLFUsR0FBQUEsVTtRQXNCQUMsVSxHQUFBQSxVO1FBSUFDLGtCLEdBQUFBLGtCO1FBUUFDLGtCLEdBQUFBLGtCO1FBWUFDLE8sR0FBQUEsTztRQWFBQyxTLEdBQUFBLFM7UUFVQUMsTSxHQUFBQSxNO1FBUUFDLFMsR0FBQUEsUztRQUlBQyxVLEdBQUFBLFU7Ozs7QUF0TWhCO0FB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QUFNVyx5REFBWSx1SUFBWixDQUFOIiwiZmlsZSI6InN0cmluZy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDE3LXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAZmxvd1xuICogQGZvcm1hdFxuICovXG5cbmltcG9ydCBpbnZhcmlhbnQgZnJvbSAnYXNzZXJ0JztcbmltcG9ydCB7cGFyc2UsIHF1b3RlfSBmcm9tICcuL19zaGVsbC1xdW90ZSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBzdHJpbmdpZnlFcnJvcihlcnJvcjogRXJyb3IpOiBzdHJpbmcge1xuICByZXR1cm4gYG5hbWU6ICR7ZXJyb3IubmFtZX0sIG1lc3NhZ2U6ICR7ZXJyb3IubWVzc2FnZX0sIHN0YWNrOiAke2Vycm9yLnN0YWNrfS5gO1xufVxuXG4vLyBBcyBvZiBGbG93IHYwLjI4LCBGbG93IGRvZXMgbm90IGFsbGxvdyBpbXBsaWNpdCBzdHJpbmcgY29lcmNpb24gb2YgbnVsbCBvciB1bmRlZmluZWQuIFVzZSB0aGlzIHRvXG4vLyBtYWtlIGl0IGV4cGxpY2l0LlxuZXhwb3J0IGZ1bmN0aW9uIG1heWJlVG9TdHJpbmcoc3RyOiA/c3RyaW5nKTogc3RyaW5nIHtcbiAgLy8gV2UgZG9uJ3Qgd2FudCB0byBlbmNvdXJhZ2UgdGhlIHVzZSBvZiB0aGlzIGZ1bmN0aW9uIGRpcmVjdGx5IGJlY2F1c2UgaXQgY29lcmNlcyBhbnl0aGluZyB0byBhXG4gIC8vIHN0cmluZy4gV2UgZ2V0IHN0cmljdGVyIHR5cGVjaGVja2luZyBieSB1c2luZyBtYXliZVRvU3RyaW5nLCBzbyBpdCBzaG91bGQgZ2VuZXJhbGx5IGJlXG4gIC8vIHByZWZlcnJlZC5cbiAgcmV0dXJuIFN0cmluZyhzdHIpO1xufVxuXG4vKipcbiAqIE9yaWdpbmFsbHkgYWRhcHRlZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9hemVyL3JlbGF0aXZlLWRhdGUuXG4gKiBXZSdyZSBpbmNsdWRpbmcgaXQgYmVjYXVzZSBvZiBodHRwczovL2dpdGh1Yi5jb20vbnBtL25wbS9pc3N1ZXMvMTIwMTJcbiAqL1xuY29uc3QgU0VDT05EID0gMTAwMDtcbmNvbnN0IE1JTlVURSA9IDYwICogU0VDT05EO1xuY29uc3QgSE9VUiA9IDYwICogTUlOVVRFO1xuY29uc3QgREFZID0gMjQgKiBIT1VSO1xuY29uc3QgV0VFSyA9IDcgKiBEQVk7XG5jb25zdCBZRUFSID0gREFZICogMzY1O1xuY29uc3QgTU9OVEggPSBZRUFSIC8gMTI7XG5cbmNvbnN0IHNob3J0Rm9ybWF0cyA9IFtcbiAgWzAuNyAqIE1JTlVURSwgJ25vdyddLFxuICBbMS41ICogTUlOVVRFLCAnMW0nXSxcbiAgWzYwICogTUlOVVRFLCAnbScsIE1JTlVURV0sXG4gIFsxLjUgKiBIT1VSLCAnMWgnXSxcbiAgW0RBWSwgJ2gnLCBIT1VSXSxcbiAgWzIgKiBEQVksICcxZCddLFxuICBbNyAqIERBWSwgJ2QnLCBEQVldLFxuICBbMS41ICogV0VFSywgJzF3J10sXG4gIFtNT05USCwgJ3cnLCBXRUVLXSxcbiAgWzEuNSAqIE1PTlRILCAnMW1vJ10sXG4gIFtZRUFSLCAnbW8nLCBNT05USF0sXG4gIFsxLjUgKiBZRUFSLCAnMXknXSxcbiAgW051bWJlci5NQVhfVkFMVUUsICd5JywgWUVBUl0sXG5dO1xuXG5jb25zdCBsb25nRm9ybWF0cyA9IFtcbiAgWzAuNyAqIE1JTlVURSwgJ2p1c3Qgbm93J10sXG4gIFsxLjUgKiBNSU5VVEUsICdhIG1pbnV0ZSBhZ28nXSxcbiAgWzYwICogTUlOVVRFLCAnbWludXRlcyBhZ28nLCBNSU5VVEVdLFxuICBbMS41ICogSE9VUiwgJ2FuIGhvdXIgYWdvJ10sXG4gIFtEQVksICdob3VycyBhZ28nLCBIT1VSXSxcbiAgWzIgKiBEQVksICd5ZXN0ZXJkYXknXSxcbiAgWzcgKiBEQVksICdkYXlzIGFnbycsIERBWV0sXG4gIFsxLjUgKiBXRUVLLCAnYSB3ZWVrIGFnbyddLFxuICBbTU9OVEgsICd3ZWVrcyBhZ28nLCBXRUVLXSxcbiAgWzEuNSAqIE1PTlRILCAnYSBtb250aCBhZ28nXSxcbiAgW1lFQVIsICdtb250aHMgYWdvJywgTU9OVEhdLFxuICBbMS41ICogWUVBUiwgJ2EgeWVhciBhZ28nXSxcbiAgW051bWJlci5NQVhfVkFMVUUsICd5ZWFycyBhZ28nLCBZRUFSXSxcbl07XG5cbmV4cG9ydCBmdW5jdGlvbiByZWxhdGl2ZURhdGUoXG4gIGlucHV0XzogbnVtYmVyIHwgRGF0ZSxcbiAgcmVmZXJlbmNlXz86IG51bWJlciB8IERhdGUsXG4gIHVzZVNob3J0VmFyaWFudD86IGJvb2xlYW4gPSBmYWxzZSxcbik6IHN0cmluZyB7XG4gIGxldCBpbnB1dCA9IGlucHV0XztcbiAgbGV0IHJlZmVyZW5jZSA9IHJlZmVyZW5jZV87XG4gIGlmIChpbnB1dCBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICBpbnB1dCA9IGlucHV0LmdldFRpbWUoKTtcbiAgfVxuICAvLyBmbG93bGludC1uZXh0LWxpbmUgc2tldGNoeS1udWxsLW51bWJlcjpvZmZcbiAgaWYgKCFyZWZlcmVuY2UpIHtcbiAgICByZWZlcmVuY2UgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgfVxuICBpZiAocmVmZXJlbmNlIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgIHJlZmVyZW5jZSA9IHJlZmVyZW5jZS5nZXRUaW1lKCk7XG4gIH1cblxuICBjb25zdCBkZWx0YSA9IHJlZmVyZW5jZSAtIGlucHV0O1xuICBjb25zdCBmb3JtYXRzID0gdXNlU2hvcnRWYXJpYW50ID8gc2hvcnRGb3JtYXRzIDogbG9uZ0Zvcm1hdHM7XG4gIGZvciAoY29uc3QgW2xpbWl0LCByZWxhdGl2ZUZvcm1hdCwgcmVtYWluZGVyXSBvZiBmb3JtYXRzKSB7XG4gICAgaWYgKGRlbHRhIDwgbGltaXQpIHtcbiAgICAgIGlmICh0eXBlb2YgcmVtYWluZGVyID09PSAnbnVtYmVyJykge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIE1hdGgucm91bmQoZGVsdGEgLyByZW1haW5kZXIpICtcbiAgICAgICAgICAodXNlU2hvcnRWYXJpYW50ID8gJycgOiAnICcpICtcbiAgICAgICAgICByZWxhdGl2ZUZvcm1hdFxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHJlbGF0aXZlRm9ybWF0O1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHRocm93IG5ldyBFcnJvcignVGhpcyBzaG91bGQgbmV2ZXIgYmUgcmVhY2hlZC4nKTtcbn1cblxuLyoqXG4gKiBDb3VudCB0aGUgbnVtYmVyIG9mIG9jY3VycmVuY2VzIG9mIGBjaGFyYCBpbiBgc3RyYC5cbiAqIGBjaGFyYCBtdXN0IGJlIGEgc3RyaW5nIG9mIGxlbmd0aCAxLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY291bnRPY2N1cnJlbmNlcyhoYXlzdGFjazogc3RyaW5nLCBjaGFyOiBzdHJpbmcpIHtcbiAgaW52YXJpYW50KGNoYXIubGVuZ3RoID09PSAxLCAnY2hhciBtdXN0IGJlIGEgc3RyaW5nIG9mIGxlbmd0aCAxJyk7XG5cbiAgbGV0IGNvdW50ID0gMDtcbiAgY29uc3QgY29kZSA9IGNoYXIuY2hhckNvZGVBdCgwKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBoYXlzdGFjay5sZW5ndGg7IGkrKykge1xuICAgIGlmIChoYXlzdGFjay5jaGFyQ29kZUF0KGkpID09PSBjb2RlKSB7XG4gICAgICBjb3VudCsrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gY291bnQ7XG59XG5cbi8qKlxuICogc2hlbGwtcXVvdGUncyBwYXJzZSBhbGxvd3MgcGlwZSBvcGVyYXRvcnMgYW5kIGNvbW1lbnRzLlxuICogR2VuZXJhbGx5IHVzZXJzIGRvbid0IGNhcmUgYWJvdXQgdGhpcywgc28gdGhyb3cgaWYgd2UgZW5jb3VudGVyIGFueSBvcGVyYXRvcnMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzaGVsbFBhcnNlKHN0cjogc3RyaW5nLCBlbnY/OiBPYmplY3QpOiBBcnJheTxzdHJpbmc+IHtcbiAgY29uc3QgcmVzdWx0ID0gcGFyc2Uoc3RyLCBlbnYpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHJlc3VsdC5sZW5ndGg7IGkrKykge1xuICAgIGlmICh0eXBlb2YgcmVzdWx0W2ldICE9PSAnc3RyaW5nJykge1xuICAgICAgaWYgKHJlc3VsdFtpXS5vcCAhPSBudWxsKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICBgVW5leHBlY3RlZCBvcGVyYXRvciBcIiR7cmVzdWx0W2ldLm9wfVwiIHByb3ZpZGVkIHRvIHNoZWxsUGFyc2VgLFxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIGBVbmV4cGVjdGVkIGNvbW1lbnQgXCIke3Jlc3VsdFtpXS5jb21tZW50fVwiIHByb3ZpZGVkIHRvIHNoZWxsUGFyc2VgLFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIFRlY2huaWNhbGx5IHlvdSBjYW4gcGFzcyBpbiB7IG9wZXJhdG9yOiBzdHJpbmcgfSBoZXJlLFxuICogYnV0IHdlIGRvbid0IHVzZSB0aGF0IGluIG1vc3QgQVBJcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNoZWxsUXVvdGUoYXJnczogQXJyYXk8c3RyaW5nPik6IHN0cmluZyB7XG4gIHJldHVybiBxdW90ZShhcmdzKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUNvbW1vblByZWZpeChhOiBzdHJpbmcsIGI6IHN0cmluZyk6IFtzdHJpbmcsIHN0cmluZ10ge1xuICBsZXQgaSA9IDA7XG4gIHdoaWxlIChhW2ldID09PSBiW2ldICYmIGkgPCBhLmxlbmd0aCAmJiBpIDwgYi5sZW5ndGgpIHtcbiAgICBpKys7XG4gIH1cbiAgcmV0dXJuIFthLnN1YnN0cmluZyhpKSwgYi5zdWJzdHJpbmcoaSldO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlQ29tbW9uU3VmZml4KGE6IHN0cmluZywgYjogc3RyaW5nKTogW3N0cmluZywgc3RyaW5nXSB7XG4gIGxldCBpID0gMDtcbiAgd2hpbGUgKFxuICAgIGFbYS5sZW5ndGggLSAxIC0gaV0gPT09IGJbYi5sZW5ndGggLSAxIC0gaV0gJiZcbiAgICBpIDwgYS5sZW5ndGggJiZcbiAgICBpIDwgYi5sZW5ndGhcbiAgKSB7XG4gICAgaSsrO1xuICB9XG4gIHJldHVybiBbYS5zdWJzdHJpbmcoMCwgYS5sZW5ndGggLSBpKSwgYi5zdWJzdHJpbmcoMCwgYi5sZW5ndGggLSBpKV07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzaG9ydGVuKFxuICBzdHI6IHN0cmluZyxcbiAgbWF4TGVuZ3RoOiBudW1iZXIsXG4gIHN1ZmZpeD86IHN0cmluZyxcbik6IHN0cmluZyB7XG4gIHJldHVybiBzdHIubGVuZ3RoIDwgbWF4TGVuZ3RoXG4gICAgPyBzdHJcbiAgICA6IHN0ci5zbGljZSgwLCBtYXhMZW5ndGgpICsgKHN1ZmZpeCB8fCAnJyk7XG59XG5cbi8qKlxuICogTGlrZSBTdHJpbmcuc3BsaXQsIGJ1dCBvbmx5IHNwbGl0cyBvbmNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc3BsaXRPbmNlKHN0cjogc3RyaW5nLCBzZXBhcmF0b3I6IHN0cmluZyk6IFtzdHJpbmcsID9zdHJpbmddIHtcbiAgY29uc3QgaW5kZXggPSBzdHIuaW5kZXhPZihzZXBhcmF0b3IpO1xuICByZXR1cm4gaW5kZXggPT09IC0xXG4gICAgPyBbc3RyLCBudWxsXVxuICAgIDogW3N0ci5zbGljZSgwLCBpbmRleCksIHN0ci5zbGljZShpbmRleCArIHNlcGFyYXRvci5sZW5ndGgpXTtcbn1cblxuLyoqXG4gKiBJbmRlbnRzIGVhY2ggbGluZSBieSB0aGUgc3BlY2lmaWVkIG51bWJlciBvZiBjaGFyYWN0ZXJzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5kZW50KFxuICBzdHI6IHN0cmluZyxcbiAgbGV2ZWw6IG51bWJlciA9IDIsXG4gIGNoYXI6IHN0cmluZyA9ICcgJyxcbik6IHN0cmluZyB7XG4gIHJldHVybiBzdHIucmVwbGFjZSgvXihbXlxcbl0pL2dtLCBjaGFyLnJlcGVhdChsZXZlbCkgKyAnJDEnKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBsdXJhbGl6ZShub3VuOiBzdHJpbmcsIGNvdW50OiBudW1iZXIpIHtcbiAgcmV0dXJuIGNvdW50ID09PSAxID8gbm91biA6IG5vdW4gKyAncyc7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjYXBpdGFsaXplKHN0cjogc3RyaW5nKTogc3RyaW5nIHtcbiAgcmV0dXJuIHN0ci5sZW5ndGggPT09IDBcbiAgICA/IHN0clxuICAgIDogc3RyXG4gICAgICAgIC5jaGFyQXQoMClcbiAgICAgICAgLnRvVXBwZXJDYXNlKClcbiAgICAgICAgLmNvbmNhdChzdHIuc2xpY2UoMSkpO1xufVxuXG4vLyBPcmlnaW5hbGx5IGNvcGllZCBmcm9tOlxuLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8zODA5NDAxL3doYXQtaXMtYS1nb29kLXJlZ3VsYXItZXhwcmVzc2lvbi10by1tYXRjaC1hLXVybFxuLy8gQnV0IGFkb3B0ZWQgdG8gbWF0Y2ggYHd3dy5gIHVybHMgYXMgd2VsbCBhcyBgaHR0cHM/YCB1cmxzXG4vLyBhbmQgYCFgIGFzIGFjY2VwdGFibGUgdXJsIHBpZWNlLlxuLy8gVGhlbiBvcHRpbWl6ZWQgd2l0aCBodHRwczovL3d3dy5ucG1qcy5jb20vcGFja2FnZS9yZWdleHAtdHJlZS5cbi8vIEFkZGVkIGEgc2luZ2xlIG1hdGNoaW5nIGdyb3VwIGZvciB1c2Ugd2l0aCBTdHJpbmcuc3BsaXQuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbWF4LWxlblxuZXhwb3J0IGNvbnN0IFVSTF9SRUdFWCA9IC8oaHR0cHM/OlxcL1xcLyg/Ond3d1xcLik/Wy1cXHdAOiUuK34jPV17MiwyNTZ9XFwuW2Etel17Miw2fVxcYlstXFx3QDolKy5+Iz8mLz0hXSp8d3d3XFwuWy1cXHdAOiUuK34jPV17MiwyNTZ9XFwuW2Etel17Miw2fVxcYlstXFx3QDolKy5+Iz8mLz0hXSopLztcbiJdfQ==