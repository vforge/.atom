'use strict';

var cov_2qaqf5jepx = function () {
  var path = '/Users/hansonw/atom-ide-ui/modules/nuclide-commons-ui/Button.js',
      hash = 'c17289b74508c742b6d856c22ffb5d7d640cd41d',
      global = new Function('return this')(),
      gcv = '__coverage__',
      coverageData = {
    path: '/Users/hansonw/atom-ide-ui/modules/nuclide-commons-ui/Button.js',
    statementMap: {
      '0': {
        start: {
          line: 42,
          column: 27
        },
        end: {
          line: 46,
          column: 2
        }
      },
      '1': {
        start: {
          line: 48,
          column: 27
        },
        end: {
          line: 54,
          column: 2
        }
      },
      '2': {
        start: {
          line: 56,
          column: 29
        },
        end: {
          line: 60,
          column: 2
        }
      },
      '3': {
        start: {
          line: 62,
          column: 29
        },
        end: {
          line: 68,
          column: 2
        }
      },
      '4': {
        start: {
          line: 75,
          column: 17
        },
        end: {
          line: 75,
          column: 43
        }
      },
      '5': {
        start: {
          line: 76,
          column: 4
        },
        end: {
          line: 78,
          column: 5
        }
      },
      '6': {
        start: {
          line: 77,
          column: 6
        },
        end: {
          line: 77,
          column: 13
        }
      },
      '7': {
        start: {
          line: 80,
          column: 4
        },
        end: {
          line: 80,
          column: 17
        }
      },
      '8': {
        start: {
          line: 94,
          column: 8
        },
        end: {
          line: 94,
          column: 18
        }
      },
      '9': {
        start: {
          line: 95,
          column: 26
        },
        end: {
          line: 95,
          column: 78
        }
      },
      '10': {
        start: {
          line: 97,
          column: 6
        },
        end: {
          line: 97,
          column: 70
        }
      },
      '11': {
        start: {
          line: 98,
          column: 16
        },
        end: {
          line: 98,
          column: 76
        }
      },
      '12': {
        start: {
          line: 99,
          column: 25
        },
        end: {
          line: 99,
          column: 78
        }
      },
      '13': {
        start: {
          line: 100,
          column: 25
        },
        end: {
          line: 105,
          column: 6
        }
      },
      '14': {
        start: {
          line: 106,
          column: 20
        },
        end: {
          line: 106,
          column: 70
        }
      },
      '15': {
        start: {
          line: 107,
          column: 4
        },
        end: {
          line: 116,
          column: 6
        }
      }
    },
    fnMap: {
      '0': {
        name: '(anonymous_0)',
        decl: {
          start: {
            line: 74,
            column: 2
          },
          end: {
            line: 74,
            column: 3
          }
        },
        loc: {
          start: {
            line: 74,
            column: 16
          },
          end: {
            line: 81,
            column: 3
          }
        },
        line: 74
      },
      '1': {
        name: '(anonymous_1)',
        decl: {
          start: {
            line: 83,
            column: 2
          },
          end: {
            line: 83,
            column: 3
          }
        },
        loc: {
          start: {
            line: 83,
            column: 23
          },
          end: {
            line: 117,
            column: 3
          }
        },
        line: 83
      }
    },
    branchMap: {
      '0': {
        loc: {
          start: {
            line: 76,
            column: 4
          },
          end: {
            line: 78,
            column: 5
          }
        },
        type: 'if',
        locations: [{
          start: {
            line: 76,
            column: 4
          },
          end: {
            line: 78,
            column: 5
          }
        }, {
          start: {
            line: 76,
            column: 4
          },
          end: {
            line: 78,
            column: 5
          }
        }],
        line: 76
      },
      '1': {
        loc: {
          start: {
            line: 95,
            column: 26
          },
          end: {
            line: 95,
            column: 78
          }
        },
        type: 'cond-expr',
        locations: [{
          start: {
            line: 95,
            column: 41
          },
          end: {
            line: 95,
            column: 43
          }
        }, {
          start: {
            line: 95,
            column: 46
          },
          end: {
            line: 95,
            column: 78
          }
        }],
        line: 95
      },
      '2': {
        loc: {
          start: {
            line: 95,
            column: 46
          },
          end: {
            line: 95,
            column: 78
          }
        },
        type: 'binary-expr',
        locations: [{
          start: {
            line: 95,
            column: 46
          },
          end: {
            line: 95,
            column: 72
          }
        }, {
          start: {
            line: 95,
            column: 76
          },
          end: {
            line: 95,
            column: 78
          }
        }],
        line: 95
      },
      '3': {
        loc: {
          start: {
            line: 97,
            column: 6
          },
          end: {
            line: 97,
            column: 70
          }
        },
        type: 'cond-expr',
        locations: [{
          start: {
            line: 97,
            column: 27
          },
          end: {
            line: 97,
            column: 29
          }
        }, {
          start: {
            line: 97,
            column: 32
          },
          end: {
            line: 97,
            column: 70
          }
        }],
        line: 97
      },
      '4': {
        loc: {
          start: {
            line: 97,
            column: 32
          },
          end: {
            line: 97,
            column: 70
          }
        },
        type: 'binary-expr',
        locations: [{
          start: {
            line: 97,
            column: 32
          },
          end: {
            line: 97,
            column: 64
          }
        }, {
          start: {
            line: 97,
            column: 68
          },
          end: {
            line: 97,
            column: 70
          }
        }],
        line: 97
      },
      '5': {
        loc: {
          start: {
            line: 98,
            column: 16
          },
          end: {
            line: 98,
            column: 76
          }
        },
        type: 'cond-expr',
        locations: [{
          start: {
            line: 98,
            column: 50
          },
          end: {
            line: 98,
            column: 69
          }
        }, {
          start: {
            line: 98,
            column: 72
          },
          end: {
            line: 98,
            column: 76
          }
        }],
        line: 98
      },
      '6': {
        loc: {
          start: {
            line: 98,
            column: 16
          },
          end: {
            line: 98,
            column: 47
          }
        },
        type: 'binary-expr',
        locations: [{
          start: {
            line: 98,
            column: 16
          },
          end: {
            line: 98,
            column: 23
          }
        }, {
          start: {
            line: 98,
            column: 27
          },
          end: {
            line: 98,
            column: 47
          }
        }],
        line: 98
      },
      '7': {
        loc: {
          start: {
            line: 99,
            column: 25
          },
          end: {
            line: 99,
            column: 78
          }
        },
        type: 'cond-expr',
        locations: [{
          start: {
            line: 99,
            column: 58
          },
          end: {
            line: 99,
            column: 71
          }
        }, {
          start: {
            line: 99,
            column: 74
          },
          end: {
            line: 99,
            column: 78
          }
        }],
        line: 99
      },
      '8': {
        loc: {
          start: {
            line: 99,
            column: 25
          },
          end: {
            line: 99,
            column: 55
          }
        },
        type: 'binary-expr',
        locations: [{
          start: {
            line: 99,
            column: 25
          },
          end: {
            line: 99,
            column: 32
          }
        }, {
          start: {
            line: 99,
            column: 36
          },
          end: {
            line: 99,
            column: 55
          }
        }],
        line: 99
      },
      '9': {
        loc: {
          start: {
            line: 106,
            column: 20
          },
          end: {
            line: 106,
            column: 70
          }
        },
        type: 'cond-expr',
        locations: [{
          start: {
            line: 106,
            column: 45
          },
          end: {
            line: 106,
            column: 53
          }
        }, {
          start: {
            line: 106,
            column: 56
          },
          end: {
            line: 106,
            column: 70
          }
        }],
        line: 106
      }
    },
    s: {
      '0': 0,
      '1': 0,
      '2': 0,
      '3': 0,
      '4': 0,
      '5': 0,
      '6': 0,
      '7': 0,
      '8': 0,
      '9': 0,
      '10': 0,
      '11': 0,
      '12': 0,
      '13': 0,
      '14': 0,
      '15': 0
    },
    f: {
      '0': 0,
      '1': 0
    },
    b: {
      '0': [0, 0],
      '1': [0, 0],
      '2': [0, 0],
      '3': [0, 0],
      '4': [0, 0],
      '5': [0, 0],
      '6': [0, 0],
      '7': [0, 0],
      '8': [0, 0],
      '9': [0, 0]
    },
    _coverageSchema: '332fd63041d2c1bcb487cc26dd0d5f7d97098a6c'
  },
      coverage = global[gcv] || (global[gcv] = {});

  if (coverage[path] && coverage[path].hash === hash) {
    return coverage[path];
  }

  coverageData.hash = hash;
  return coverage[path] = coverageData;
}();

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Button = exports.ButtonTypes = exports.ButtonSizes = undefined;

var _classnames;

function _load_classnames() {
  return _classnames = _interopRequireDefault(require('classnames'));
}

var _react = _interopRequireWildcard(require('react'));

var _reactDom = _interopRequireDefault(require('react-dom'));

var _string;

function _load_string() {
  return _string = require('nuclide-commons/string');
}

var _addTooltip;

function _load_addTooltip() {
  return _addTooltip = _interopRequireDefault(require('./addTooltip'));
}

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; } /**
                                                                                                                                                                                                                              * Copyright (c) 2017-present, Facebook, Inc.
                                                                                                                                                                                                                              * All rights reserved.
                                                                                                                                                                                                                              *
                                                                                                                                                                                                                              * This source code is licensed under the BSD-style license found in the
                                                                                                                                                                                                                              * LICENSE file in the root directory of this source tree. An additional grant
                                                                                                                                                                                                                              * of patent rights can be found in the PATENTS file in the same directory.
                                                                                                                                                                                                                              *
                                                                                                                                                                                                                              * 
                                                                                                                                                                                                                              * @format
                                                                                                                                                                                                                              */

const ButtonSizes = exports.ButtonSizes = (cov_2qaqf5jepx.s[0]++, Object.freeze({
  EXTRA_SMALL: 'EXTRA_SMALL',
  SMALL: 'SMALL',
  LARGE: 'LARGE'
}));

const ButtonTypes = exports.ButtonTypes = (cov_2qaqf5jepx.s[1]++, Object.freeze({
  PRIMARY: 'PRIMARY',
  INFO: 'INFO',
  SUCCESS: 'SUCCESS',
  WARNING: 'WARNING',
  ERROR: 'ERROR'
}));

const ButtonSizeClassnames = (cov_2qaqf5jepx.s[2]++, Object.freeze({
  EXTRA_SMALL: 'btn-xs',
  SMALL: 'btn-sm',
  LARGE: 'btn-lg'
}));

const ButtonTypeClassnames = (cov_2qaqf5jepx.s[3]++, Object.freeze({
  PRIMARY: 'btn-primary',
  INFO: 'btn-info',
  SUCCESS: 'btn-success',
  WARNING: 'btn-warning',
  ERROR: 'btn-error'
}));

/**
 * Generic Button wrapper.
 */
class Button extends _react.Component {
  focus() {
    cov_2qaqf5jepx.f[0]++;

    const node = (cov_2qaqf5jepx.s[4]++, _reactDom.default.findDOMNode(this));
    cov_2qaqf5jepx.s[5]++;
    if (node == null) {
      cov_2qaqf5jepx.b[0][0]++;
      cov_2qaqf5jepx.s[6]++;

      return;
    } else {
      cov_2qaqf5jepx.b[0][1]++;
    }
    // $FlowFixMe
    cov_2qaqf5jepx.s[7]++;
    node.focus();
  }

  render() {
    cov_2qaqf5jepx.f[1]++;

    const _ref = (cov_2qaqf5jepx.s[8]++, this.props),
          {
      icon,
      buttonType,
      selected,
      size,
      children,
      className,
      wrapperElement,
      tooltip
    } = _ref,
          remainingProps = _objectWithoutProperties(_ref, ['icon', 'buttonType', 'selected', 'size', 'children', 'className', 'wrapperElement', 'tooltip']);
    const sizeClassname = (cov_2qaqf5jepx.s[9]++, size == null ? (cov_2qaqf5jepx.b[1][0]++, '') : (cov_2qaqf5jepx.b[1][1]++, (cov_2qaqf5jepx.b[2][0]++, ButtonSizeClassnames[size]) || (cov_2qaqf5jepx.b[2][1]++, '')));
    const buttonTypeClassname = (cov_2qaqf5jepx.s[10]++, buttonType == null ? (cov_2qaqf5jepx.b[3][0]++, '') : (cov_2qaqf5jepx.b[3][1]++, (cov_2qaqf5jepx.b[4][0]++, ButtonTypeClassnames[buttonType]) || (cov_2qaqf5jepx.b[4][1]++, '')));
    const ref = (cov_2qaqf5jepx.s[11]++, (cov_2qaqf5jepx.b[6][0]++, tooltip) && (cov_2qaqf5jepx.b[6][1]++, !this.props.disabled) ? (cov_2qaqf5jepx.b[5][0]++, (0, (_addTooltip || _load_addTooltip()).default)(tooltip)) : (cov_2qaqf5jepx.b[5][1]++, null));
    const titleToolTip = (cov_2qaqf5jepx.s[12]++, (cov_2qaqf5jepx.b[8][0]++, tooltip) && (cov_2qaqf5jepx.b[8][1]++, this.props.disabled) ? (cov_2qaqf5jepx.b[7][0]++, tooltip.title) : (cov_2qaqf5jepx.b[7][1]++, null));
    const newClassName = (cov_2qaqf5jepx.s[13]++, (0, (_classnames || _load_classnames()).default)(className, 'btn', {
      [`icon icon-${(0, (_string || _load_string()).maybeToString)(icon)}`]: icon != null,
      [sizeClassname]: size != null,
      selected,
      [buttonTypeClassname]: buttonType != null
    }));
    const Wrapper = (cov_2qaqf5jepx.s[14]++, wrapperElement == null ? (cov_2qaqf5jepx.b[9][0]++, 'button') : (cov_2qaqf5jepx.b[9][1]++, wrapperElement));
    cov_2qaqf5jepx.s[15]++;
    return (
      // $FlowFixMe(>=0.53.0) Flow suppress
      _react.createElement(
        Wrapper,
        Object.assign({
          className: newClassName,
          ref: ref
        }, remainingProps, {
          title: titleToolTip }),
        children
      )
    );
  }
}
exports.Button = Button;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkJ1dHRvbi5qcyJdLCJuYW1lcyI6WyJCdXR0b25TaXplcyIsIk9iamVjdCIsImZyZWV6ZSIsIkVYVFJBX1NNQUxMIiwiU01BTEwiLCJMQVJHRSIsIkJ1dHRvblR5cGVzIiwiUFJJTUFSWSIsIklORk8iLCJTVUNDRVNTIiwiV0FSTklORyIsIkVSUk9SIiwiQnV0dG9uU2l6ZUNsYXNzbmFtZXMiLCJCdXR0b25UeXBlQ2xhc3NuYW1lcyIsIkJ1dHRvbiIsIkNvbXBvbmVudCIsImZvY3VzIiwibm9kZSIsImZpbmRET01Ob2RlIiwicmVuZGVyIiwicHJvcHMiLCJpY29uIiwiYnV0dG9uVHlwZSIsInNlbGVjdGVkIiwic2l6ZSIsImNoaWxkcmVuIiwiY2xhc3NOYW1lIiwid3JhcHBlckVsZW1lbnQiLCJ0b29sdGlwIiwicmVtYWluaW5nUHJvcHMiLCJzaXplQ2xhc3NuYW1lIiwiYnV0dG9uVHlwZUNsYXNzbmFtZSIsInJlZiIsImRpc2FibGVkIiwidGl0bGVUb29sVGlwIiwidGl0bGUiLCJuZXdDbGFzc05hbWUiLCJXcmFwcGVyIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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VixDQUFOO0FBdkJtQjtBQXdCbkI7QUFDRTtBQUNBO0FBQUMsZUFBRDtBQUFBO0FBQ0UscUJBQVdTLFlBRGI7QUFFRSxlQUFLSjtBQUZQLFdBR01ILGNBSE47QUFJRSxpQkFBT0ssWUFKVDtBQUtHVDtBQUxIO0FBRkY7QUFVRDtBQTVDZ0Q7UUFBdENYLE0sR0FBQUEsTSIsImZpbGUiOiJCdXR0b24uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxNy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQGZsb3dcbiAqIEBmb3JtYXRcbiAqL1xuXG5pbXBvcnQgdHlwZSB7SWNvbk5hbWV9IGZyb20gJy4vSWNvbic7XG5cbmltcG9ydCBjbGFzc25hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7XG5pbXBvcnQge21heWJlVG9TdHJpbmd9IGZyb20gJ251Y2xpZGUtY29tbW9ucy9zdHJpbmcnO1xuaW1wb3J0IGFkZFRvb2x0aXAgZnJvbSAnLi9hZGRUb29sdGlwJztcblxuZXhwb3J0IHR5cGUgQnV0dG9uVHlwZSA9ICdQUklNQVJZJyB8ICdJTkZPJyB8ICdTVUNDRVNTJyB8ICdXQVJOSU5HJyB8ICdFUlJPUic7XG5leHBvcnQgdHlwZSBCdXR0b25TaXplID0gJ0VYVFJBX1NNQUxMJyB8ICdTTUFMTCcgfCAnTEFSR0UnO1xudHlwZSBCdXR0b25Ob2RlTmFtZSA9ICdidXR0b24nIHwgJ2EnO1xuXG50eXBlIFByb3BzID0ge1xuICAvKiogSWNvbiBuYW1lLCB3aXRob3V0IHRoZSBgaWNvbi1gIHByZWZpeC4gRS5nLiBgJ2Fycm93LXVwJ2AgKi9cbiAgaWNvbj86IEljb25OYW1lLFxuICAvKiogT3B0aW9uYWwgc3BlY2lmaWVyIGZvciBzcGVjaWFsIGJ1dHRvbnMsIGUuZy4gcHJpbWFyeSwgaW5mbywgc3VjY2VzcyBvciBlcnJvciBidXR0b25zLiAqL1xuICBidXR0b25UeXBlPzogQnV0dG9uVHlwZSxcbiAgc2VsZWN0ZWQ/OiBib29sZWFuLFxuICAvKiogICovXG4gIHNpemU/OiBCdXR0b25TaXplLFxuICBjbGFzc05hbWU/OiBzdHJpbmcsXG4gIC8qKiBUaGUgYnV0dG9uJ3MgY29udGVudDsgZ2VuZXJhbGx5IGEgc3RyaW5nLiAqL1xuICBjaGlsZHJlbj86IG1peGVkLFxuICAvKiogQWxsb3dzIHNwZWNpZnlpbmcgYW4gZWxlbWVudCBvdGhlciB0aGFuIGBidXR0b25gIHRvIGJlIHVzZWQgYXMgdGhlIHdyYXBwZXIgbm9kZS4gKi9cbiAgd3JhcHBlckVsZW1lbnQ/OiBCdXR0b25Ob2RlTmFtZSxcbiAgdG9vbHRpcD86IGF0b20kVG9vbHRpcHNBZGRPcHRpb25zLFxuICBkaXNhYmxlZD86IGJvb2xlYW4sXG59O1xuXG5leHBvcnQgY29uc3QgQnV0dG9uU2l6ZXMgPSBPYmplY3QuZnJlZXplKHtcbiAgRVhUUkFfU01BTEw6ICdFWFRSQV9TTUFMTCcsXG4gIFNNQUxMOiAnU01BTEwnLFxuICBMQVJHRTogJ0xBUkdFJyxcbn0pO1xuXG5leHBvcnQgY29uc3QgQnV0dG9uVHlwZXMgPSBPYmplY3QuZnJlZXplKHtcbiAgUFJJTUFSWTogJ1BSSU1BUlknLFxuICBJTkZPOiAnSU5GTycsXG4gIFNVQ0NFU1M6ICdTVUNDRVNTJyxcbiAgV0FSTklORzogJ1dBUk5JTkcnLFxuICBFUlJPUjogJ0VSUk9SJyxcbn0pO1xuXG5jb25zdCBCdXR0b25TaXplQ2xhc3NuYW1lcyA9IE9iamVjdC5mcmVlemUoe1xuICBFWFRSQV9TTUFMTDogJ2J0bi14cycsXG4gIFNNQUxMOiAnYnRuLXNtJyxcbiAgTEFSR0U6ICdidG4tbGcnLFxufSk7XG5cbmNvbnN0IEJ1dHRvblR5cGVDbGFzc25hbWVzID0gT2JqZWN0LmZyZWV6ZSh7XG4gIFBSSU1BUlk6ICdidG4tcHJpbWFyeScsXG4gIElORk86ICdidG4taW5mbycsXG4gIFNVQ0NFU1M6ICdidG4tc3VjY2VzcycsXG4gIFdBUk5JTkc6ICdidG4td2FybmluZycsXG4gIEVSUk9SOiAnYnRuLWVycm9yJyxcbn0pO1xuXG4vKipcbiAqIEdlbmVyaWMgQnV0dG9uIHdyYXBwZXIuXG4gKi9cbmV4cG9ydCBjbGFzcyBCdXR0b24gZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8UHJvcHM+IHtcbiAgZm9jdXMoKTogdm9pZCB7XG4gICAgY29uc3Qgbm9kZSA9IFJlYWN0RE9NLmZpbmRET01Ob2RlKHRoaXMpO1xuICAgIGlmIChub2RlID09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gJEZsb3dGaXhNZVxuICAgIG5vZGUuZm9jdXMoKTtcbiAgfVxuXG4gIHJlbmRlcigpOiBSZWFjdC5Ob2RlIHtcbiAgICBjb25zdCB7XG4gICAgICBpY29uLFxuICAgICAgYnV0dG9uVHlwZSxcbiAgICAgIHNlbGVjdGVkLFxuICAgICAgc2l6ZSxcbiAgICAgIGNoaWxkcmVuLFxuICAgICAgY2xhc3NOYW1lLFxuICAgICAgd3JhcHBlckVsZW1lbnQsXG4gICAgICB0b29sdGlwLFxuICAgICAgLi4ucmVtYWluaW5nUHJvcHNcbiAgICB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCBzaXplQ2xhc3NuYW1lID0gc2l6ZSA9PSBudWxsID8gJycgOiBCdXR0b25TaXplQ2xhc3NuYW1lc1tzaXplXSB8fCAnJztcbiAgICBjb25zdCBidXR0b25UeXBlQ2xhc3NuYW1lID1cbiAgICAgIGJ1dHRvblR5cGUgPT0gbnVsbCA/ICcnIDogQnV0dG9uVHlwZUNsYXNzbmFtZXNbYnV0dG9uVHlwZV0gfHwgJyc7XG4gICAgY29uc3QgcmVmID0gdG9vbHRpcCAmJiAhdGhpcy5wcm9wcy5kaXNhYmxlZCA/IGFkZFRvb2x0aXAodG9vbHRpcCkgOiBudWxsO1xuICAgIGNvbnN0IHRpdGxlVG9vbFRpcCA9IHRvb2x0aXAgJiYgdGhpcy5wcm9wcy5kaXNhYmxlZCA/IHRvb2x0aXAudGl0bGUgOiBudWxsO1xuICAgIGNvbnN0IG5ld0NsYXNzTmFtZSA9IGNsYXNzbmFtZXMoY2xhc3NOYW1lLCAnYnRuJywge1xuICAgICAgW2BpY29uIGljb24tJHttYXliZVRvU3RyaW5nKGljb24pfWBdOiBpY29uICE9IG51bGwsXG4gICAgICBbc2l6ZUNsYXNzbmFtZV06IHNpemUgIT0gbnVsbCxcbiAgICAgIHNlbGVjdGVkLFxuICAgICAgW2J1dHRvblR5cGVDbGFzc25hbWVdOiBidXR0b25UeXBlICE9IG51bGwsXG4gICAgfSk7XG4gICAgY29uc3QgV3JhcHBlciA9IHdyYXBwZXJFbGVtZW50ID09IG51bGwgPyAnYnV0dG9uJyA6IHdyYXBwZXJFbGVtZW50O1xuICAgIHJldHVybiAoXG4gICAgICAvLyAkRmxvd0ZpeE1lKD49MC41My4wKSBGbG93IHN1cHByZXNzXG4gICAgICA8V3JhcHBlclxuICAgICAgICBjbGFzc05hbWU9e25ld0NsYXNzTmFtZX1cbiAgICAgICAgcmVmPXtyZWZ9XG4gICAgICAgIHsuLi5yZW1haW5pbmdQcm9wc31cbiAgICAgICAgdGl0bGU9e3RpdGxlVG9vbFRpcH0+XG4gICAgICAgIHtjaGlsZHJlbn1cbiAgICAgIDwvV3JhcHBlcj5cbiAgICApO1xuICB9XG59XG4iXX0=