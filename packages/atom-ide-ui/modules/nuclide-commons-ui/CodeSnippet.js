'use strict';

var cov_40mqyiank = function () {
  var path = '/Users/hansonw/atom-ide-ui/modules/nuclide-commons-ui/CodeSnippet.js',
      hash = '9b1818c230f6529b7bc95613071daecae0943f13',
      global = new Function('return this')(),
      gcv = '__coverage__',
      coverageData = {
    path: '/Users/hansonw/atom-ide-ui/modules/nuclide-commons-ui/CodeSnippet.js',
    statementMap: {
      '0': {
        start: {
          line: 28,
          column: 19
        },
        end: {
          line: 28,
          column: 51
        }
      },
      '1': {
        start: {
          line: 29,
          column: 45
        },
        end: {
          line: 29,
          column: 55
        }
      },
      '2': {
        start: {
          line: 31,
          column: 4
        },
        end: {
          line: 33,
          column: 5
        }
      },
      '3': {
        start: {
          line: 32,
          column: 6
        },
        end: {
          line: 32,
          column: 33
        }
      },
      '4': {
        start: {
          line: 35,
          column: 4
        },
        end: {
          line: 54,
          column: 5
        }
      },
      '5': {
        start: {
          line: 36,
          column: 6
        },
        end: {
          line: 45,
          column: 9
        }
      },
      '6': {
        start: {
          line: 37,
          column: 23
        },
        end: {
          line: 40,
          column: 10
        }
      },
      '7': {
        start: {
          line: 41,
          column: 8
        },
        end: {
          line: 44,
          column: 11
        }
      },
      '8': {
        start: {
          line: 48,
          column: 6
        },
        end: {
          line: 53,
          column: 7
        }
      },
      '9': {
        start: {
          line: 49,
          column: 8
        },
        end: {
          line: 52,
          column: 11
        }
      },
      '10': {
        start: {
          line: 58,
          column: 24
        },
        end: {
          line: 58,
          column: 26
        }
      },
      '11': {
        start: {
          line: 59,
          column: 4
        },
        end: {
          line: 68,
          column: 5
        }
      },
      '12': {
        start: {
          line: 60,
          column: 6
        },
        end: {
          line: 67,
          column: 8
        }
      },
      '13': {
        start: {
          line: 64,
          column: 26
        },
        end: {
          line: 64,
          column: 56
        }
      },
      '14': {
        start: {
          line: 69,
          column: 4
        },
        end: {
          line: 81,
          column: 6
        }
      }
    },
    fnMap: {
      '0': {
        name: '(anonymous_0)',
        decl: {
          start: {
            line: 27,
            column: 2
          },
          end: {
            line: 27,
            column: 3
          }
        },
        loc: {
          start: {
            line: 27,
            column: 22
          },
          end: {
            line: 55,
            column: 3
          }
        },
        line: 27
      },
      '1': {
        name: '(anonymous_1)',
        decl: {
          start: {
            line: 36,
            column: 25
          },
          end: {
            line: 36,
            column: 26
          }
        },
        loc: {
          start: {
            line: 36,
            column: 34
          },
          end: {
            line: 45,
            column: 7
          }
        },
        line: 36
      },
      '2': {
        name: '(anonymous_2)',
        decl: {
          start: {
            line: 57,
            column: 2
          },
          end: {
            line: 57,
            column: 3
          }
        },
        loc: {
          start: {
            line: 57,
            column: 23
          },
          end: {
            line: 82,
            column: 3
          }
        },
        line: 57
      },
      '3': {
        name: '(anonymous_3)',
        decl: {
          start: {
            line: 64,
            column: 19
          },
          end: {
            line: 64,
            column: 20
          }
        },
        loc: {
          start: {
            line: 64,
            column: 26
          },
          end: {
            line: 64,
            column: 56
          }
        },
        line: 64
      }
    },
    branchMap: {
      '0': {
        loc: {
          start: {
            line: 31,
            column: 4
          },
          end: {
            line: 33,
            column: 5
          }
        },
        type: 'if',
        locations: [{
          start: {
            line: 31,
            column: 4
          },
          end: {
            line: 33,
            column: 5
          }
        }, {
          start: {
            line: 31,
            column: 4
          },
          end: {
            line: 33,
            column: 5
          }
        }],
        line: 31
      },
      '1': {
        loc: {
          start: {
            line: 35,
            column: 4
          },
          end: {
            line: 54,
            column: 5
          }
        },
        type: 'if',
        locations: [{
          start: {
            line: 35,
            column: 4
          },
          end: {
            line: 54,
            column: 5
          }
        }, {
          start: {
            line: 35,
            column: 4
          },
          end: {
            line: 54,
            column: 5
          }
        }],
        line: 35
      },
      '2': {
        loc: {
          start: {
            line: 48,
            column: 6
          },
          end: {
            line: 53,
            column: 7
          }
        },
        type: 'if',
        locations: [{
          start: {
            line: 48,
            column: 6
          },
          end: {
            line: 53,
            column: 7
          }
        }, {
          start: {
            line: 48,
            column: 6
          },
          end: {
            line: 53,
            column: 7
          }
        }],
        line: 48
      }
    },
    s: {
      '0': 0,
      '1': 0,
      '2': 0,
      '3': 0,
      '4': 0,
      '5': 0,
      '6': 0,
      '7': 0,
      '8': 0,
      '9': 0,
      '10': 0,
      '11': 0,
      '12': 0,
      '13': 0,
      '14': 0
    },
    f: {
      '0': 0,
      '1': 0,
      '2': 0,
      '3': 0
    },
    b: {
      '0': [0, 0],
      '1': [0, 0],
      '2': [0, 0]
    },
    _coverageSchema: '332fd63041d2c1bcb487cc26dd0d5f7d97098a6c'
  },
      coverage = global[gcv] || (global[gcv] = {});

  if (coverage[path] && coverage[path].hash === hash) {
    return coverage[path];
  }

  coverageData.hash = hash;
  return coverage[path] = coverageData;
}();

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.CodeSnippet = undefined;

var _AtomInput;

function _load_AtomInput() {
  return _AtomInput = require('./AtomInput');
}

var _react = _interopRequireWildcard(require('react'));

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

/**
 * Copyright (c) 2017-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * 
 * @format
 */

class CodeSnippet extends _react.Component {
  componentDidMount() {
    cov_40mqyiank.f[0]++;

    const editor = (cov_40mqyiank.s[0]++, this.refs.editor.getTextEditor());
    const { grammar, highlights, startLine } = (cov_40mqyiank.s[1]++, this.props);

    cov_40mqyiank.s[2]++;
    if (grammar) {
      cov_40mqyiank.b[0][0]++;
      cov_40mqyiank.s[3]++;

      editor.setGrammar(grammar);
    } else {
      cov_40mqyiank.b[0][1]++;
    }

    cov_40mqyiank.s[4]++;
    if (highlights != null) {
      cov_40mqyiank.b[1][0]++;
      cov_40mqyiank.s[5]++;

      highlights.forEach(range => {
        cov_40mqyiank.f[1]++;

        const marker = (cov_40mqyiank.s[6]++, editor.markBufferRange([[range.start.row - startLine, range.start.column], [range.end.row - startLine, range.end.column]]));
        cov_40mqyiank.s[7]++;
        editor.decorateMarker(marker, {
          type: 'highlight',
          class: 'code-snippet-highlight'
        });
      });

      // Make sure at least one highlight is visible.
      cov_40mqyiank.s[8]++;
      if (highlights.length > 0) {
        cov_40mqyiank.b[2][0]++;
        cov_40mqyiank.s[9]++;

        editor.scrollToBufferPosition([highlights[0].end.row - startLine + 1, highlights[0].end.column]);
      } else {
        cov_40mqyiank.b[2][1]++;
      }
    } else {
      cov_40mqyiank.b[1][1]++;
    }
  }

  render() {
    cov_40mqyiank.f[2]++;

    const lineNumbers = (cov_40mqyiank.s[10]++, []);
    cov_40mqyiank.s[11]++;
    for (let i = this.props.startLine; i <= this.props.endLine; i++) {
      cov_40mqyiank.s[12]++;

      lineNumbers.push(_react.createElement(
        'div',
        {
          key: i,
          className: 'nuclide-ui-code-snippet-line-number',
          onClick: evt => {
            cov_40mqyiank.f[3]++;
            cov_40mqyiank.s[13]++;
            return this.props.onLineClick(evt, i);
          } },
        i + 1
      ));
    }
    cov_40mqyiank.s[14]++;
    return _react.createElement(
      'div',
      { className: 'nuclide-ui-code-snippet' },
      _react.createElement(
        'div',
        { className: 'nuclide-ui-code-snippet-line-number-column' },
        lineNumbers
      ),
      _react.createElement((_AtomInput || _load_AtomInput()).AtomInput, {
        ref: 'editor',
        initialValue: this.props.text,
        disabled: true,
        onClick: this.props.onClick
      })
    );
  }
}
exports.CodeSnippet = CodeSnippet;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkNvZGVTbmlwcGV0LmpzIl0sIm5hbWVzIjpbIkNvZGVTbmlwcGV0IiwiQ29tcG9uZW50IiwiY29tcG9uZW50RGlkTW91bnQiLCJlZGl0b3IiLCJyZWZzIiwiZ2V0VGV4dEVkaXRvciIsImdyYW1tYXIiLCJoaWdobGlnaHRzIiwic3RhcnRMaW5lIiwicHJvcHMiLCJzZXRHcmFtbWFyIiwiZm9yRWFjaCIsInJhbmdlIiwibWFya2VyIiwibWFya0J1ZmZlclJhbmdlIiwic3RhcnQiLCJyb3ciLCJjb2x1bW4iLCJlbmQiLCJkZWNvcmF0ZU1hcmtlciIsInR5cGUiLCJjbGFzcyIsImxlbmd0aCIsInNjcm9sbFRvQnVmZmVyUG9zaXRpb24iLCJyZW5kZXIiLCJsaW5lTnVtYmVycyIsImkiLCJlbmRMaW5lIiwicHVzaCIsImV2dCIsIm9uTGluZUNsaWNrIiwidGV4dCIsIm9uQ2xpY2siXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBWUE7QUFBQTtBQUFBOztBQUNBOzs7O0FBYkE7Ozs7Ozs7Ozs7OztBQXlCTyxNQUFNQSxXQUFOLFNBQTBCLE9BQU1DLFNBQWhDLENBQWlEO0FBQ3REQyxzQkFBb0I7QUFBQTs7QUFDbEIsVUFBTUMsZ0NBQVMsS0FBS0MsSUFBTCxDQUFVRCxNQUFWLENBQWlCRSxhQUFqQixFQUFULENBQU47QUFDQSxVQUFNLEVBQUNDLE9BQUQsRUFBVUMsVUFBVixFQUFzQkMsU0FBdEIsNEJBQW1DLEtBQUtDLEtBQXhDLENBQU47O0FBRmtCO0FBSWxCLFFBQUlILE9BQUosRUFBYTtBQUFBO0FBQUE7O0FBQ1hILGFBQU9PLFVBQVAsQ0FBa0JKLE9BQWxCO0FBQ0QsS0FGRDtBQUFBO0FBQUE7O0FBSmtCO0FBUWxCLFFBQUlDLGNBQWMsSUFBbEIsRUFBd0I7QUFBQTtBQUFBOztBQUN0QkEsaUJBQVdJLE9BQVgsQ0FBbUJDLFNBQVM7QUFBQTs7QUFDMUIsY0FBTUMsZ0NBQVNWLE9BQU9XLGVBQVAsQ0FBdUIsQ0FDcEMsQ0FBQ0YsTUFBTUcsS0FBTixDQUFZQyxHQUFaLEdBQWtCUixTQUFuQixFQUE4QkksTUFBTUcsS0FBTixDQUFZRSxNQUExQyxDQURvQyxFQUVwQyxDQUFDTCxNQUFNTSxHQUFOLENBQVVGLEdBQVYsR0FBZ0JSLFNBQWpCLEVBQTRCSSxNQUFNTSxHQUFOLENBQVVELE1BQXRDLENBRm9DLENBQXZCLENBQVQsQ0FBTjtBQUQwQjtBQUsxQmQsZUFBT2dCLGNBQVAsQ0FBc0JOLE1BQXRCLEVBQThCO0FBQzVCTyxnQkFBTSxXQURzQjtBQUU1QkMsaUJBQU87QUFGcUIsU0FBOUI7QUFJRCxPQVREOztBQVdBO0FBWnNCO0FBYXRCLFVBQUlkLFdBQVdlLE1BQVgsR0FBb0IsQ0FBeEIsRUFBMkI7QUFBQTtBQUFBOztBQUN6Qm5CLGVBQU9vQixzQkFBUCxDQUE4QixDQUM1QmhCLFdBQVcsQ0FBWCxFQUFjVyxHQUFkLENBQWtCRixHQUFsQixHQUF3QlIsU0FBeEIsR0FBb0MsQ0FEUixFQUU1QkQsV0FBVyxDQUFYLEVBQWNXLEdBQWQsQ0FBa0JELE1BRlUsQ0FBOUI7QUFJRCxPQUxEO0FBQUE7QUFBQTtBQU1ELEtBbkJEO0FBQUE7QUFBQTtBQW9CRDs7QUFFRE8sV0FBcUI7QUFBQTs7QUFDbkIsVUFBTUMsc0NBQWMsRUFBZCxDQUFOO0FBRG1CO0FBRW5CLFNBQUssSUFBSUMsSUFBSSxLQUFLakIsS0FBTCxDQUFXRCxTQUF4QixFQUFtQ2tCLEtBQUssS0FBS2pCLEtBQUwsQ0FBV2tCLE9BQW5ELEVBQTRERCxHQUE1RCxFQUFpRTtBQUFBOztBQUMvREQsa0JBQVlHLElBQVosQ0FDRTtBQUFBO0FBQUE7QUFDRSxlQUFLRixDQURQO0FBRUUscUJBQVUscUNBRlo7QUFHRSxtQkFBU0csT0FBTztBQUFBO0FBQUE7QUFBQSx3QkFBS3BCLEtBQUwsQ0FBV3FCLFdBQVgsQ0FBdUJELEdBQXZCLEVBQTRCSCxDQUE1QjtBQUE4QixXQUhoRDtBQUlHQSxZQUFJO0FBSlAsT0FERjtBQVFEO0FBWGtCO0FBWW5CLFdBQ0U7QUFBQTtBQUFBLFFBQUssV0FBVSx5QkFBZjtBQUNFO0FBQUE7QUFBQSxVQUFLLFdBQVUsNENBQWY7QUFDR0Q7QUFESCxPQURGO0FBSUU7QUFDRSxhQUFJLFFBRE47QUFFRSxzQkFBYyxLQUFLaEIsS0FBTCxDQUFXc0IsSUFGM0I7QUFHRSxrQkFBVSxJQUhaO0FBSUUsaUJBQVMsS0FBS3RCLEtBQUwsQ0FBV3VCO0FBSnRCO0FBSkYsS0FERjtBQWFEO0FBeERxRDtRQUEzQ2hDLFcsR0FBQUEsVyIsImZpbGUiOiJDb2RlU25pcHBldC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDE3LXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAZmxvd1xuICogQGZvcm1hdFxuICovXG5cbmltcG9ydCB7QXRvbUlucHV0fSBmcm9tICcuL0F0b21JbnB1dCc7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbnR5cGUgUHJvcHMgPSB7XG4gIHRleHQ6IHN0cmluZyxcbiAgZ3JhbW1hcj86IGF0b20kR3JhbW1hcixcbiAgaGlnaGxpZ2h0cz86IEFycmF5PGF0b20kUmFuZ2U+LFxuICBzdGFydExpbmU6IG51bWJlcixcbiAgZW5kTGluZTogbnVtYmVyLFxuICBvbkNsaWNrOiAoZXZlbnQ6IFN5bnRoZXRpY01vdXNlRXZlbnQ8PikgPT4gbWl4ZWQsXG4gIG9uTGluZUNsaWNrOiAoZXZlbnQ6IFN5bnRoZXRpY01vdXNlRXZlbnQ8PiwgbGluZTogbnVtYmVyKSA9PiBtaXhlZCxcbn07XG5cbmV4cG9ydCBjbGFzcyBDb2RlU25pcHBldCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxQcm9wcz4ge1xuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBjb25zdCBlZGl0b3IgPSB0aGlzLnJlZnMuZWRpdG9yLmdldFRleHRFZGl0b3IoKTtcbiAgICBjb25zdCB7Z3JhbW1hciwgaGlnaGxpZ2h0cywgc3RhcnRMaW5lfSA9IHRoaXMucHJvcHM7XG5cbiAgICBpZiAoZ3JhbW1hcikge1xuICAgICAgZWRpdG9yLnNldEdyYW1tYXIoZ3JhbW1hcik7XG4gICAgfVxuXG4gICAgaWYgKGhpZ2hsaWdodHMgIT0gbnVsbCkge1xuICAgICAgaGlnaGxpZ2h0cy5mb3JFYWNoKHJhbmdlID0+IHtcbiAgICAgICAgY29uc3QgbWFya2VyID0gZWRpdG9yLm1hcmtCdWZmZXJSYW5nZShbXG4gICAgICAgICAgW3JhbmdlLnN0YXJ0LnJvdyAtIHN0YXJ0TGluZSwgcmFuZ2Uuc3RhcnQuY29sdW1uXSxcbiAgICAgICAgICBbcmFuZ2UuZW5kLnJvdyAtIHN0YXJ0TGluZSwgcmFuZ2UuZW5kLmNvbHVtbl0sXG4gICAgICAgIF0pO1xuICAgICAgICBlZGl0b3IuZGVjb3JhdGVNYXJrZXIobWFya2VyLCB7XG4gICAgICAgICAgdHlwZTogJ2hpZ2hsaWdodCcsXG4gICAgICAgICAgY2xhc3M6ICdjb2RlLXNuaXBwZXQtaGlnaGxpZ2h0JyxcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgLy8gTWFrZSBzdXJlIGF0IGxlYXN0IG9uZSBoaWdobGlnaHQgaXMgdmlzaWJsZS5cbiAgICAgIGlmIChoaWdobGlnaHRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgZWRpdG9yLnNjcm9sbFRvQnVmZmVyUG9zaXRpb24oW1xuICAgICAgICAgIGhpZ2hsaWdodHNbMF0uZW5kLnJvdyAtIHN0YXJ0TGluZSArIDEsXG4gICAgICAgICAgaGlnaGxpZ2h0c1swXS5lbmQuY29sdW1uLFxuICAgICAgICBdKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZW5kZXIoKTogUmVhY3QuTm9kZSB7XG4gICAgY29uc3QgbGluZU51bWJlcnMgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gdGhpcy5wcm9wcy5zdGFydExpbmU7IGkgPD0gdGhpcy5wcm9wcy5lbmRMaW5lOyBpKyspIHtcbiAgICAgIGxpbmVOdW1iZXJzLnB1c2goXG4gICAgICAgIDxkaXZcbiAgICAgICAgICBrZXk9e2l9XG4gICAgICAgICAgY2xhc3NOYW1lPVwibnVjbGlkZS11aS1jb2RlLXNuaXBwZXQtbGluZS1udW1iZXJcIlxuICAgICAgICAgIG9uQ2xpY2s9e2V2dCA9PiB0aGlzLnByb3BzLm9uTGluZUNsaWNrKGV2dCwgaSl9PlxuICAgICAgICAgIHtpICsgMX1cbiAgICAgICAgPC9kaXY+LFxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibnVjbGlkZS11aS1jb2RlLXNuaXBwZXRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJudWNsaWRlLXVpLWNvZGUtc25pcHBldC1saW5lLW51bWJlci1jb2x1bW5cIj5cbiAgICAgICAgICB7bGluZU51bWJlcnN9XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8QXRvbUlucHV0XG4gICAgICAgICAgcmVmPVwiZWRpdG9yXCJcbiAgICAgICAgICBpbml0aWFsVmFsdWU9e3RoaXMucHJvcHMudGV4dH1cbiAgICAgICAgICBkaXNhYmxlZD17dHJ1ZX1cbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLnByb3BzLm9uQ2xpY2t9XG4gICAgICAgIC8+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG4iXX0=