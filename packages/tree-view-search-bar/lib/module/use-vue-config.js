'use babel';

import { NAME } from './constant';

import CompileError from './compile-error';

let loader = require.extensions['.vue'];

loader.script.set('babel');

// TODO: hard to support scss file
// as the language compile system, all codes must be compiled in sync
// node-sass supports sync compiling, but it require a xx-binding.node file
// this file is generated by different system, linux, windows, drawin, etc.
// and the atom runtime environment is different from the master environment
// so it has to rebuild a true binding.node file of atom runtime environment
loader.style.register('scss', ( content, filePath, index ) => {
    // TODO: compile
    if (false) {
        throw new CompileError(`${ message }„ÄÅ${ filePath }?style=${ index - 2 }:${ line }`);
    }
    return content;
});
